(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(':root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:var(--vscode-editor-foreground);background-color:var(--vscode-editor-background);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}.card{padding:2em}#app{max-width:100%;margin:0;padding:0}div.bold{font-weight:700}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:var(--vscode-button-background);color:var(--vscode-button-foreground);cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:var(--vscode-editor-foreground);background-color:var(--vscode-editor-background)}a:hover{color:#747bff}button{background-color:var(--vscode-button-background)}}.container.svelte-cena4g{display:flex;flex-direction:row;gap:8px}.warning.svelte-cena4g{background-color:#fee243;border-radius:50%;padding:2px 8px;margin-left:4px}.chart-container.svelte-cena4g{position:relative;display:flex;justify-content:center}.rate.svelte-cena4g{position:absolute;font-weight:700;color:#fff}.rate-container.svelte-cena4g{height:1.5em;width:6em;display:flex;background-color:#f9ac95}.rate-child.svelte-cena4g{background-color:#07c507}.chart-container.svelte-znvfgs,.single-graph.svelte-znvfgs,.chart-container.svelte-143dhtq,.single-graph.svelte-143dhtq,.single-graph.svelte-1yubijv{height:100%;width:100%}.chart-grid.svelte-yi17x{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding-bottom:8px;border-bottom:1px solid black;margin-bottom:8px}.graphs.svelte-164mapl{display:grid;grid-template-columns:1fr 1fr;gap:8px}.single-graph.svelte-1yubijv{height:100%;width:100%}.backlight-orange.svelte-k0zmpu{background-color:#ffcc80b3;padding:8px;border-radius:8px;color:#000}.chart-grid.svelte-k0zmpu{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding-bottom:8px;border-bottom:1px solid black;margin-bottom:8px}.nav.svelte-101tpk8{display:flex;justify-content:center;flex-wrap:wrap;gap:8px;font-size:1.2em}.nav-item.svelte-101tpk8{padding:4px 8px;background-color:var(--vscode-tab-inactiveBackground);cursor:pointer}.nav-item.selected.svelte-101tpk8{background-color:#1414ca;color:#fff}.spacer.svelte-101tpk8{height:1em}@media (prefers-color-scheme: light){.nav-item.svelte-101tpk8{background-color:var(--vscode-tab-inactiveBackground)}}.graph-container.svelte-1rtttt{height:70vh;border:1px solid;margin-top:8px;overflow:hidden;border-radius:4px}div.warning.svelte-1asl3ao{padding:8px 16px;border-bottom:1px solid black}div.cause.svelte-1asl3ao{padding:8px;background-color:#f003;margin-bottom:4px;border-radius:2px;box-shadow:1px .5px 1px 1px rbg(0,0,0,.2)}div.code.svelte-1asl3ao{padding:8px;background-color:#1119;color:#fff;border-radius:2px}.chart-grid.svelte-1asl3ao{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding-bottom:8px;border-bottom:1px solid black;margin-bottom:8px}.chart-container.svelte-znvfgs,.single-graph.svelte-znvfgs{height:100%;width:100%}div.header.svelte-9c44bo.svelte-9c44bo{display:grid;grid-template-columns:32px 1fr;grid-template-rows:1fr 1fr;cursor:pointer}div.title.svelte-9c44bo.svelte-9c44bo,div.solution.svelte-9c44bo.svelte-9c44bo{font-weight:700}div.cause.svelte-9c44bo.svelte-9c44bo{padding:8px;background-color:#f003;margin-bottom:4px;border-radius:2px;box-shadow:1px .5px 1px 1px rbg(0,0,0,.2)}div.ppl-info.svelte-9c44bo.svelte-9c44bo{padding:8px 8px 8px 46px;position:relative;margin:8px 8px 4px;background-color:#ff5f156d;border-radius:4px;box-shadow:1px .5px 1px 1px rbg(0,0,0,.2)}div.ppl-info.svelte-9c44bo.svelte-9c44bo:before{display:block;position:absolute;left:10px;top:10px;content:"!";border-radius:50%;border:2px solid yellow;width:20px;height:20px;text-align:center;color:#ff0;font-weight:700}div.collapse.svelte-9c44bo.svelte-9c44bo{grid-row:1 / 3;display:flex;align-items:center;justify-content:start}div.collapse.svelte-9c44bo>span.svelte-9c44bo{transition:all .2s;display:flex;justify-content:center;align-items:center}div.collapse.open.svelte-9c44bo>span.svelte-9c44bo{transform:rotate(90deg);display:block;width:16px;transition:all .2s}div.code.svelte-9c44bo.svelte-9c44bo{padding:8px;background-color:#1119;color:#fff;border-radius:2px}.chart-contain.svelte-9c44bo.svelte-9c44bo{display:grid;grid-template-columns:1fr;gap:8px;padding-bottom:8px;margin-bottom:8px}.chart-grid.svelte-9c44bo.svelte-9c44bo{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding-bottom:8px;border-bottom:1px solid black;margin-bottom:8px}div.title.svelte-zka833.svelte-zka833{display:flex;align-items:center;gap:8px}div.warning.svelte-zka833.svelte-zka833{padding:8px 16px;border-bottom:1px solid black}div.header.svelte-zka833.svelte-zka833{display:grid;grid-template-columns:32px 1fr;cursor:pointer}div.title.svelte-zka833.svelte-zka833{font-weight:700}div.collapse.svelte-zka833.svelte-zka833{display:flex;align-items:center;justify-content:start}div.collapse.svelte-zka833>span.svelte-zka833{transition:all .2s;display:flex;justify-content:center;align-items:center}div.collapse.open.svelte-zka833>span.svelte-zka833{transform:rotate(90deg);display:block;width:16px;transition:all .2s}div.code.svelte-zka833.svelte-zka833{padding:8px;background-color:#1119;color:#fff;border-radius:2px}.chart-contain.svelte-zka833.svelte-zka833{display:grid;grid-template-columns:1fr;gap:8px;padding-bottom:8px;margin-bottom:8px}.chart-grid.svelte-zka833.svelte-zka833{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding-bottom:8px;border-bottom:1px solid black;margin-bottom:8px}.warnings-changed.svelte-1asl3ao{position:sticky;top:0;padding:8px 16px;background-color:red;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.progress-container.svelte-1yly4r7{width:100%;background-color:#ef0d0d;border-radius:8px;overflow:hidden}.progress-bar.svelte-1yly4r7{height:24px;background-color:#237871;text-align:center;line-height:24px;color:#fff;white-space:nowrap;overflow:visible}.progress-bar-text.svelte-1yly4r7{padding:0 16px}.page.svelte-1yly4r7{width:100%;height:100%;display:flex;flex-direction:column;gap:16px}.nav.svelte-1yly4r7{display:flex;justify-content:center;font-size:1.6em}.nav-item.svelte-1yly4r7{padding:4px 8px;background-color:var(--vscode-tab-inactiveBackground);cursor:pointer}.nav-item.svelte-1yly4r7:first-child{border-radius:4px 0 0 4px}.nav-item.svelte-1yly4r7:last-child{border-radius:0 4px 4px 0}.nav-item.selected.svelte-1yly4r7{background-color:#1414ca;color:#fff}.graph.svelte-1yly4r7{display:flex;width:100%;overflow-y:scroll;overflow-x:scroll;justify-content:center}@media (prefers-color-scheme: light){.nav-item.svelte-1yly4r7{background-color:var(--vscode-tab-inactiveBackground)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var ku=Object.defineProperty;var Cu=(n,t,e)=>t in n?ku(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var K=(n,t,e)=>Cu(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=e(l);fetch(l.href,s)}})();function w(){}function pr(n){return n()}function no(){return Object.create(null)}function En(n){n.forEach(pr)}function Gr(n){return typeof n=="function"}function Ft(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function Ku(n){return Object.keys(n).length===0}function Hu(n,...t){if(n==null){for(const i of t)i(void 0);return w}const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function ie(n,t,e){n.$$.on_destroy.push(Hu(t,e))}function v(n,t){n.appendChild(t)}function T(n,t,e){n.insertBefore(t,e||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function Jt(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function k(n){return document.createElement(n)}function zu(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function q(n){return document.createTextNode(n)}function A(){return q(" ")}function xn(){return q("")}function Dt(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function F(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function Iu(n){return Array.from(n.childNodes)}function xt(n,t){t=""+t,n.data!==t&&(n.data=t)}function io(n,t){n.value=t??""}function Ot(n,t,e,i){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,"")}function lo(n,t,e){for(let i=0;i<n.options.length;i+=1){const l=n.options[i];if(l.__value===t){l.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function Mu(n){const t=n.querySelector(":checked");return t&&t.__value}function me(n,t,e){n.classList.toggle(t,!!e)}class Zr{constructor(t=!1){K(this,"is_svg",!1);K(this,"e");K(this,"n");K(this,"t");K(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,i=null){this.e||(this.is_svg?this.e=zu(e.nodeName):this.e=k(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)T(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(N)}}let Yi;function gi(n){Yi=n}function Nu(){if(!Yi)throw new Error("Function called outside component initialization");return Yi}function na(n){Nu().$$.on_destroy.push(n)}const zn=[],Fe=[];let Tn=[];const so=[],Tu=Promise.resolve();let vs=!1;function Ju(){vs||(vs=!0,Tu.then(fr))}function Yl(n){Tn.push(n)}const ds=new Set;let kn=0;function fr(){if(kn!==0)return;const n=Yi;do{try{for(;kn<zn.length;){const t=zn[kn];kn++,gi(t),Fu(t.$$)}}catch(t){throw zn.length=0,kn=0,t}for(gi(null),zn.length=0,kn=0;Fe.length;)Fe.pop()();for(let t=0;t<Tn.length;t+=1){const e=Tn[t];ds.has(e)||(ds.add(e),e())}Tn.length=0}while(zn.length);for(;so.length;)so.pop()();vs=!1,ds.clear(),gi(n)}function Fu(n){if(n.fragment!==null){n.update(),En(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Yl)}}function Pu(n){const t=[],e=[];Tn.forEach(i=>n.indexOf(i)===-1?t.push(i):e.push(i)),e.forEach(i=>i()),Tn=t}const pl=new Set;let Zn;function yt(){Zn={r:0,c:[],p:Zn}}function Wt(){Zn.r||En(Zn.c),Zn=Zn.p}function C(n,t){n&&n.i&&(pl.delete(n),n.i(t))}function M(n,t,e,i){if(n&&n.o){if(pl.has(n))return;pl.add(n),Zn.c.push(()=>{pl.delete(n),i&&(e&&n.d(1),i())}),n.o(t)}else i&&i()}function lt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function dt(n){n&&n.c()}function st(n,t,e){const{fragment:i,after_update:l}=n.$$;i&&i.m(t,e),Yl(()=>{const s=n.$$.on_mount.map(pr).filter(Gr);n.$$.on_destroy?n.$$.on_destroy.push(...s):En(s),n.$$.on_mount=[]}),l.forEach(Yl)}function at(n,t){const e=n.$$;e.fragment!==null&&(Pu(e.after_update),En(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function wu(n,t){n.$$.dirty[0]===-1&&(zn.push(n),Ju(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Bt(n,t,e,i,l,s,a=null,o=[-1]){const c=Yi;gi(n);const d=n.$$={fragment:null,ctx:[],props:s,update:w,not_equal:l,bound:no(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:no(),dirty:o,skip_bound:!1,root:t.target||c.$$.root};a&&a(d.root);let r=!1;if(d.ctx=e?e(n,t.props||{},(h,u,...b)=>{const m=b.length?b[0]:u;return d.ctx&&l(d.ctx[h],d.ctx[h]=m)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](m),r&&wu(n,h)),u}):[],d.update(),r=!0,En(d.before_update),d.fragment=i?i(d.ctx):!1,t.target){if(t.hydrate){const h=Iu(t.target);d.fragment&&d.fragment.l(h),h.forEach(N)}else d.fragment&&d.fragment.c();t.intro&&C(n.$$.fragment),st(n,t.target,t.anchor),fr()}gi(c)}class Et{constructor(){K(this,"$$");K(this,"$$set")}$destroy(){at(this,1),this.$destroy=w}$on(t,e){if(!Gr(e))return w;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const l=i.indexOf(e);l!==-1&&i.splice(l,1)}}$set(t){this.$$set&&!Ku(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Qu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qu);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ni(n){return n+.5|0}const Ue=(n,t,e)=>Math.max(Math.min(n,e),t);function bi(n){return Ue(Ni(n*2.55),0,255)}function De(n){return Ue(Ni(n*255),0,255)}function Ie(n){return Ue(Ni(n/2.55)/100,0,1)}function ao(n){return Ue(Ni(n*100),0,100)}const he={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ks=[..."0123456789ABCDEF"],ju=n=>ks[n&15],Uu=n=>ks[(n&240)>>4]+ks[n&15],Di=n=>(n&240)>>4===(n&15),Ou=n=>Di(n.r)&&Di(n.g)&&Di(n.b)&&Di(n.a);function Bu(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&he[n[1]]*17,g:255&he[n[2]]*17,b:255&he[n[3]]*17,a:t===5?he[n[4]]*17:255}:(t===7||t===9)&&(e={r:he[n[1]]<<4|he[n[2]],g:he[n[3]]<<4|he[n[4]],b:he[n[5]]<<4|he[n[6]],a:t===9?he[n[7]]<<4|he[n[8]]:255})),e}const Eu=(n,t)=>n<255?t(n):"";function _u(n){var t=Ou(n)?ju:Uu;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Eu(n.a,t):void 0}const Du=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xr(n,t,e){const i=t*Math.min(e,1-e),l=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[l(0),l(8),l(4)]}function Au(n,t,e){const i=(l,s=(l+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function $u(n,t,e){const i=Xr(n,1,.5);let l;for(t+e>1&&(l=1/(t+e),t*=l,e*=l),l=0;l<3;l++)i[l]*=1-t-e,i[l]+=t;return i}function qu(n,t,e,i,l){return n===l?(t-e)/i+(t<e?6:0):t===l?(e-n)/i+2:(n-t)/i+4}function ia(n){const e=n.r/255,i=n.g/255,l=n.b/255,s=Math.max(e,i,l),a=Math.min(e,i,l),o=(s+a)/2;let c,d,r;return s!==a&&(r=s-a,d=o>.5?r/(2-s-a):r/(s+a),c=qu(e,i,l,r,s),c=c*60+.5),[c|0,d||0,o]}function la(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(De)}function sa(n,t,e){return la(Xr,n,t,e)}function tb(n,t,e){return la($u,n,t,e)}function eb(n,t,e){return la(Au,n,t,e)}function yr(n){return(n%360+360)%360}function nb(n){const t=Du.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?bi(+t[5]):De(+t[5]));const l=yr(+t[2]),s=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=tb(l,s,a):t[1]==="hsv"?i=eb(l,s,a):i=sa(l,s,a),{r:i[0],g:i[1],b:i[2],a:e}}function ib(n,t){var e=ia(n);e[0]=yr(e[0]+t),e=sa(e),n.r=e[0],n.g=e[1],n.b=e[2]}function lb(n){if(!n)return;const t=ia(n),e=t[0],i=ao(t[1]),l=ao(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${l}%, ${Ie(n.a)})`:`hsl(${e}, ${i}%, ${l}%)`}const oo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},co={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sb(){const n={},t=Object.keys(co),e=Object.keys(oo);let i,l,s,a,o;for(i=0;i<t.length;i++){for(a=o=t[i],l=0;l<e.length;l++)s=e[l],o=o.replace(s,oo[s]);s=parseInt(co[a],16),n[o]=[s>>16&255,s>>8&255,s&255]}return n}let Ai;function ab(n){Ai||(Ai=sb(),Ai.transparent=[0,0,0,0]);const t=Ai[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ob=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cb(n){const t=ob.exec(n);let e=255,i,l,s;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?bi(a):Ue(a*255,0,255)}return i=+t[1],l=+t[3],s=+t[5],i=255&(t[2]?bi(i):Ue(i,0,255)),l=255&(t[4]?bi(l):Ue(l,0,255)),s=255&(t[6]?bi(s):Ue(s,0,255)),{r:i,g:l,b:s,a:e}}}function db(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ie(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const rs=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Cn=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function rb(n,t,e){const i=Cn(Ie(n.r)),l=Cn(Ie(n.g)),s=Cn(Ie(n.b));return{r:De(rs(i+e*(Cn(Ie(t.r))-i))),g:De(rs(l+e*(Cn(Ie(t.g))-l))),b:De(rs(s+e*(Cn(Ie(t.b))-s))),a:n.a+e*(t.a-n.a)}}function $i(n,t,e){if(n){let i=ia(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=sa(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Wr(n,t){return n&&Object.assign(t||{},n)}function ro(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=De(n[3]))):(t=Wr(n,{r:0,g:0,b:0,a:1}),t.a=De(t.a)),t}function hb(n){return n.charAt(0)==="r"?cb(n):nb(n)}class vi{constructor(t){if(t instanceof vi)return t;const e=typeof t;let i;e==="object"?i=ro(t):e==="string"&&(i=Bu(t)||ab(t)||hb(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Wr(this._rgb);return t&&(t.a=Ie(t.a)),t}set rgb(t){this._rgb=ro(t)}rgbString(){return this._valid?db(this._rgb):void 0}hexString(){return this._valid?_u(this._rgb):void 0}hslString(){return this._valid?lb(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,l=t.rgb;let s;const a=e===s?.5:e,o=2*a-1,c=i.a-l.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;s=1-d,i.r=255&d*i.r+s*l.r+.5,i.g=255&d*i.g+s*l.g+.5,i.b=255&d*i.b+s*l.b+.5,i.a=a*i.a+(1-a)*l.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=rb(this._rgb,t._rgb,e)),this}clone(){return new vi(this.rgb)}alpha(t){return this._rgb.a=De(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ni(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $i(this._rgb,2,t),this}darken(t){return $i(this._rgb,2,-t),this}saturate(t){return $i(this._rgb,1,t),this}desaturate(t){return $i(this._rgb,1,-t),this}rotate(t){return ib(this._rgb,t),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ke(){}const ub=(()=>{let n=0;return()=>n++})();function ct(n){return n===null||typeof n>"u"}function mt(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Rt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function se(n,t){return Rt(n)?n:t}function D(n,t){return typeof n>"u"?t:n}const bb=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,gr=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Gt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,i){let l,s,a;if(mt(n))for(s=n.length,l=0;l<s;l++)t.call(e,n[l],l);else if($(n))for(a=Object.keys(n),s=a.length,l=0;l<s;l++)t.call(e,n[a[l]],a[l])}function vl(n,t){let e,i,l,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(l=n[e],s=t[e],l.datasetIndex!==s.datasetIndex||l.index!==s.index)return!1;return!0}function kl(n){if(mt(n))return n.map(kl);if($(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let l=0;for(;l<i;++l)t[e[l]]=kl(n[e[l]]);return t}return n}function Lr(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function mb(n,t,e,i){if(!Lr(n))return;const l=t[n],s=e[n];$(l)&&$(s)?ki(l,s,i):t[n]=kl(s)}function ki(n,t,e){const i=mt(t)?t:[t],l=i.length;if(!$(n))return n;e=e||{};const s=e.merger||mb;let a;for(let o=0;o<l;++o){if(a=i[o],!$(a))continue;const c=Object.keys(a);for(let d=0,r=c.length;d<r;++d)s(c[d],n,a,e)}return n}function Li(n,t){return ki(n,t,{merger:pb})}function pb(n,t,e){if(!Lr(n))return;const i=t[n],l=e[n];$(i)&&$(l)?Li(i,l):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=kl(l))}const ho={"":n=>n,x:n=>n.x,y:n=>n.y};function Gb(n){const t=n.split("."),e=[];let i="";for(const l of t)i+=l,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Zb(n){const t=Gb(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function qe(n,t){return(ho[t]||(ho[t]=Zb(t)))(n)}function aa(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ne=n=>typeof n<"u",ee=n=>typeof n=="function",uo=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function fb(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const tt=Math.PI,gt=2*tt,Xb=gt+tt,Cl=Number.POSITIVE_INFINITY,oa=tt/180,Lt=tt/2,ue=tt/4,Kl=tt*2/3,Oe=Math.log10,Re=Math.sign;function xi(n,t,e){return Math.abs(n-t)<e}function bo(n){const t=Math.round(n);n=xi(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Oe(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function yb(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((l,s)=>l-s).pop(),t}function tn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Wb(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function xr(n,t,e){let i,l,s;for(i=0,l=n.length;i<l;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function vt(n){return n*(tt/180)}function Ul(n){return n*(180/tt)}function mo(n){if(!Rt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Hl(n,t){const e=t.x-n.x,i=t.y-n.y,l=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*tt&&(s+=gt),{angle:s,distance:l}}function wn(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function gb(n,t){return(n-t+Xb)%gt-tt}function oe(n){return(n%gt+gt)%gt}function Ci(n,t,e,i){const l=oe(n),s=oe(t),a=oe(e),o=oe(s-l),c=oe(a-l),d=oe(l-s),r=oe(l-a);return l===s||l===a||i&&s===a||o>c&&d<r}function It(n,t,e){return Math.max(t,Math.min(e,n))}function Lb(n){return It(n,-32768,32767)}function Me(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function ca(n,t,e){e=e||(a=>n[a]<t);let i=n.length-1,l=0,s;for(;i-l>1;)s=l+i>>1,e(s)?l=s:i=s;return{lo:l,hi:i}}const Ne=(n,t,e,i)=>ca(n,e,i?l=>{const s=n[l][t];return s<e||s===e&&n[l+1][t]===e}:l=>n[l][t]<e),xb=(n,t,e)=>ca(n,e,i=>n[i][t]>=e);function Rb(n,t,e){let i=0,l=n.length;for(;i<l&&n[i]<t;)i++;for(;l>i&&n[l-1]>e;)l--;return i>0||l<n.length?n.slice(i,l):n}const Rr=["push","pop","shift","splice","unshift"];function Sb(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Rr.forEach(e=>{const i="_onData"+aa(e),l=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=l.apply(this,s);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...s)}),a}})})}function po(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,l=i.indexOf(t);l!==-1&&i.splice(l,1),!(i.length>0)&&(Rr.forEach(s=>{delete n[s]}),delete n._chartjs)}function Sr(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Vr=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Yr(n,t){let e=[],i=!1;return function(...l){e=l,i||(i=!0,Vr.call(window,()=>{i=!1,n.apply(t,e)}))}}function Vb(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const da=n=>n==="start"?"left":n==="end"?"right":"center",jt=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Yb=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function vr(n,t,e){const i=t.length;let l=0,s=i;if(n._sorted){const{iScale:a,_parsed:o}=n,c=a.axis,{min:d,max:r,minDefined:h,maxDefined:u}=a.getUserBounds();h&&(l=It(Math.min(Ne(o,c,d).lo,e?i:Ne(t,c,a.getPixelForValue(d)).lo),0,i-1)),u?s=It(Math.max(Ne(o,a.axis,r,!0).hi+1,e?0:Ne(t,c,a.getPixelForValue(r),!0).hi+1),l,i)-l:s=i-l}return{start:l,count:s}}function kr(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,l={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=l,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,l),s}const qi=n=>n===0||n===1,Go=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*gt/e)),Zo=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*gt/e)+1,Ri={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Lt)+1,easeOutSine:n=>Math.sin(n*Lt),easeInOutSine:n=>-.5*(Math.cos(tt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>qi(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>qi(n)?n:Go(n,.075,.3),easeOutElastic:n=>qi(n)?n:Zo(n,.075,.3),easeInOutElastic(n){return qi(n)?n:n<.5?.5*Go(n*2,.1125,.45):.5+.5*Zo(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ri.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ri.easeInBounce(n*2)*.5:Ri.easeOutBounce(n*2-1)*.5+.5};function ra(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fo(n){return ra(n)?n:new vi(n)}function hs(n){return ra(n)?n:new vi(n).saturate(.5).darken(.1).hexString()}const vb=["x","y","borderWidth","radius","tension"],kb=["color","borderColor","backgroundColor"];function Cb(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:kb},numbers:{type:"number",properties:vb}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Kb(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xo=new Map;function Hb(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Xo.get(e);return i||(i=new Intl.NumberFormat(n,t),Xo.set(e,i)),i}function Ti(n,t,e){return Hb(t,e).format(n)}const Cr={values(n){return mt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let l,s=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(l="scientific"),s=zb(n,e)}const a=Oe(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:l,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Ti(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Oe(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?Cr.numeric.call(this,n,t,e):""}};function zb(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Ol={formatters:Cr};function Ib(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ol.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const yn=Object.create(null),Cs=Object.create(null);function Si(n,t){if(!t)return n;const e=t.split(".");for(let i=0,l=e.length;i<l;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function us(n,t,e){return typeof t=="string"?ki(Si(n,t),e):ki(Si(n,""),t)}class Mb{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,l)=>hs(l.backgroundColor),this.hoverBorderColor=(i,l)=>hs(l.borderColor),this.hoverColor=(i,l)=>hs(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return us(this,t,e)}get(t){return Si(this,t)}describe(t,e){return us(Cs,t,e)}override(t,e){return us(yn,t,e)}route(t,e,i,l){const s=Si(this,t),a=Si(this,i),o="_"+e;Object.defineProperties(s,{[o]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[o],d=a[l];return $(c)?Object.assign({},d,c):D(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(e=>e(this))}}var Vt=new Mb({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Cb,Kb,Ib]);function Nb(n){return!n||ct(n.size)||ct(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function zl(n,t,e,i,l){let s=t[l];return s||(s=t[l]=n.measureText(l).width,e.push(l)),s>i&&(i=s),i}function Tb(n,t,e,i){i=i||{};let l=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(l=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const o=e.length;let c,d,r,h,u;for(c=0;c<o;c++)if(h=e[c],h!=null&&!mt(h))a=zl(n,l,s,a,h);else if(mt(h))for(d=0,r=h.length;d<r;d++)u=h[d],u!=null&&!mt(u)&&(a=zl(n,l,s,a,u));n.restore();const b=s.length/2;if(b>e.length){for(c=0;c<b;c++)delete l[s[c]];s.splice(0,b)}return a}function hn(n,t,e){const i=n.currentDevicePixelRatio,l=e!==0?Math.max(e/2,.5):0;return Math.round((t-l)*i)/i+l}function yo(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ks(n,t,e,i){Kr(n,t,e,i,null)}function Kr(n,t,e,i,l){let s,a,o,c,d,r,h,u;const b=t.pointStyle,m=t.rotation,p=t.radius;let Z=(m||0)*oa;if(b&&typeof b=="object"&&(s=b.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(Z),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),b){default:l?n.ellipse(e,i,l/2,p,0,0,gt):n.arc(e,i,p,0,gt),n.closePath();break;case"triangle":r=l?l/2:p,n.moveTo(e+Math.sin(Z)*r,i-Math.cos(Z)*p),Z+=Kl,n.lineTo(e+Math.sin(Z)*r,i-Math.cos(Z)*p),Z+=Kl,n.lineTo(e+Math.sin(Z)*r,i-Math.cos(Z)*p),n.closePath();break;case"rectRounded":d=p*.516,c=p-d,a=Math.cos(Z+ue)*c,h=Math.cos(Z+ue)*(l?l/2-d:c),o=Math.sin(Z+ue)*c,u=Math.sin(Z+ue)*(l?l/2-d:c),n.arc(e-h,i-o,d,Z-tt,Z-Lt),n.arc(e+u,i-a,d,Z-Lt,Z),n.arc(e+h,i+o,d,Z,Z+Lt),n.arc(e-u,i+a,d,Z+Lt,Z+tt),n.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*p,r=l?l/2:c,n.rect(e-r,i-c,2*r,2*c);break}Z+=ue;case"rectRot":h=Math.cos(Z)*(l?l/2:p),a=Math.cos(Z)*p,o=Math.sin(Z)*p,u=Math.sin(Z)*(l?l/2:p),n.moveTo(e-h,i-o),n.lineTo(e+u,i-a),n.lineTo(e+h,i+o),n.lineTo(e-u,i+a),n.closePath();break;case"crossRot":Z+=ue;case"cross":h=Math.cos(Z)*(l?l/2:p),a=Math.cos(Z)*p,o=Math.sin(Z)*p,u=Math.sin(Z)*(l?l/2:p),n.moveTo(e-h,i-o),n.lineTo(e+h,i+o),n.moveTo(e+u,i-a),n.lineTo(e-u,i+a);break;case"star":h=Math.cos(Z)*(l?l/2:p),a=Math.cos(Z)*p,o=Math.sin(Z)*p,u=Math.sin(Z)*(l?l/2:p),n.moveTo(e-h,i-o),n.lineTo(e+h,i+o),n.moveTo(e+u,i-a),n.lineTo(e-u,i+a),Z+=ue,h=Math.cos(Z)*(l?l/2:p),a=Math.cos(Z)*p,o=Math.sin(Z)*p,u=Math.sin(Z)*(l?l/2:p),n.moveTo(e-h,i-o),n.lineTo(e+h,i+o),n.moveTo(e+u,i-a),n.lineTo(e-u,i+a);break;case"line":a=l?l/2:Math.cos(Z)*p,o=Math.sin(Z)*p,n.moveTo(e-a,i-o),n.lineTo(e+a,i+o);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(Z)*(l?l/2:p),i+Math.sin(Z)*p);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Te(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ji(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Fi(n){n.restore()}function Jb(n,t,e,i,l){if(!t)return n.lineTo(e.x,e.y);if(l==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else l==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Fb(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Pb(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ct(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function wb(n,t,e,i,l){if(l.strikethrough||l.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,c=e-s.actualBoundingBoxAscent,d=e+s.actualBoundingBoxDescent,r=l.strikethrough?(c+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(a,r),n.lineTo(o,r),n.stroke()}}function Qb(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Wn(n,t,e,i,l,s={}){const a=mt(t)?t:[t],o=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(n.save(),n.font=l.string,Pb(n,s),c=0;c<a.length;++c)d=a[c],s.backdrop&&Qb(n,s.backdrop),o&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ct(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,e,i,s.maxWidth)),n.fillText(d,e,i,s.maxWidth),wb(n,e,i,d,s),i+=Number(l.lineHeight);n.restore()}function Qn(n,t){const{x:e,y:i,w:l,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,1.5*tt,tt,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,tt,Lt,!0),n.lineTo(e+l-a.bottomRight,i+s),n.arc(e+l-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Lt,0,!0),n.lineTo(e+l,i+a.topRight),n.arc(e+l-a.topRight,i+a.topRight,a.topRight,0,-Lt,!0),n.lineTo(e+a.topLeft,i)}const jb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ub=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ob(n,t){const e=(""+n).match(jb);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Bb=n=>+n||0;function ha(n,t){const e={},i=$(t),l=i?Object.keys(t):t,s=$(n)?i?a=>D(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of l)e[a]=Bb(s(a));return e}function Hr(n){return ha(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ae(n){return ha(n,["topLeft","topRight","bottomLeft","bottomRight"])}function kt(n){const t=Hr(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Yt(n,t){n=n||{},t=t||Vt.font;let e=D(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=D(n.style,t.style);i&&!(""+i).match(Ub)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const l={family:D(n.family,t.family),lineHeight:Ob(D(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:D(n.weight,t.weight),string:""};return l.string=Nb(l),l}function mi(n,t,e,i){let l,s,a;for(l=0,s=n.length;l<s;++l)if(a=n[l],a!==void 0&&a!==void 0)return a}function Eb(n,t,e){const{min:i,max:l}=n,s=gr(t,(l-i)/2),a=(o,c)=>e&&o===0?0:o+c;return{min:a(i,-Math.abs(s)),max:a(l,s)}}function nn(n,t){return Object.assign(Object.create(n),t)}function ua(n,t=[""],e,i,l=()=>n[0]){const s=e||n;typeof i>"u"&&(i=Nr("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:l,override:o=>ua([o,...n],t,s,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete n[0][c],!0},get(o,c){return Ir(o,c,()=>nm(c,t,n,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,c){return go(o).includes(c)},ownKeys(o){return go(o)},set(o,c,d){const r=o._storage||(o._storage=l());return o[c]=r[c]=d,delete o._keys,!0}})}function jn(n,t,e,i){const l={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:zr(n,i),setContext:s=>jn(n,s,e,i),override:s=>jn(n.override(s),t,e,i)};return new Proxy(l,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,o){return Ir(s,a,()=>Db(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,o){return n[a]=o,delete s[a],!0}})}function zr(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:l=t.allKeys}=n;return{allKeys:l,scriptable:e,indexable:i,isScriptable:ee(e)?e:()=>e,isIndexable:ee(i)?i:()=>i}}const _b=(n,t)=>n?n+aa(t):t,ba=(n,t)=>$(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ir(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Db(n,t,e){const{_proxy:i,_context:l,_subProxy:s,_descriptors:a}=n;let o=i[t];return ee(o)&&a.isScriptable(t)&&(o=Ab(t,o,n,e)),mt(o)&&o.length&&(o=$b(t,o,n,a.isIndexable)),ba(t,o)&&(o=jn(o,l,s&&s[t],a)),o}function Ab(n,t,e,i){const{_proxy:l,_context:s,_subProxy:a,_stack:o}=e;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let c=t(s,a||i);return o.delete(n),ba(n,c)&&(c=ma(l._scopes,l,n,c)),c}function $b(n,t,e,i){const{_proxy:l,_context:s,_subProxy:a,_descriptors:o}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if($(t[0])){const c=t,d=l._scopes.filter(r=>r!==c);t=[];for(const r of c){const h=ma(d,l,n,r);t.push(jn(h,s,a&&a[n],o))}}return t}function Mr(n,t,e){return ee(n)?n(t,e):n}const qb=(n,t)=>n===!0?t:typeof n=="string"?qe(t,n):void 0;function tm(n,t,e,i,l){for(const s of t){const a=qb(e,s);if(a){n.add(a);const o=Mr(a._fallback,e,l);if(typeof o<"u"&&o!==e&&o!==i)return o}else if(a===!1&&typeof i<"u"&&e!==i)return null}return!1}function ma(n,t,e,i){const l=t._rootScopes,s=Mr(t._fallback,e,i),a=[...n,...l],o=new Set;o.add(i);let c=Wo(o,a,e,s||e,i);return c===null||typeof s<"u"&&s!==e&&(c=Wo(o,a,s,c,i),c===null)?!1:ua(Array.from(o),[""],l,s,()=>em(t,e,i))}function Wo(n,t,e,i,l){for(;e;)e=tm(n,t,e,i,l);return e}function em(n,t,e){const i=n._getTarget();t in i||(i[t]={});const l=i[t];return mt(l)&&$(e)?e:l||{}}function nm(n,t,e,i){let l;for(const s of t)if(l=Nr(_b(s,n),e),typeof l<"u")return ba(n,l)?ma(e,i,n,l):l}function Nr(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function go(n){let t=n._keys;return t||(t=n._keys=im(n._scopes)),t}function im(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(l=>!l.startsWith("_")))t.add(i);return Array.from(t)}function Tr(n,t,e,i){const{iScale:l}=n,{key:s="r"}=this._parsing,a=new Array(i);let o,c,d,r;for(o=0,c=i;o<c;++o)d=o+e,r=t[d],a[o]={r:l.parse(qe(r,s),d)};return a}const lm=Number.EPSILON||1e-14,Un=(n,t)=>t<n.length&&!n[t].skip&&n[t],Jr=n=>n==="x"?"y":"x";function sm(n,t,e,i){const l=n.skip?t:n,s=t,a=e.skip?t:e,o=wn(s,l),c=wn(a,s);let d=o/(o+c),r=c/(o+c);d=isNaN(d)?0:d,r=isNaN(r)?0:r;const h=i*d,u=i*r;return{previous:{x:s.x-h*(a.x-l.x),y:s.y-h*(a.y-l.y)},next:{x:s.x+u*(a.x-l.x),y:s.y+u*(a.y-l.y)}}}function am(n,t,e){const i=n.length;let l,s,a,o,c,d=Un(n,0);for(let r=0;r<i-1;++r)if(c=d,d=Un(n,r+1),!(!c||!d)){if(xi(t[r],0,lm)){e[r]=e[r+1]=0;continue}l=e[r]/t[r],s=e[r+1]/t[r],o=Math.pow(l,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),e[r]=l*a*t[r],e[r+1]=s*a*t[r])}}function om(n,t,e="x"){const i=Jr(e),l=n.length;let s,a,o,c=Un(n,0);for(let d=0;d<l;++d){if(a=o,o=c,c=Un(n,d+1),!o)continue;const r=o[e],h=o[i];a&&(s=(r-a[e])/3,o[`cp1${e}`]=r-s,o[`cp1${i}`]=h-s*t[d]),c&&(s=(c[e]-r)/3,o[`cp2${e}`]=r+s,o[`cp2${i}`]=h+s*t[d])}}function cm(n,t="x"){const e=Jr(t),i=n.length,l=Array(i).fill(0),s=Array(i);let a,o,c,d=Un(n,0);for(a=0;a<i;++a)if(o=c,c=d,d=Un(n,a+1),!!c){if(d){const r=d[t]-c[t];l[a]=r!==0?(d[e]-c[e])/r:0}s[a]=o?d?Re(l[a-1])!==Re(l[a])?0:(l[a-1]+l[a])/2:l[a-1]:l[a]}am(n,l,s),om(n,s,t)}function tl(n,t,e){return Math.max(Math.min(n,e),t)}function dm(n,t){let e,i,l,s,a,o=Te(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=o,o=e<i-1&&Te(n[e+1],t),s&&(l=n[e],a&&(l.cp1x=tl(l.cp1x,t.left,t.right),l.cp1y=tl(l.cp1y,t.top,t.bottom)),o&&(l.cp2x=tl(l.cp2x,t.left,t.right),l.cp2y=tl(l.cp2y,t.top,t.bottom)))}function rm(n,t,e,i,l){let s,a,o,c;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")cm(n,l);else{let d=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)o=n[s],c=sm(d,o,n[Math.min(s+1,a-(i?0:1))%a],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&dm(n,e)}function pa(){return typeof window<"u"&&typeof document<"u"}function Ga(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Il(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Bl=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function hm(n,t){return Bl(n).getPropertyValue(t)}const um=["top","right","bottom","left"];function Xn(n,t,e){const i={};e=e?"-"+e:"";for(let l=0;l<4;l++){const s=um[l];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const bm=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function mm(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:l,offsetY:s}=i;let a=!1,o,c;if(bm(l,s,n.target))o=l,c=s;else{const d=t.getBoundingClientRect();o=i.clientX-d.left,c=i.clientY-d.top,a=!0}return{x:o,y:c,box:a}}function pn(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,l=Bl(e),s=l.boxSizing==="border-box",a=Xn(l,"padding"),o=Xn(l,"border","width"),{x:c,y:d,box:r}=mm(n,e),h=a.left+(r&&o.left),u=a.top+(r&&o.top);let{width:b,height:m}=t;return s&&(b-=a.width+o.width,m-=a.height+o.height),{x:Math.round((c-h)/b*e.width/i),y:Math.round((d-u)/m*e.height/i)}}function pm(n,t,e){let i,l;if(t===void 0||e===void 0){const s=n&&Ga(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const a=s.getBoundingClientRect(),o=Bl(s),c=Xn(o,"border","width"),d=Xn(o,"padding");t=a.width-d.width-c.width,e=a.height-d.height-c.height,i=Il(o.maxWidth,s,"clientWidth"),l=Il(o.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||Cl,maxHeight:l||Cl}}const el=n=>Math.round(n*10)/10;function Gm(n,t,e,i){const l=Bl(n),s=Xn(l,"margin"),a=Il(l.maxWidth,n,"clientWidth")||Cl,o=Il(l.maxHeight,n,"clientHeight")||Cl,c=pm(n,t,e);let{width:d,height:r}=c;if(l.boxSizing==="content-box"){const u=Xn(l,"border","width"),b=Xn(l,"padding");d-=b.width+u.width,r-=b.height+u.height}return d=Math.max(0,d-s.width),r=Math.max(0,i?d/i:r-s.height),d=el(Math.min(d,a,c.maxWidth)),r=el(Math.min(r,o,c.maxHeight)),d&&!r&&(r=el(d/2)),(t!==void 0||e!==void 0)&&i&&c.height&&r>c.height&&(r=c.height,d=el(Math.floor(r*i))),{width:d,height:r}}function Lo(n,t,e){const i=t||1,l=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==l||a.width!==s?(n.currentDevicePixelRatio=i,a.height=l,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Zm=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};pa()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function xo(n,t){const e=hm(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Gn(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function fm(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Xm(n,t,e,i){const l={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=Gn(n,l,e),o=Gn(l,s,e),c=Gn(s,t,e),d=Gn(a,o,e),r=Gn(o,c,e);return Gn(d,r,e)}const ym=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Wm=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Jn(n,t,e){return n?ym(t,e):Wm()}function Fr(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Pr(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function wr(n){return n==="angle"?{between:Ci,compare:gb,normalize:oe}:{between:Me,compare:(t,e)=>t-e,normalize:t=>t}}function Ro({start:n,end:t,count:e,loop:i,style:l}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:l}}function gm(n,t,e){const{property:i,start:l,end:s}=e,{between:a,normalize:o}=wr(i),c=t.length;let{start:d,end:r,loop:h}=n,u,b;if(h){for(d+=c,r+=c,u=0,b=c;u<b&&a(o(t[d%c][i]),l,s);++u)d--,r--;d%=c,r%=c}return r<d&&(r+=c),{start:d,end:r,loop:h,style:n.style}}function Qr(n,t,e){if(!e)return[n];const{property:i,start:l,end:s}=e,a=t.length,{compare:o,between:c,normalize:d}=wr(i),{start:r,end:h,loop:u,style:b}=gm(n,t,e),m=[];let p=!1,Z=null,G,f,y;const X=()=>c(l,y,G)&&o(l,y)!==0,W=()=>o(s,G)===0||c(s,y,G),L=()=>p||X(),S=()=>!p||W();for(let g=r,x=r;g<=h;++g)f=t[g%a],!f.skip&&(G=d(f[i]),G!==y&&(p=c(G,l,s),Z===null&&L()&&(Z=o(G,l)===0?g:x),Z!==null&&S()&&(m.push(Ro({start:Z,end:g,loop:u,count:a,style:b})),Z=null),x=g,y=G));return Z!==null&&m.push(Ro({start:Z,end:h,loop:u,count:a,style:b})),m}function jr(n,t){const e=[],i=n.segments;for(let l=0;l<i.length;l++){const s=Qr(i[l],n.points,t);s.length&&e.push(...s)}return e}function Lm(n,t,e,i){let l=0,s=t-1;if(e&&!i)for(;l<t&&!n[l].skip;)l++;for(;l<t&&n[l].skip;)l++;for(l%=t,e&&(s+=l);s>l&&n[s%t].skip;)s--;return s%=t,{start:l,end:s}}function xm(n,t,e,i){const l=n.length,s=[];let a=t,o=n[t],c;for(c=t+1;c<=e;++c){const d=n[c%l];d.skip||d.stop?o.skip||(i=!1,s.push({start:t%l,end:(c-1)%l,loop:i}),t=a=d.stop?c:null):(a=c,o.skip&&(t=c)),o=d}return a!==null&&s.push({start:t%l,end:a%l,loop:i}),s}function Rm(n,t){const e=n.points,i=n.options.spanGaps,l=e.length;if(!l)return[];const s=!!n._loop,{start:a,end:o}=Lm(e,l,s,i);if(i===!0)return So(n,[{start:a,end:o,loop:s}],e,t);const c=o<a?o+l:o,d=!!n._fullLoop&&a===0&&o===l-1;return So(n,xm(e,a,c,d),e,t)}function So(n,t,e,i){return!i||!i.setContext||!e?t:Sm(n,t,e,i)}function Sm(n,t,e,i){const l=n._chart.getContext(),s=Vo(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,c=e.length,d=[];let r=s,h=t[0].start,u=h;function b(m,p,Z,G){const f=o?-1:1;if(m!==p){for(m+=c;e[m%c].skip;)m-=f;for(;e[p%c].skip;)p+=f;m%c!==p%c&&(d.push({start:m%c,end:p%c,loop:Z,style:G}),r=G,h=p%c)}}for(const m of t){h=o?h:m.start;let p=e[h%c],Z;for(u=h+1;u<=m.end;u++){const G=e[u%c];Z=Vo(i.setContext(nn(l,{type:"segment",p0:p,p1:G,p0DataIndex:(u-1)%c,p1DataIndex:u%c,datasetIndex:a}))),Vm(Z,r)&&b(h,u-1,m.loop,r),p=G,r=Z}h<u-1&&b(h,u-1,m.loop,r)}return d}function Vo(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Vm(n,t){if(!t)return!1;const e=[],i=function(l,s){return ra(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Ym{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,l){const s=e.listeners[l],a=e.duration;s.forEach(o=>o({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Vr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,l)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,o=!1,c;for(;a>=0;--a)c=s[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),o=!0):(s[a]=s[s.length-1],s.pop());o&&(l.draw(),this._notify(l,i,t,"progress")),s.length||(i.running=!1,this._notify(l,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,l)=>Math.max(i,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let l=i.length-1;for(;l>=0;--l)i[l].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var He=new Ym;const Yo="transparent",vm={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=fo(n||Yo),l=i.valid&&fo(t||Yo);return l&&l.valid?l.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class km{constructor(t,e,i,l){const s=e[i];l=mi([t.to,l,s,t.from]);const a=mi([t.from,s,l]);this._active=!0,this._fn=t.fn||vm[t.type||typeof a],this._easing=Ri[t.easing]||Ri.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=l,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const l=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=mi([t.to,e,l,t.from]),this._from=mi([t.from,l,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,l=this._prop,s=this._from,a=this._loop,o=this._to;let c;if(this._active=s!==o&&(a||e<i),!this._active){this._target[l]=o,this._notify(!0);return}if(e<0){this._target[l]=s;return}c=e/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[l]=this._fn(s,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let l=0;l<i.length;l++)i[l][e]()}}class Za{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$(t))return;const e=Object.keys(Vt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const s=t[l];if(!$(s))return;const a={};for(const o of e)a[o]=s[o];(mt(s.properties)&&s.properties||[l]).forEach(o=>{(o===l||!i.has(o))&&i.set(o,a)})})}_animateOptions(t,e){const i=e.options,l=Km(t,i);if(!l)return[];const s=this._createAnimations(l,i);return i.$shared&&Cm(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,l=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){l.push(...this._animateOptions(t,e));continue}const r=e[d];let h=s[d];const u=i.get(d);if(h)if(u&&h.active()){h.update(u,r,o);continue}else h.cancel();if(!u||!u.duration){t[d]=r;continue}s[d]=h=new km(u,t,d,r),l.push(h)}return l}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return He.add(this._chart,i),!0}}function Cm(n,t){const e=[],i=Object.keys(t);for(let l=0;l<i.length;l++){const s=n[i[l]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function Km(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function vo(n,t){const e=n&&n.options||{},i=e.reverse,l=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:l,end:i?l:s}}function Hm(n,t,e){if(e===!1)return!1;const i=vo(n,e),l=vo(t,e);return{top:l.end,right:i.end,bottom:l.start,left:i.start}}function zm(n){let t,e,i,l;return $(n)?(t=n.top,e=n.right,i=n.bottom,l=n.left):t=e=i=l=n,{top:t,right:e,bottom:i,left:l,disabled:n===!1}}function Ur(n,t){const e=[],i=n._getSortedDatasetMetas(t);let l,s;for(l=0,s=i.length;l<s;++l)e.push(i[l].index);return e}function ko(n,t,e,i={}){const l=n.keys,s=i.mode==="single";let a,o,c,d;if(t!==null){for(a=0,o=l.length;a<o;++a){if(c=+l[a],c===e){if(i.all)continue;break}d=n.values[c],Rt(d)&&(s||t===0||Re(t)===Re(d))&&(t+=d)}return t}}function Im(n,t){const{iScale:e,vScale:i}=t,l=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(n),o=new Array(a.length);let c,d,r;for(c=0,d=a.length;c<d;++c)r=a[c],o[c]={[l]:r,[s]:n[r]};return o}function Co(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Mm(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Nm(n){const{min:t,max:e,minDefined:i,maxDefined:l}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:l?e:Number.POSITIVE_INFINITY}}function Tm(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Ko(n,t,e,i){for(const l of t.getMatchingVisibleMetas(i).reverse()){const s=n[l.index];if(e&&s>0||!e&&s<0)return l.index}return null}function Ho(n,t){const{chart:e,_cachedMeta:i}=n,l=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:o}=i,c=s.axis,d=a.axis,r=Mm(s,a,i),h=t.length;let u;for(let b=0;b<h;++b){const m=t[b],{[c]:p,[d]:Z}=m,G=m._stacks||(m._stacks={});u=G[d]=Tm(l,r,p),u[o]=Z,u._top=Ko(u,a,!0,i.type),u._bottom=Ko(u,a,!1,i.type);const f=u._visualValues||(u._visualValues={});f[o]=Z}}function bs(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Jm(n,t){return nn(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Fm(n,t,e){return nn(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function si(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const l of t){const s=l._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const ms=n=>n==="reset"||n==="none",zo=(n,t)=>t?n:Object.assign({},n),Pm=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Ur(e,!0),values:null};class fe{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Co(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&si(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),l=(h,u,b,m)=>h==="x"?u:h==="r"?m:b,s=e.xAxisID=D(i.xAxisID,bs(t,"x")),a=e.yAxisID=D(i.yAxisID,bs(t,"y")),o=e.rAxisID=D(i.rAxisID,bs(t,"r")),c=e.indexAxis,d=e.iAxisID=l(c,s,a,o),r=e.vAxisID=l(c,a,s,o);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(r)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&po(this._data,this),t._stacked&&si(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if($(e)){const l=this._cachedMeta;this._data=Im(e,l)}else if(i!==e){if(i){po(i,this);const l=this._cachedMeta;si(l),l._parsed=[]}e&&Object.isExtensible(e)&&Sb(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let l=!1;this._dataCheck();const s=e._stacked;e._stacked=Co(e.vScale,e),e.stack!==i.stack&&(l=!0,si(e),e.stack=i.stack),this._resyncElements(t),(l||s!==e._stacked)&&Ho(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:l}=this,{iScale:s,_stacked:a}=i,o=s.axis;let c=t===0&&e===l.length?!0:i._sorted,d=t>0&&i._parsed[t-1],r,h,u;if(this._parsing===!1)i._parsed=l,i._sorted=!0,u=l;else{mt(l[t])?u=this.parseArrayData(i,l,t,e):$(l[t])?u=this.parseObjectData(i,l,t,e):u=this.parsePrimitiveData(i,l,t,e);const b=()=>h[o]===null||d&&h[o]<d[o];for(r=0;r<e;++r)i._parsed[r+t]=h=u[r],c&&(b()&&(c=!1),d=h);i._sorted=c}a&&Ho(this,u)}parsePrimitiveData(t,e,i,l){const{iScale:s,vScale:a}=t,o=s.axis,c=a.axis,d=s.getLabels(),r=s===a,h=new Array(l);let u,b,m;for(u=0,b=l;u<b;++u)m=u+i,h[u]={[o]:r||s.parse(d[m],m),[c]:a.parse(e[m],m)};return h}parseArrayData(t,e,i,l){const{xScale:s,yScale:a}=t,o=new Array(l);let c,d,r,h;for(c=0,d=l;c<d;++c)r=c+i,h=e[r],o[c]={x:s.parse(h[0],r),y:a.parse(h[1],r)};return o}parseObjectData(t,e,i,l){const{xScale:s,yScale:a}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(l);let r,h,u,b;for(r=0,h=l;r<h;++r)u=r+i,b=e[u],d[r]={x:s.parse(qe(b,o),u),y:a.parse(qe(b,c),u)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const l=this.chart,s=this._cachedMeta,a=e[t.axis],o={keys:Ur(l,!0),values:e._stacks[t.axis]._visualValues};return ko(o,a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,l){const s=i[e.axis];let a=s===null?NaN:s;const o=l&&i._stacks[e.axis];l&&o&&(l.values=o,a=ko(l,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,l=i._parsed,s=i._sorted&&t===i.iScale,a=l.length,o=this._getOtherScale(t),c=Pm(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:r,max:h}=Nm(o);let u,b;function m(){b=l[u];const p=b[o.axis];return!Rt(b[t.axis])||r>p||h<p}for(u=0;u<a&&!(!m()&&(this.updateRangeFromParsed(d,t,b,c),s));++u);if(s){for(u=a-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(d,t,b,c);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let l,s,a;for(l=0,s=e.length;l<s;++l)a=e[l][t.axis],Rt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,l=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:l?""+l.getLabelForValue(s[l.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=zm(D(this.options.clip,Hm(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,l=i.data||[],s=e.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||l.length-o,d=this.options.drawActiveElementsOnTop;let r;for(i.dataset&&i.dataset.draw(t,s,o,c),r=o;r<o+c;++r){const h=l[r];h.hidden||(h.active&&d?a.push(h):h.draw(t,s))}for(r=0;r<a.length;++r)a[r].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const l=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=Fm(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=l.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=Jm(this.chart.getContext(),this.index)),s.dataset=l,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const l=e==="active",s=this._cachedDataOpts,a=t+"-"+e,o=s[a],c=this.enableOptionSharing&&ne(i);if(o)return zo(o,c);const d=this.chart.config,r=d.datasetElementScopeKeys(this._type,t),h=l?[`${t}Hover`,"hover",t,""]:[t,""],u=d.getOptionScopes(this.getDataset(),r),b=Object.keys(Vt.elements[t]),m=()=>this.getContext(i,l,e),p=d.resolveNamedOptions(u,b,m,h);return p.$shared&&(p.$shared=c,s[a]=Object.freeze(zo(p,c))),p}_resolveAnimations(t,e,i){const l=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,o=s[a];if(o)return o;let c;if(l.options.animation!==!1){const r=this.chart.config,h=r.datasetAnimationScopeKeys(this._type,e),u=r.getOptionScopes(this.getDataset(),h);c=r.createResolver(u,this.getContext(t,i,e))}const d=new Za(l,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ms(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),l=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(e,s)||s!==l;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:a}}updateElement(t,e,i,l){ms(l)?Object.assign(t,i):this._resolveAnimations(e,l).update(t,i)}updateSharedOptions(t,e,i){t&&!ms(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,l){t.active=l;const s=this.getStyle(e,l);this._resolveAnimations(e,i,l).update(t,{options:!l&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const l=i.length,s=e.length,a=Math.min(s,l);a&&this.parse(0,a),s>l?this._insertElements(l,s-l,t):s<l&&this._removeElements(s,l-s)}_insertElements(t,e,i=!0){const l=this._cachedMeta,s=l.data,a=t+e;let o;const c=d=>{for(d.length+=e,o=d.length-1;o>=a;o--)d[o]=d[o-e]};for(c(s),o=t;o<a;++o)s[o]=new this.dataElementType;this._parsing&&c(l._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,l){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const l=i._parsed.splice(t,e);i._stacked&&si(i,l)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,l]=t;this[e](i,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}K(fe,"defaults",{}),K(fe,"datasetElementType",null),K(fe,"dataElementType",null);function wm(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let l=0,s=e.length;l<s;l++)i=i.concat(e[l].controller.getAllParsedValues(n));n._cache.$bar=Sr(i.sort((l,s)=>l-s))}return n._cache.$bar}function Qm(n){const t=n.iScale,e=wm(t,n.type);let i=t._length,l,s,a,o;const c=()=>{a===32767||a===-32768||(ne(o)&&(i=Math.min(i,Math.abs(a-o)||i)),o=a)};for(l=0,s=e.length;l<s;++l)a=t.getPixelForValue(e[l]),c();for(o=void 0,l=0,s=t.ticks.length;l<s;++l)a=t.getPixelForTick(l),c();return i}function jm(n,t,e,i){const l=e.barThickness;let s,a;return ct(l)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=l*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}function Um(n,t,e,i){const l=t.pixels,s=l[n];let a=n>0?l[n-1]:null,o=n<l.length-1?l[n+1]:null;const c=e.categoryPercentage;a===null&&(a=s-(o===null?t.end-t.start:o-s)),o===null&&(o=s+s-a);const d=s-(s-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/i,ratio:e.barPercentage,start:d}}function Om(n,t,e,i){const l=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(l,s),o=Math.max(l,s);let c=a,d=o;Math.abs(a)>Math.abs(o)&&(c=o,d=a),t[e.axis]=d,t._custom={barStart:c,barEnd:d,start:l,end:s,min:a,max:o}}function Or(n,t,e,i){return mt(n)?Om(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Io(n,t,e,i){const l=n.iScale,s=n.vScale,a=l.getLabels(),o=l===s,c=[];let d,r,h,u;for(d=e,r=e+i;d<r;++d)u=t[d],h={},h[l.axis]=o||l.parse(a[d],d),c.push(Or(u,h,s,d));return c}function ps(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Bm(n,t,e){return n!==0?Re(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Em(n){let t,e,i,l,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(l="end",s="start"):(l="start",s="end"),{start:e,end:i,reverse:t,top:l,bottom:s}}function _m(n,t,e,i){let l=t.borderSkipped;const s={};if(!l){n.borderSkipped=s;return}if(l===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:d,bottom:r}=Em(n);l==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?l=d:(e._bottom||0)===i?l=r:(s[Mo(r,a,o,c)]=!0,l=d)),s[Mo(l,a,o,c)]=!0,n.borderSkipped=s}function Mo(n,t,e,i){return i?(n=Dm(n,t,e),n=No(n,e,t)):n=No(n,t,e),n}function Dm(n,t,e){return n===t?e:n===e?t:n}function No(n,t,e){return n==="start"?t:n==="end"?e:n}function Am(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Gl extends fe{parsePrimitiveData(t,e,i,l){return Io(t,e,i,l)}parseArrayData(t,e,i,l){return Io(t,e,i,l)}parseObjectData(t,e,i,l){const{iScale:s,vScale:a}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?o:c,r=a.axis==="x"?o:c,h=[];let u,b,m,p;for(u=i,b=i+l;u<b;++u)p=e[u],m={},m[s.axis]=s.parse(qe(p,d),u),h.push(Or(qe(p,r),m,a,u));return h}updateRangeFromParsed(t,e,i,l){super.updateRangeFromParsed(t,e,i,l);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:l}=e,s=this.getParsed(t),a=s._custom,o=ps(a)?"["+a.start+", "+a.end+"]":""+l.getLabelForValue(s[l.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,l){const s=l==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),r=this._getRuler(),{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,l);for(let b=e;b<e+i;b++){const m=this.getParsed(b),p=s||ct(m[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),Z=this._calculateBarIndexPixels(b,r),G=(m._stacks||{})[o.axis],f={horizontal:d,base:p.base,enableBorderRadius:!G||ps(m._custom)||a===G._top||a===G._bottom,x:d?p.head:Z.center,y:d?Z.center:p.head,height:d?Z.size:Math.abs(p.size),width:d?Math.abs(p.size):Z.size};u&&(f.options=h||this.resolveDataElementOptions(b,t[b].active?"active":l));const y=f.options||t[b].options;_m(f,y,G,a),Am(f,y,r.ratio),this.updateElement(t[b],b,f,l)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,l=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=i.options.stacked,a=[],o=c=>{const d=c.controller.getParsed(e),r=d&&d[c.vScale.axis];if(ct(r)||isNaN(r))return!0};for(const c of l)if(!(e!==void 0&&o(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const l=this._getStacks(t,i),s=e!==void 0?l.indexOf(e):-1;return s===-1?l.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,l=[];let s,a;for(s=0,a=e.data.length;s<a;++s)l.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const o=t.barThickness;return{min:o||Qm(e),pixels:l,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:l},options:{base:s,minBarLength:a}}=this,o=s||0,c=this.getParsed(t),d=c._custom,r=ps(d);let h=c[e.axis],u=0,b=i?this.applyStack(e,c,i):h,m,p;b!==h&&(u=b-h,b=h),r&&(h=d.barStart,b=d.barEnd-d.barStart,h!==0&&Re(h)!==Re(d.barEnd)&&(u=0),u+=h);const Z=!ct(s)&&!r?s:u;let G=e.getPixelForValue(Z);if(this.chart.getDataVisibility(t)?m=e.getPixelForValue(u+b):m=G,p=m-G,Math.abs(p)<a){p=Bm(p,e,o)*a,h===o&&(G-=p/2);const f=e.getPixelForDecimal(0),y=e.getPixelForDecimal(1),X=Math.min(f,y),W=Math.max(f,y);G=Math.max(Math.min(G,W),X),m=G+p,i&&!r&&(c._stacks[e.axis]._visualValues[l]=e.getValueForPixel(m)-e.getValueForPixel(G))}if(G===e.getPixelForValue(o)){const f=Re(p)*e.getLineWidthForValue(o)/2;G+=f,p-=f}return{size:p,base:G,head:m,center:m+p/2}}_calculateBarIndexPixels(t,e){const i=e.scale,l=this.options,s=l.skipNull,a=D(l.maxBarThickness,1/0);let o,c;if(e.grouped){const d=s?this._getStackCount(t):e.stackCount,r=l.barThickness==="flex"?Um(t,e,l,d):jm(t,e,l,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);o=r.start+r.chunk*h+r.chunk/2,c=Math.min(a,r.chunk*r.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,e.min*e.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,l=i.length;let s=0;for(;s<l;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}K(Gl,"id","bar"),K(Gl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),K(Gl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Zl extends fe{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,l){const s=super.parsePrimitiveData(t,e,i,l);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,e,i,l){const s=super.parseArrayData(t,e,i,l);for(let a=0;a<s.length;a++){const o=e[i+a];s[a]._custom=D(o[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,e,i,l){const s=super.parseObjectData(t,e,i,l);for(let a=0;a<s.length;a++){const o=e[i+a];s[a]._custom=D(o&&o.r&&+o.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:l,yScale:s}=e,a=this.getParsed(t),o=l.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:i[t]||"",value:"("+o+", "+c+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,l){const s=l==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,l),r=a.axis,h=o.axis;for(let u=e;u<e+i;u++){const b=t[u],m=!s&&this.getParsed(u),p={},Z=p[r]=s?a.getPixelForDecimal(.5):a.getPixelForValue(m[r]),G=p[h]=s?o.getBasePixel():o.getPixelForValue(m[h]);p.skip=isNaN(Z)||isNaN(G),d&&(p.options=c||this.resolveDataElementOptions(u,b.active?"active":l),s&&(p.options.radius=0)),this.updateElement(b,u,p,l)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let l=super.resolveDataElementOptions(t,e);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const s=l.radius;return e!=="active"&&(l.radius=0),l.radius+=D(i&&i._custom,s),l}}K(Zl,"id","bubble"),K(Zl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),K(Zl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function $m(n,t,e){let i=1,l=1,s=0,a=0;if(t<gt){const o=n,c=o+t,d=Math.cos(o),r=Math.sin(o),h=Math.cos(c),u=Math.sin(c),b=(y,X,W)=>Ci(y,o,c,!0)?1:Math.max(X,X*e,W,W*e),m=(y,X,W)=>Ci(y,o,c,!0)?-1:Math.min(X,X*e,W,W*e),p=b(0,d,h),Z=b(Lt,r,u),G=m(tt,d,h),f=m(tt+Lt,r,u);i=(p-G)/2,l=(Z-f)/2,s=-(p+G)/2,a=-(Z+f)/2}return{ratioX:i,ratioY:l,offsetX:s,offsetY:a}}class Be extends fe{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=i;else{let s=c=>+i[c];if($(i[t])){const{key:c="value"}=this._parsing;s=d=>+qe(i[d],c)}let a,o;for(a=t,o=t+e;a<o;++a)l._parsed[a]=s(a)}}_getRotation(){return vt(this.options.rotation-90)}_getCircumference(){return vt(this.options.circumference)}_getRotationExtents(){let t=gt,e=-gt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const l=this.chart.getDatasetMeta(i).controller,s=l._getRotation(),a=l._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,l=this._cachedMeta,s=l.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(bb(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:r,rotation:h}=this._getRotationExtents(),{ratioX:u,ratioY:b,offsetX:m,offsetY:p}=$m(h,r,c),Z=(i.width-a)/u,G=(i.height-a)/b,f=Math.max(Math.min(Z,G)/2,0),y=gr(this.options.radius,f),X=Math.max(y*c,0),W=(y-X)/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=p*y,l.total=this.calculateTotal(),this.outerRadius=y-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*d,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,l=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*s/gt)}updateElements(t,e,i,l){const s=l==="reset",a=this.chart,o=a.chartArea,d=a.options.animation,r=(o.left+o.right)/2,h=(o.top+o.bottom)/2,u=s&&d.animateScale,b=u?0:this.innerRadius,m=u?0:this.outerRadius,{sharedOptions:p,includeOptions:Z}=this._getSharedOptions(e,l);let G=this._getRotation(),f;for(f=0;f<e;++f)G+=this._circumference(f,s);for(f=e;f<e+i;++f){const y=this._circumference(f,s),X=t[f],W={x:r+this.offsetX,y:h+this.offsetY,startAngle:G,endAngle:G+y,circumference:y,outerRadius:m,innerRadius:b};Z&&(W.options=p||this.resolveDataElementOptions(f,X.active?"active":l)),G+=y,this.updateElement(X,f,W,l)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,l;for(l=0;l<e.length;l++){const s=t._parsed[l];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(l)&&!e[l].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?gt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,l=i.data.labels||[],s=Ti(e._parsed[t],i.options.locale);return{label:l[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let l,s,a,o,c;if(!t){for(l=0,s=i.data.datasets.length;l<s;++l)if(i.isDatasetVisible(l)){a=i.getDatasetMeta(l),t=a.data,o=a.controller;break}}if(!t)return 0;for(l=0,s=t.length;l<s;++l)c=o.resolveDataElementOptions(l),c.borderAlign!=="inner"&&(e=Math.max(e,c.borderWidth||0,c.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,l=t.length;i<l;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(D(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}K(Be,"id","doughnut"),K(Be,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),K(Be,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),K(Be,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:l}}=t.legend.options;return e.labels.map((s,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:l,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class fl extends fe{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:l=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:o,count:c}=vr(e,l,a);this._drawStart=o,this._drawCount=c,kr(e)&&(o=0,c=l.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=l;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(l,o,c,t)}updateElements(t,e,i,l){const s=l==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:r,includeOptions:h}=this._getSharedOptions(e,l),u=a.axis,b=o.axis,{spanGaps:m,segment:p}=this.options,Z=tn(m)?m:Number.POSITIVE_INFINITY,G=this.chart._animationsDisabled||s||l==="none",f=e+i,y=t.length;let X=e>0&&this.getParsed(e-1);for(let W=0;W<y;++W){const L=t[W],S=G?L:{};if(W<e||W>=f){S.skip=!0;continue}const g=this.getParsed(W),x=ct(g[b]),V=S[u]=a.getPixelForValue(g[u],W),H=S[b]=s||x?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,g,c):g[b],W);S.skip=isNaN(V)||isNaN(H)||x,S.stop=W>0&&Math.abs(g[u]-X[u])>Z,p&&(S.parsed=g,S.raw=d.data[W]),h&&(S.options=r||this.resolveDataElementOptions(W,L.active?"active":l)),G||this.updateElement(L,W,S,l),X=g}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,l=t.data||[];if(!l.length)return i;const s=l[0].size(this.resolveDataElementOptions(0)),a=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}K(fl,"id","line"),K(fl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),K(fl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Vi extends fe{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,l=i.data.labels||[],s=Ti(e._parsed[t].r,i.options.locale);return{label:l[t]||"",value:s}}parseObjectData(t,e,i,l){return Tr.bind(this)(t,e,i,l)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,l)=>{const s=this.getParsed(l).r;!isNaN(s)&&this.chart.getDataVisibility(l)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,l=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(l/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),o=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,l){const s=l==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,r=d.xCenter,h=d.yCenter,u=d.getIndexAngle(0)-.5*tt;let b=u,m;const p=360/this.countVisibleElements();for(m=0;m<e;++m)b+=this._computeAngle(m,l,p);for(m=e;m<e+i;m++){const Z=t[m];let G=b,f=b+this._computeAngle(m,l,p),y=a.getDataVisibility(m)?d.getDistanceFromCenterForValue(this.getParsed(m).r):0;b=f,s&&(c.animateScale&&(y=0),c.animateRotate&&(G=f=u));const X={x:r,y:h,innerRadius:0,outerRadius:y,startAngle:G,endAngle:f,options:this.resolveDataElementOptions(m,Z.active?"active":l)};this.updateElement(Z,m,X,l)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?vt(this.resolveDataElementOptions(t,e).angle||i):0}}K(Vi,"id","polarArea"),K(Vi,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),K(Vi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:l}}=t.legend.options;return e.labels.map((s,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:l,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Hs extends Be{}K(Hs,"id","pie"),K(Hs,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Xl extends fe{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,l){return Tr.bind(this)(t,e,i,l)}update(t){const e=this._cachedMeta,i=e.dataset,l=e.data||[],s=e.iScale.getLabels();if(i.points=l,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===l.length,options:a};this.updateElement(i,void 0,o,t)}this.updateElements(l,0,l.length,t)}updateElements(t,e,i,l){const s=this._cachedMeta.rScale,a=l==="reset";for(let o=e;o<e+i;o++){const c=t[o],d=this.resolveDataElementOptions(o,c.active?"active":l),r=s.getPointPositionForValue(o,this.getParsed(o).r),h=a?s.xCenter:r.x,u=a?s.yCenter:r.y,b={x:h,y:u,angle:r.angle,skip:isNaN(h)||isNaN(u),options:d};this.updateElement(c,o,b,l)}}}K(Xl,"id","radar"),K(Xl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),K(Xl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class yl extends fe{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:l,yScale:s}=e,a=this.getParsed(t),o=l.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+o+", "+c+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,l=this.chart._animationsDisabled;let{start:s,count:a}=vr(e,i,l);if(this._drawStart=s,this._drawCount=a,kr(e)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:c}=e;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!l,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,l){const s=l==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,r=this.resolveDataElementOptions(e,l),h=this.getSharedOptions(r),u=this.includeOptions(l,h),b=a.axis,m=o.axis,{spanGaps:p,segment:Z}=this.options,G=tn(p)?p:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||s||l==="none";let y=e>0&&this.getParsed(e-1);for(let X=e;X<e+i;++X){const W=t[X],L=this.getParsed(X),S=f?W:{},g=ct(L[m]),x=S[b]=a.getPixelForValue(L[b],X),V=S[m]=s||g?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,L,c):L[m],X);S.skip=isNaN(x)||isNaN(V)||g,S.stop=X>0&&Math.abs(L[b]-y[b])>G,Z&&(S.parsed=L,S.raw=d.data[X]),u&&(S.options=h||this.resolveDataElementOptions(X,W.active?"active":l)),f||this.updateElement(W,X,S,l),y=L}this.updateSharedOptions(h,l,r)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let o=0;for(let c=e.length-1;c>=0;--c)o=Math.max(o,e[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}const i=t.dataset,l=i.options&&i.options.borderWidth||0;if(!e.length)return l;const s=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(l,s,a)/2}}K(yl,"id","scatter"),K(yl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),K(yl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var qm=Object.freeze({__proto__:null,BarController:Gl,BubbleController:Zl,DoughnutController:Be,LineController:fl,PieController:Hs,PolarAreaController:Vi,RadarController:Xl,ScatterController:yl});function un(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fa{constructor(t){K(this,"options");this.options=t||{}}static override(t){Object.assign(fa.prototype,t)}init(){}formats(){return un()}parse(){return un()}format(){return un()}add(){return un()}diff(){return un()}startOf(){return un()}endOf(){return un()}}var tp={_date:fa};function ep(n,t,e,i){const{controller:l,data:s,_sorted:a}=n,o=l._cachedMeta.iScale;if(o&&t===o.axis&&t!=="r"&&a&&s.length){const c=o._reversePixels?xb:Ne;if(i){if(l._sharedOptions){const d=s[0],r=typeof d.getRange=="function"&&d.getRange(t);if(r){const h=c(s,t,e-r),u=c(s,t,e+r);return{lo:h.lo,hi:u.hi}}}}else return c(s,t,e)}return{lo:0,hi:s.length-1}}function Pi(n,t,e,i,l){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let o=0,c=s.length;o<c;++o){const{index:d,data:r}=s[o],{lo:h,hi:u}=ep(s[o],t,a,l);for(let b=h;b<=u;++b){const m=r[b];m.skip||i(m,d,b)}}}function np(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,l){const s=t?Math.abs(i.x-l.x):0,a=e?Math.abs(i.y-l.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Gs(n,t,e,i,l){const s=[];return!l&&!n.isPointInArea(t)||Pi(n,e,t,function(o,c,d){!l&&!Te(o,n.chartArea,0)||o.inRange(t.x,t.y,i)&&s.push({element:o,datasetIndex:c,index:d})},!0),s}function ip(n,t,e,i){let l=[];function s(a,o,c){const{startAngle:d,endAngle:r}=a.getProps(["startAngle","endAngle"],i),{angle:h}=Hl(a,{x:t.x,y:t.y});Ci(h,d,r)&&l.push({element:a,datasetIndex:o,index:c})}return Pi(n,e,t,s),l}function lp(n,t,e,i,l,s){let a=[];const o=np(e);let c=Number.POSITIVE_INFINITY;function d(r,h,u){const b=r.inRange(t.x,t.y,l);if(i&&!b)return;const m=r.getCenterPoint(l);if(!(!!s||n.isPointInArea(m))&&!b)return;const Z=o(t,m);Z<c?(a=[{element:r,datasetIndex:h,index:u}],c=Z):Z===c&&a.push({element:r,datasetIndex:h,index:u})}return Pi(n,e,t,d),a}function Zs(n,t,e,i,l,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?ip(n,t,e,l):lp(n,t,e,i,l,s)}function To(n,t,e,i,l){const s=[],a=e==="x"?"inXRange":"inYRange";let o=!1;return Pi(n,e,t,(c,d,r)=>{c[a](t[e],l)&&(s.push({element:c,datasetIndex:d,index:r}),o=o||c.inRange(t.x,t.y,l))}),i&&!o?[]:s}var sp={evaluateInteractionItems:Pi,modes:{index(n,t,e,i){const l=pn(t,n),s=e.axis||"x",a=e.includeInvisible||!1,o=e.intersect?Gs(n,l,s,i,a):Zs(n,l,s,!1,i,a),c=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const r=o[0].index,h=d.data[r];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:r})}),c):[]},dataset(n,t,e,i){const l=pn(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let o=e.intersect?Gs(n,l,s,i,a):Zs(n,l,s,!1,i,a);if(o.length>0){const c=o[0].datasetIndex,d=n.getDatasetMeta(c).data;o=[];for(let r=0;r<d.length;++r)o.push({element:d[r],datasetIndex:c,index:r})}return o},point(n,t,e,i){const l=pn(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;return Gs(n,l,s,i,a)},nearest(n,t,e,i){const l=pn(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;return Zs(n,l,s,e.intersect,i,a)},x(n,t,e,i){const l=pn(t,n);return To(n,l,"x",e.intersect,i)},y(n,t,e,i){const l=pn(t,n);return To(n,l,"y",e.intersect,i)}}};const Br=["left","top","right","bottom"];function ai(n,t){return n.filter(e=>e.pos===t)}function Jo(n,t){return n.filter(e=>Br.indexOf(e.pos)===-1&&e.box.axis===t)}function oi(n,t){return n.sort((e,i)=>{const l=t?i:e,s=t?e:i;return l.weight===s.weight?l.index-s.index:l.weight-s.weight})}function ap(n){const t=[];let e,i,l,s,a,o;for(e=0,i=(n||[]).length;e<i;++e)l=n[e],{position:s,options:{stack:a,stackWeight:o=1}}=l,t.push({index:e,box:l,pos:s,horizontal:l.isHorizontal(),weight:l.weight,stack:a&&s+a,stackWeight:o});return t}function op(n){const t={};for(const e of n){const{stack:i,pos:l,stackWeight:s}=e;if(!i||!Br.includes(l))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}function cp(n,t){const e=op(n),{vBoxMaxWidth:i,hBoxMaxHeight:l}=t;let s,a,o;for(s=0,a=n.length;s<a;++s){o=n[s];const{fullSize:c}=o.box,d=e[o.stack],r=d&&o.stackWeight/d.weight;o.horizontal?(o.width=r?r*i:c&&t.availableWidth,o.height=l):(o.width=i,o.height=r?r*l:c&&t.availableHeight)}return e}function dp(n){const t=ap(n),e=oi(t.filter(d=>d.box.fullSize),!0),i=oi(ai(t,"left"),!0),l=oi(ai(t,"right")),s=oi(ai(t,"top"),!0),a=oi(ai(t,"bottom")),o=Jo(t,"x"),c=Jo(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:l.concat(c).concat(a).concat(o),chartArea:ai(t,"chartArea"),vertical:i.concat(l).concat(c),horizontal:s.concat(a).concat(o)}}function Fo(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Er(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function rp(n,t,e,i){const{pos:l,box:s}=e,a=n.maxPadding;if(!$(l)){e.size&&(n[l]-=e.size);const h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?s.height:s.width),e.size=h.size/h.count,n[l]+=e.size}s.getPadding&&Er(a,s.getPadding());const o=Math.max(0,t.outerWidth-Fo(a,n,"left","right")),c=Math.max(0,t.outerHeight-Fo(a,n,"top","bottom")),d=o!==n.w,r=c!==n.h;return n.w=o,n.h=c,e.horizontal?{same:d,other:r}:{same:r,other:d}}function hp(n){const t=n.maxPadding;function e(i){const l=Math.max(t[i]-n[i],0);return n[i]+=l,l}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function up(n,t){const e=t.maxPadding;function i(l){const s={left:0,top:0,right:0,bottom:0};return l.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}return i(n?["left","right"]:["top","bottom"])}function pi(n,t,e,i){const l=[];let s,a,o,c,d,r;for(s=0,a=n.length,d=0;s<a;++s){o=n[s],c=o.box,c.update(o.width||t.w,o.height||t.h,up(o.horizontal,t));const{same:h,other:u}=rp(t,e,o,i);d|=h&&l.length,r=r||u,c.fullSize||l.push(o)}return d&&pi(l,t,e,i)||r}function nl(n,t,e,i,l){n.top=e,n.left=t,n.right=t+i,n.bottom=e+l,n.width=i,n.height=l}function Po(n,t,e,i){const l=e.padding;let{x:s,y:a}=t;for(const o of n){const c=o.box,d=i[o.stack]||{count:1,placed:0,weight:1},r=o.stackWeight/d.weight||1;if(o.horizontal){const h=t.w*r,u=d.size||c.height;ne(d.start)&&(a=d.start),c.fullSize?nl(c,l.left,a,e.outerWidth-l.right-l.left,u):nl(c,t.left+d.placed,a,h,u),d.start=a,d.placed+=h,a=c.bottom}else{const h=t.h*r,u=d.size||c.width;ne(d.start)&&(s=d.start),c.fullSize?nl(c,s,l.top,u,e.outerHeight-l.bottom-l.top):nl(c,s,t.top+d.placed,u,h),d.start=s,d.placed+=h,s=c.right}}t.x=s,t.y=a}var Ut={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const l=kt(n.options.layout.padding),s=Math.max(t-l.width,0),a=Math.max(e-l.height,0),o=dp(n.boxes),c=o.vertical,d=o.horizontal;Zt(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const r=c.reduce((p,Z)=>Z.box.options&&Z.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:l,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/r,hBoxMaxHeight:a/2}),u=Object.assign({},l);Er(u,kt(i));const b=Object.assign({maxPadding:u,w:s,h:a,x:l.left,y:l.top},l),m=cp(c.concat(d),h);pi(o.fullSize,b,h,m),pi(c,b,h,m),pi(d,b,h,m)&&pi(c,b,h,m),hp(b),Po(o.leftAndTop,b,h,m),b.x+=b.w,b.y+=b.h,Po(o.rightAndBottom,b,h,m),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Zt(o.chartArea,p=>{const Z=p.box;Object.assign(Z,n.chartArea),Z.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class _r{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,l){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,l?Math.floor(e/l):i)}}isAttached(t){return!0}updateConfig(t){}}class bp extends _r{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Wl="$chartjs",mp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wo=n=>n===null||n==="";function pp(n,t){const e=n.style,i=n.getAttribute("height"),l=n.getAttribute("width");if(n[Wl]={initial:{height:i,width:l,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",wo(l)){const s=xo(n,"width");s!==void 0&&(n.width=s)}if(wo(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=xo(n,"height");s!==void 0&&(n.height=s)}return n}const Dr=Zm?{passive:!0}:!1;function Gp(n,t,e){n&&n.addEventListener(t,e,Dr)}function Zp(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Dr)}function fp(n,t){const e=mp[n.type]||n.type,{x:i,y:l}=pn(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:l!==void 0?l:null}}function Ml(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Xp(n,t,e){const i=n.canvas,l=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Ml(o.addedNodes,i),a=a&&!Ml(o.removedNodes,i);a&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}function yp(n,t,e){const i=n.canvas,l=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Ml(o.removedNodes,i),a=a&&!Ml(o.addedNodes,i);a&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}const Ki=new Map;let Qo=0;function Ar(){const n=window.devicePixelRatio;n!==Qo&&(Qo=n,Ki.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Wp(n,t){Ki.size||window.addEventListener("resize",Ar),Ki.set(n,t)}function gp(n){Ki.delete(n),Ki.size||window.removeEventListener("resize",Ar)}function Lp(n,t,e){const i=n.canvas,l=i&&Ga(i);if(!l)return;const s=Yr((o,c)=>{const d=l.clientWidth;e(o,c),d<l.clientWidth&&e()},window),a=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,r=c.contentRect.height;d===0&&r===0||s(d,r)});return a.observe(l),Wp(n,s),a}function fs(n,t,e){e&&e.disconnect(),t==="resize"&&gp(n)}function xp(n,t,e){const i=n.canvas,l=Yr(s=>{n.ctx!==null&&e(fp(s,n))},n);return Gp(i,t,l),l}class Rp extends _r{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(pp(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Wl])return!1;const i=e[Wl].initial;["height","width"].forEach(s=>{const a=i[s];ct(a)?e.removeAttribute(s):e.setAttribute(s,a)});const l=i.style||{};return Object.keys(l).forEach(s=>{e.style[s]=l[s]}),e.width=e.width,delete e[Wl],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const l=t.$proxies||(t.$proxies={}),a={attach:Xp,detach:yp,resize:Lp}[e]||xp;l[e]=a(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),l=i[e];if(!l)return;({attach:fs,detach:fs,resize:fs}[e]||Zp)(t,e,l),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,l){return Gm(t,e,i,l)}isAttached(t){const e=t&&Ga(t);return!!(e&&e.isConnected)}}function Sp(n){return!pa()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?bp:Rp}class Mt{constructor(){K(this,"x");K(this,"y");K(this,"active",!1);K(this,"options");K(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return tn(this.x)&&tn(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const l={};return t.forEach(s=>{l[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),l}}K(Mt,"defaults",{}),K(Mt,"defaultRoutes");function Vp(n,t){const e=n.options.ticks,i=Yp(n),l=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?kp(t):[],a=s.length,o=s[0],c=s[a-1],d=[];if(a>l)return Cp(t,d,s,a/l),d;const r=vp(s,t,l);if(a>0){let h,u;const b=a>1?Math.round((c-o)/(a-1)):null;for(il(t,d,r,ct(b)?0:o-b,o),h=0,u=a-1;h<u;h++)il(t,d,r,s[h],s[h+1]);return il(t,d,r,c,ct(b)?t.length:c+b),d}return il(t,d,r),d}function Yp(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),l=n._maxLength/e;return Math.floor(Math.min(i,l))}function vp(n,t,e){const i=Kp(n),l=t.length/e;if(!i)return Math.max(l,1);const s=yb(i);for(let a=0,o=s.length-1;a<o;a++){const c=s[a];if(c>l)return c}return Math.max(l,1)}function kp(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Cp(n,t,e,i){let l=0,s=e[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),l++,s=e[l*i])}function il(n,t,e,i,l){const s=D(i,0),a=Math.min(D(l,n.length),n.length);let o=0,c,d,r;for(e=Math.ceil(e),l&&(c=l-i,e=c/Math.floor(c/e)),r=s;r<0;)o++,r=Math.round(s+o*e);for(d=Math.max(s,0);d<a;d++)d===r&&(t.push(n[d]),o++,r=Math.round(s+o*e))}function Kp(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const Hp=n=>n==="left"?"right":n==="right"?"left":n,jo=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Uo=(n,t)=>Math.min(t||n,n);function Oo(n,t){const e=[],i=n.length/t,l=n.length;let s=0;for(;s<l;s+=i)e.push(n[Math.floor(s)]);return e}function zp(n,t,e){const i=n.ticks.length,l=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,o=1e-6;let c=n.getPixelForTick(l),d;if(!(e&&(i===1?d=Math.max(c-s,a-c):t===0?d=(n.getPixelForTick(1)-c)/2:d=(c-n.getPixelForTick(l-1))/2,c+=l<t?d:-d,c<s-o||c>a+o)))return c}function Ip(n,t){Zt(n,e=>{const i=e.gc,l=i.length/2;let s;if(l>t){for(s=0;s<l;++s)delete e.data[i[s]];i.splice(0,l)}})}function ci(n){return n.drawTicks?n.tickLength:0}function Bo(n,t){if(!n.display)return 0;const e=Yt(n.font,t),i=kt(n.padding);return(mt(n.text)?n.text.length:1)*e.lineHeight+i.height}function Mp(n,t){return nn(n,{scale:t,type:"scale"})}function Np(n,t,e){return nn(n,{tick:e,index:t,type:"tick"})}function Tp(n,t,e){let i=da(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Hp(i)),i}function Jp(n,t,e,i){const{top:l,left:s,bottom:a,right:o,chart:c}=n,{chartArea:d,scales:r}=c;let h=0,u,b,m;const p=a-l,Z=o-s;if(n.isHorizontal()){if(b=jt(i,s,o),$(e)){const G=Object.keys(e)[0],f=e[G];m=r[G].getPixelForValue(f)+p-t}else e==="center"?m=(d.bottom+d.top)/2+p-t:m=jo(n,e,t);u=o-s}else{if($(e)){const G=Object.keys(e)[0],f=e[G];b=r[G].getPixelForValue(f)-Z+t}else e==="center"?b=(d.left+d.right)/2-Z+t:b=jo(n,e,t);m=jt(i,a,l),h=e==="left"?-Lt:Lt}return{titleX:b,titleY:m,maxWidth:u,rotation:h}}class Rn extends Mt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:l}=this;return t=se(t,Number.POSITIVE_INFINITY),e=se(e,Number.NEGATIVE_INFINITY),i=se(i,Number.POSITIVE_INFINITY),l=se(l,Number.NEGATIVE_INFINITY),{min:se(t,i),max:se(e,l),minDefined:Rt(t),maxDefined:Rt(e)}}getMinMax(t){let{min:e,max:i,minDefined:l,maxDefined:s}=this.getUserBounds(),a;if(l&&s)return{min:e,max:i};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)a=o[c].controller.getMinMax(this,t),l||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=l&&e>i?e:i,{min:se(e,se(i,e)),max:se(i,se(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:l,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Eb(this,s,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?Oo(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Vp(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gt(this.options.afterUpdate,[this])}beforeSetDimensions(){Gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Gt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,l,s;for(i=0,l=t.length;i<l;i++)s=t[i],s.label=Gt(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Uo(this.ticks.length,t.ticks.maxTicksLimit),l=e.minRotation||0,s=e.maxRotation;let a=l,o,c,d;if(!this._isVisible()||!e.display||l>=s||i<=1||!this.isHorizontal()){this.labelRotation=l;return}const r=this._getLabelSizes(),h=r.widest.width,u=r.highest.height,b=It(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/i:b/(i-1),h+6>o&&(o=b/(i-(t.offset?.5:1)),c=this.maxHeight-ci(t.grid)-e.padding-Bo(t.title,this.chart.options.font),d=Math.sqrt(h*h+u*u),a=Ul(Math.min(Math.asin(It((r.highest.height+6)/o,-1,1)),Math.asin(It(c/d,-1,1))-Math.asin(It(u/d,-1,1)))),a=Math.max(l,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:l,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=Bo(l,e.options.font);if(o?(t.width=this.maxWidth,t.height=ci(s)+c):(t.height=this.maxHeight,t.width=ci(s)+c),i.display&&this.ticks.length){const{first:d,last:r,widest:h,highest:u}=this._getLabelSizes(),b=i.padding*2,m=vt(this.labelRotation),p=Math.cos(m),Z=Math.sin(m);if(o){const G=i.mirror?0:Z*h.width+p*u.height;t.height=Math.min(this.maxHeight,t.height+G+b)}else{const G=i.mirror?0:p*h.width+Z*u.height;t.width=Math.min(this.maxWidth,t.width+G+b)}this._calculatePadding(d,r,Z,p)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,l){const{ticks:{align:s,padding:a},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,b=0;c?d?(u=l*t.width,b=i*e.height):(u=i*t.height,b=l*e.width):s==="start"?b=e.width:s==="end"?u=t.width:s!=="inner"&&(u=t.width/2,b=e.width/2),this.paddingLeft=Math.max((u-r+a)*this.width/(this.width-r),0),this.paddingRight=Math.max((b-h+a)*this.width/(this.width-h),0)}else{let r=e.height/2,h=t.height/2;s==="start"?(r=0,h=t.height):s==="end"&&(r=e.height,h=0),this.paddingTop=r+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ct(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Oo(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:l,_longestTextCache:s}=this,a=[],o=[],c=Math.floor(e/Uo(e,i));let d=0,r=0,h,u,b,m,p,Z,G,f,y,X,W;for(h=0;h<e;h+=c){if(m=t[h].label,p=this._resolveTickFontOptions(h),l.font=Z=p.string,G=s[Z]=s[Z]||{data:{},gc:[]},f=p.lineHeight,y=X=0,!ct(m)&&!mt(m))y=zl(l,G.data,G.gc,y,m),X=f;else if(mt(m))for(u=0,b=m.length;u<b;++u)W=m[u],!ct(W)&&!mt(W)&&(y=zl(l,G.data,G.gc,y,W),X+=f);a.push(y),o.push(X),d=Math.max(y,d),r=Math.max(X,r)}Ip(s,e);const L=a.indexOf(d),S=o.indexOf(r),g=x=>({width:a[x]||0,height:o[x]||0});return{first:g(0),last:g(e-1),widest:g(L),highest:g(S),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Lb(this._alignToPixels?hn(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Np(this.getContext(),t,i))}return this.$context||(this.$context=Mp(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=vt(this.labelRotation),i=Math.abs(Math.cos(e)),l=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,o=s?s.widest.width+a:0,c=s?s.highest.height+a:0;return this.isHorizontal()?c*i>o*l?o/i:c/l:c*l<o*i?c/i:o/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,l=this.options,{grid:s,position:a,border:o}=l,c=s.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),u=ci(s),b=[],m=o.setContext(this.getContext()),p=m.display?m.width:0,Z=p/2,G=function(O){return hn(i,O,p)};let f,y,X,W,L,S,g,x,V,H,z,Y;if(a==="top")f=G(this.bottom),S=this.bottom-u,x=f-Z,H=G(t.top)+Z,Y=t.bottom;else if(a==="bottom")f=G(this.top),H=t.top,Y=G(t.bottom)-Z,S=f+Z,x=this.top+u;else if(a==="left")f=G(this.right),L=this.right-u,g=f-Z,V=G(t.left)+Z,z=t.right;else if(a==="right")f=G(this.left),V=t.left,z=G(t.right)-Z,L=f+Z,g=this.left+u;else if(e==="x"){if(a==="center")f=G((t.top+t.bottom)/2+.5);else if($(a)){const O=Object.keys(a)[0],P=a[O];f=G(this.chart.scales[O].getPixelForValue(P))}H=t.top,Y=t.bottom,S=f+Z,x=S+u}else if(e==="y"){if(a==="center")f=G((t.left+t.right)/2);else if($(a)){const O=Object.keys(a)[0],P=a[O];f=G(this.chart.scales[O].getPixelForValue(P))}L=f-Z,g=L-u,V=t.left,z=t.right}const U=D(l.ticks.maxTicksLimit,h),j=Math.max(1,Math.ceil(h/U));for(y=0;y<h;y+=j){const O=this.getContext(y),P=s.setContext(O),et=o.setContext(O),_=P.lineWidth,E=P.color,ot=et.dash||[],B=et.dashOffset,pt=P.tickWidth,rt=P.tickColor,Ht=P.tickBorderDash||[],Ct=P.tickBorderDashOffset;X=zp(this,y,c),X!==void 0&&(W=hn(i,X,_),d?L=g=V=z=W:S=x=H=Y=W,b.push({tx1:L,ty1:S,tx2:g,ty2:x,x1:V,y1:H,x2:z,y2:Y,width:_,color:E,borderDash:ot,borderDashOffset:B,tickWidth:pt,tickColor:rt,tickBorderDash:Ht,tickBorderDashOffset:Ct}))}return this._ticksLength=h,this._borderValue=f,b}_computeLabelItems(t){const e=this.axis,i=this.options,{position:l,ticks:s}=i,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:r,mirror:h}=s,u=ci(i.grid),b=u+r,m=h?-r:b,p=-vt(this.labelRotation),Z=[];let G,f,y,X,W,L,S,g,x,V,H,z,Y="middle";if(l==="top")L=this.bottom-m,S=this._getXAxisLabelAlignment();else if(l==="bottom")L=this.top+m,S=this._getXAxisLabelAlignment();else if(l==="left"){const j=this._getYAxisLabelAlignment(u);S=j.textAlign,W=j.x}else if(l==="right"){const j=this._getYAxisLabelAlignment(u);S=j.textAlign,W=j.x}else if(e==="x"){if(l==="center")L=(t.top+t.bottom)/2+b;else if($(l)){const j=Object.keys(l)[0],O=l[j];L=this.chart.scales[j].getPixelForValue(O)+b}S=this._getXAxisLabelAlignment()}else if(e==="y"){if(l==="center")W=(t.left+t.right)/2-b;else if($(l)){const j=Object.keys(l)[0],O=l[j];W=this.chart.scales[j].getPixelForValue(O)}S=this._getYAxisLabelAlignment(u).textAlign}e==="y"&&(c==="start"?Y="top":c==="end"&&(Y="bottom"));const U=this._getLabelSizes();for(G=0,f=o.length;G<f;++G){y=o[G],X=y.label;const j=s.setContext(this.getContext(G));g=this.getPixelForTick(G)+s.labelOffset,x=this._resolveTickFontOptions(G),V=x.lineHeight,H=mt(X)?X.length:1;const O=H/2,P=j.color,et=j.textStrokeColor,_=j.textStrokeWidth;let E=S;a?(W=g,S==="inner"&&(G===f-1?E=this.options.reverse?"left":"right":G===0?E=this.options.reverse?"right":"left":E="center"),l==="top"?d==="near"||p!==0?z=-H*V+V/2:d==="center"?z=-U.highest.height/2-O*V+V:z=-U.highest.height+V/2:d==="near"||p!==0?z=V/2:d==="center"?z=U.highest.height/2-O*V:z=U.highest.height-H*V,h&&(z*=-1),p!==0&&!j.showLabelBackdrop&&(W+=V/2*Math.sin(p))):(L=g,z=(1-H)*V/2);let ot;if(j.showLabelBackdrop){const B=kt(j.backdropPadding),pt=U.heights[G],rt=U.widths[G];let Ht=z-B.top,Ct=0-B.left;switch(Y){case"middle":Ht-=pt/2;break;case"bottom":Ht-=pt;break}switch(S){case"center":Ct-=rt/2;break;case"right":Ct-=rt;break;case"inner":G===f-1?Ct-=rt:G>0&&(Ct-=rt/2);break}ot={left:Ct,top:Ht,width:rt+B.width,height:pt+B.height,color:j.backdropColor}}Z.push({label:X,font:x,textOffset:z,options:{rotation:p,color:P,strokeColor:et,strokeWidth:_,textAlign:E,textBaseline:Y,translation:[W,L],backdrop:ot}})}return Z}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-vt(this.labelRotation))return t==="top"?"left":"right";let l="center";return e.align==="start"?l="left":e.align==="end"?l="right":e.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:l,padding:s}}=this.options,a=this._getLabelSizes(),o=t+s,c=a.widest.width;let d,r;return e==="left"?l?(r=this.right+s,i==="near"?d="left":i==="center"?(d="center",r+=c/2):(d="right",r+=c)):(r=this.right-o,i==="near"?d="right":i==="center"?(d="center",r-=c/2):(d="left",r=this.left)):e==="right"?l?(r=this.left+s,i==="near"?d="right":i==="center"?(d="center",r-=c/2):(d="left",r-=c)):(r=this.left+o,i==="near"?d="left":i==="center"?(d="center",r+=c/2):(d="right",r=this.right)):d="right",{textAlign:d,x:r}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:l,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,l,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const l=this.ticks.findIndex(s=>s.value===t);return l>=0?e.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const o=(c,d,r)=>{!r.width||!r.color||(i.save(),i.lineWidth=r.width,i.strokeStyle=r.color,i.setLineDash(r.borderDash||[]),i.lineDashOffset=r.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=l.length;s<a;++s){const c=l[s];e.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:l}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const o=l.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,r,h,u;this.isHorizontal()?(d=hn(t,this.left,a)-a/2,r=hn(t,this.right,o)+o/2,h=u=c):(h=hn(t,this.top,a)-a/2,u=hn(t,this.bottom,o)+o/2,d=r=c),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(d,h),e.lineTo(r,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,l=this._computeLabelArea();l&&Ji(i,l);const s=this.getLabelItems(t);for(const a of s){const o=a.options,c=a.font,d=a.label,r=a.textOffset;Wn(i,d,0,r,c,o)}l&&Fi(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:l}}=this;if(!i.display)return;const s=Yt(i.font),a=kt(i.padding),o=i.align;let c=s.lineHeight/2;e==="bottom"||e==="center"||$(e)?(c+=a.bottom,mt(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:d,titleY:r,maxWidth:h,rotation:u}=Jp(this,c,e,o);Wn(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:u,textAlign:Tp(o,e,l),textBaseline:"middle",translation:[d,r]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=D(t.grid&&t.grid.z,-1),l=D(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Rn.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",l=[];let s,a;for(s=0,a=e.length;s<a;++s){const o=e[s];o[i]===this.id&&(!t||o.type===t)&&l.push(o)}return l}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Yt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ll{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;wp(e)&&(i=this.register(e));const l=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in l||(l[s]=t,Fp(t,a,i),this.override&&Vt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,l=this.scope;i in e&&delete e[i],l&&i in Vt[l]&&(delete Vt[l][i],this.override&&delete yn[i])}}function Fp(n,t,e){const i=ki(Object.create(null),[e?Vt.get(e):{},Vt.get(t),n.defaults]);Vt.set(t,i),n.defaultRoutes&&Pp(t,n.defaultRoutes),n.descriptors&&Vt.describe(t,n.descriptors)}function Pp(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),l=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),o=a.pop(),c=a.join(".");Vt.route(s,l,c,o)})}function wp(n){return"id"in n&&"defaults"in n}class Qp{constructor(){this.controllers=new ll(fe,"datasets",!0),this.elements=new ll(Mt,"elements"),this.plugins=new ll(Object,"plugins"),this.scales=new ll(Rn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(l=>{const s=i||this._getRegistryForType(l);i||s.isForType(l)||s===this.plugins&&l.id?this._exec(t,s,l):Zt(l,a=>{const o=i||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,e,i){const l=aa(t);Gt(i["before"+l],[],i),e[t](i),Gt(i["after"+l],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const l=e.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return l}}var xe=new Qp;class jp{constructor(){this._init=[]}notify(t,e,i,l){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=l?this._descriptors(t).filter(l):this._descriptors(t),a=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,l){l=l||{};for(const s of t){const a=s.plugin,o=a[i],c=[e,l,s.options];if(Gt(o,c,a)===!1&&l.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,l=D(i.options&&i.options.plugins,{}),s=Up(i);return l===!1&&!e?[]:Bp(t,s,l,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,l=(s,a)=>s.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(l(e,i),t,"stop"),this._notify(l(i,e),t,"start")}}function Up(n){const t={},e=[],i=Object.keys(xe.plugins.items);for(let s=0;s<i.length;s++)e.push(xe.getPlugin(i[s]));const l=n.plugins||[];for(let s=0;s<l.length;s++){const a=l[s];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function Op(n,t){return!t&&n===!1?null:n===!0?{}:n}function Bp(n,{plugins:t,localIds:e},i,l){const s=[],a=n.getContext();for(const o of t){const c=o.id,d=Op(i[c],l);d!==null&&s.push({plugin:o,options:Ep(n.config,{plugin:o,local:e[c]},d,a)})}return s}function Ep(n,{plugin:t,local:e},i,l){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zs(n,t){const e=Vt.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function _p(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Dp(n,t){return n===t?"_index_":"_value_"}function Eo(n){if(n==="x"||n==="y"||n==="r")return n}function Ap(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Is(n,...t){if(Eo(n))return n;for(const e of t){const i=e.axis||Ap(e.position)||n.length>1&&Eo(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function _o(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function $p(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return _o(n,"x",e[0])||_o(n,"y",e[0])}return{}}function qp(n,t){const e=yn[n.type]||{scales:{}},i=t.scales||{},l=zs(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!$(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Is(a,o,$p(a,n),Vt.scales[o.type]),d=Dp(c,l),r=e.scales||{};s[a]=Li(Object.create(null),[{axis:c},o,r[c],r[d]])}),n.data.datasets.forEach(a=>{const o=a.type||n.type,c=a.indexAxis||zs(o,t),r=(yn[o]||{}).scales||{};Object.keys(r).forEach(h=>{const u=_p(h,c),b=a[u+"AxisID"]||u;s[b]=s[b]||Object.create(null),Li(s[b],[{axis:u},i[b],r[h]])})}),Object.keys(s).forEach(a=>{const o=s[a];Li(o,[Vt.scales[o.type],Vt.scale])}),s}function $r(n){const t=n.options||(n.options={});t.plugins=D(t.plugins,{}),t.scales=qp(n,t)}function qr(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function t0(n){return n=n||{},n.data=qr(n.data),$r(n),n}const Do=new Map,th=new Set;function sl(n,t){let e=Do.get(n);return e||(e=t(),Do.set(n,e),th.add(e)),e}const di=(n,t,e)=>{const i=qe(t,e);i!==void 0&&n.add(i)};class e0{constructor(t){this._config=t0(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qr(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),$r(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return sl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return sl(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return sl(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return sl(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let l=i.get(t);return(!l||e)&&(l=new Map,i.set(t,l)),l}getOptionScopes(t,e,i){const{options:l,type:s}=this,a=this._cachedScopes(t,i),o=a.get(e);if(o)return o;const c=new Set;e.forEach(r=>{t&&(c.add(t),r.forEach(h=>di(c,t,h))),r.forEach(h=>di(c,l,h)),r.forEach(h=>di(c,yn[s]||{},h)),r.forEach(h=>di(c,Vt,h)),r.forEach(h=>di(c,Cs,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),th.has(e)&&a.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,yn[e]||{},Vt.datasets[e]||{},{type:e},Vt,Cs]}resolveNamedOptions(t,e,i,l=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=Ao(this._resolverCache,t,l);let c=a;if(i0(a,e)){s.$shared=!1,i=ee(i)?i():i;const d=this.createResolver(t,i,o);c=jn(a,i,d)}for(const d of e)s[d]=c[d];return s}createResolver(t,e,i=[""],l){const{resolver:s}=Ao(this._resolverCache,t,i);return $(e)?jn(s,e,void 0,l):s}}function Ao(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const l=e.join();let s=i.get(l);return s||(s={resolver:ua(t,e),subPrefixes:e.filter(o=>!o.toLowerCase().includes("hover"))},i.set(l,s)),s}const n0=n=>$(n)&&Object.getOwnPropertyNames(n).some(t=>ee(n[t]));function i0(n,t){const{isScriptable:e,isIndexable:i}=zr(n);for(const l of t){const s=e(l),a=i(l),o=(a||s)&&n[l];if(s&&(ee(o)||n0(o))||a&&mt(o))return!0}return!1}var l0="4.4.3";const s0=["top","bottom","left","right","chartArea"];function $o(n,t){return n==="top"||n==="bottom"||s0.indexOf(n)===-1&&t==="x"}function qo(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function tc(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Gt(e&&e.onComplete,[n],t)}function a0(n){const t=n.chart,e=t.options.animation;Gt(e&&e.onProgress,[n],t)}function eh(n){return pa()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const gl={},ec=n=>{const t=eh(n);return Object.values(gl).filter(e=>e.canvas===t).pop()};function o0(n,t,e){const i=Object.keys(n);for(const l of i){const s=+l;if(s>=t){const a=n[l];delete n[l],(e>0||s>t)&&(n[s+e]=a)}}}function c0(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function al(n,t,e){return n.options.clip?n[e]:t[e]}function d0(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:al(e,t,"left"),right:al(e,t,"right"),top:al(i,t,"top"),bottom:al(i,t,"bottom")}:t}class Tt{static register(...t){xe.add(...t),nc()}static unregister(...t){xe.remove(...t),nc()}constructor(t,e){const i=this.config=new e0(e),l=eh(t),s=ec(l);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Sp(l)),this.platform.updateConfig(i);const o=this.platform.acquireContext(l,a.aspectRatio),c=o&&o.canvas,d=c&&c.height,r=c&&c.width;if(this.id=ub(),this.ctx=o,this.canvas=c,this.width=r,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jp,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Vb(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],gl[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}He.listen(this,"complete",tc),He.listen(this,"progress",a0),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:l,_aspectRatio:s}=this;return ct(t)?e&&s?s:l?i/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xe}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yo(this.canvas,this.ctx),this}stop(){return He.stop(this),this}resize(t,e){He.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,l=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(l,t,e,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Lo(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Gt(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(i,l)=>{i.id=l})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,l=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const o=e[a],c=Is(a,o),d=c==="r",r=c==="x";return{options:o,dposition:d?"chartArea":r?"bottom":"left",dtype:d?"radialLinear":r?"category":"linear"}}))),Zt(s,a=>{const o=a.options,c=o.id,d=Is(c,o),r=D(o.type,a.dtype);(o.position===void 0||$o(o.position,d)!==$o(a.dposition))&&(o.position=a.dposition),l[c]=!0;let h=null;if(c in i&&i[c].type===r)h=i[c];else{const u=xe.getScale(r);h=new u({id:c,type:r,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(o,t)}),Zt(l,(a,o)=>{a||delete i[o]}),Zt(i,a=>{Ut.configure(this,a,a.options),Ut.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((l,s)=>l.index-s.index),i>e){for(let l=e;l<i;++l)this._destroyDatasetMeta(l);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(qo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,l)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,l;for(this._removeUnreferencedMetasets(),i=0,l=e.length;i<l;i++){const s=e[i];let a=this.getDatasetMeta(i);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=s.indexAxis||zs(o,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=xe.getController(o),{datasetElementType:d,dataElementType:r}=Vt.datasets[o];Object.assign(c,{dataElementType:xe.getElement(r),datasetElementType:d&&xe.getElement(d)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,r=this.data.datasets.length;d<r;d++){const{controller:h}=this.getDatasetMeta(d),u=!l&&s.indexOf(h)===-1;h.buildOrUpdateElements(u),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),l||Zt(s,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qo("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Zt(this.scales,t=>{Ut.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!uo(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:l,count:s}of e){const a=i==="_removeElements"?-s:s;o0(t,l,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),l=i(0);for(let s=1;s<e;s++)if(!uo(l,i(s)))return;return Array.from(l).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ut.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,l=>{i&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,s)=>{l._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ee(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),l={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(i.controller._update(e),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(He.has(this)?this.attached&&!He.running(this)&&He.start(this):(this.draw(),tc({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:l}=this._resizeBeforeDraw;this._resize(i,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let l,s;for(l=0,s=e.length;l<s;++l){const a=e[l];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,l=!i.disabled,s=d0(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(l&&Ji(e,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),l&&Fi(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Te(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,l){const s=sp.modes[e];return typeof s=="function"?s(this,t,i,l):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let l=i.filter(s=>s&&s._dataset===e).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(l)),l}getContext(){return this.$context||(this.$context=nn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const l=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,l);ne(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(o=>o.datasetIndex===t?l:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),He.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),yo(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},l=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Zt(this.options.events,s=>i(s,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(c,d)=>{e.addEventListener(this,c,d),t[c]=d},l=(c,d)=>{t[c]&&(e.removeEventListener(this,c,d),delete t[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const o=()=>{l("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,l("resize",s),this._stop(),this._resize(0,0),i("attach",o)},e.isAttached(this.canvas)?o():a()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const l=i?"set":"remove";let s,a,o,c;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+l+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){a=t[o];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[l+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!vl(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const l=this.options.hover,s=(c,d)=>c.filter(r=>!d.some(h=>r.datasetIndex===h.datasetIndex&&r.index===h.index)),a=s(e,t),o=i?t:s(t,e);a.length&&this.updateHoverStyle(a,l.mode,!1),o.length&&l.mode&&this.updateHoverStyle(o,l.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},l=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,l)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,l),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:l=[],options:s}=this,a=e,o=this._getActiveElements(t,l,i,a),c=fb(t),d=c0(t,this._lastEvent,i,c);i&&(this._lastEvent=null,Gt(s.onHover,[t,o,this],this),c&&Gt(s.onClick,[t,o,this],this));const r=!vl(o,l);return(r||e)&&(this._active=o,this._updateHoverStyles(o,l,e)),this._lastEvent=d,r}_getActiveElements(t,e,i,l){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,l)}}K(Tt,"defaults",Vt),K(Tt,"instances",gl),K(Tt,"overrides",yn),K(Tt,"registry",xe),K(Tt,"version",l0),K(Tt,"getChart",ec);function nc(){return Zt(Tt.instances,n=>n._plugins.invalidate())}function r0(n,t,e){const{startAngle:i,pixelMargin:l,x:s,y:a,outerRadius:o,innerRadius:c}=t;let d=l/o;n.beginPath(),n.arc(s,a,o,i-d,e+d),c>l?(d=l/c,n.arc(s,a,c,e+d,i-d,!0)):n.arc(s,a,l,e+Lt,i-Lt),n.closePath(),n.clip()}function h0(n){return ha(n,["outerStart","outerEnd","innerStart","innerEnd"])}function u0(n,t,e,i){const l=h0(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),o=c=>{const d=(e-Math.min(s,c))*i/2;return It(c,0,Math.min(s,d))};return{outerStart:o(l.outerStart),outerEnd:o(l.outerEnd),innerStart:It(l.innerStart,0,a),innerEnd:It(l.innerEnd,0,a)}}function Kn(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Nl(n,t,e,i,l,s){const{x:a,y:o,startAngle:c,pixelMargin:d,innerRadius:r}=t,h=Math.max(t.outerRadius+i+e-d,0),u=r>0?r+i+e+d:0;let b=0;const m=l-c;if(i){const j=r>0?r-i:0,O=h>0?h-i:0,P=(j+O)/2,et=P!==0?m*P/(P+i):m;b=(m-et)/2}const p=Math.max(.001,m*h-e/tt)/h,Z=(m-p)/2,G=c+Z+b,f=l-Z-b,{outerStart:y,outerEnd:X,innerStart:W,innerEnd:L}=u0(t,u,h,f-G),S=h-y,g=h-X,x=G+y/S,V=f-X/g,H=u+W,z=u+L,Y=G+W/H,U=f-L/z;if(n.beginPath(),s){const j=(x+V)/2;if(n.arc(a,o,h,x,j),n.arc(a,o,h,j,V),X>0){const _=Kn(g,V,a,o);n.arc(_.x,_.y,X,V,f+Lt)}const O=Kn(z,f,a,o);if(n.lineTo(O.x,O.y),L>0){const _=Kn(z,U,a,o);n.arc(_.x,_.y,L,f+Lt,U+Math.PI)}const P=(f-L/u+(G+W/u))/2;if(n.arc(a,o,u,f-L/u,P,!0),n.arc(a,o,u,P,G+W/u,!0),W>0){const _=Kn(H,Y,a,o);n.arc(_.x,_.y,W,Y+Math.PI,G-Lt)}const et=Kn(S,G,a,o);if(n.lineTo(et.x,et.y),y>0){const _=Kn(S,x,a,o);n.arc(_.x,_.y,y,G-Lt,x)}}else{n.moveTo(a,o);const j=Math.cos(x)*h+a,O=Math.sin(x)*h+o;n.lineTo(j,O);const P=Math.cos(V)*h+a,et=Math.sin(V)*h+o;n.lineTo(P,et)}n.closePath()}function b0(n,t,e,i,l){const{fullCircles:s,startAngle:a,circumference:o}=t;let c=t.endAngle;if(s){Nl(n,t,e,i,c,l);for(let d=0;d<s;++d)n.fill();isNaN(o)||(c=a+(o%gt||gt))}return Nl(n,t,e,i,c,l),n.fill(),c}function m0(n,t,e,i,l){const{fullCircles:s,startAngle:a,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:r,borderDash:h,borderDashOffset:u}=c,b=c.borderAlign==="inner";if(!d)return;n.setLineDash(h||[]),n.lineDashOffset=u,b?(n.lineWidth=d*2,n.lineJoin=r||"round"):(n.lineWidth=d,n.lineJoin=r||"bevel");let m=t.endAngle;if(s){Nl(n,t,e,i,m,l);for(let p=0;p<s;++p)n.stroke();isNaN(o)||(m=a+(o%gt||gt))}b&&r0(n,t,m),s||(Nl(n,t,e,i,m,l),n.stroke())}class Gi extends Mt{constructor(e){super();K(this,"circumference");K(this,"endAngle");K(this,"fullCircles");K(this,"innerRadius");K(this,"outerRadius");K(this,"pixelMargin");K(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,l){const s=this.getProps(["x","y"],l),{angle:a,distance:o}=Hl(s,{x:e,y:i}),{startAngle:c,endAngle:d,innerRadius:r,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),b=(this.options.spacing+this.options.borderWidth)/2,p=D(u,d-c)>=gt||Ci(a,c,d),Z=Me(o,r+b,h+b);return p&&Z}getCenterPoint(e){const{x:i,y:l,startAngle:s,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:r}=this.options,h=(s+a)/2,u=(o+c+r+d)/2;return{x:i+Math.cos(h)*u,y:l+Math.sin(h)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:l}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,o=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=l>gt?Math.floor(l/gt):0,l===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(tt,l||0)),r=s*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,b0(e,this,r,a,o),m0(e,this,r,a,o),e.restore()}}K(Gi,"id","arc"),K(Gi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),K(Gi,"defaultRoutes",{backgroundColor:"backgroundColor"}),K(Gi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function nh(n,t,e=t){n.lineCap=D(e.borderCapStyle,t.borderCapStyle),n.setLineDash(D(e.borderDash,t.borderDash)),n.lineDashOffset=D(e.borderDashOffset,t.borderDashOffset),n.lineJoin=D(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=D(e.borderWidth,t.borderWidth),n.strokeStyle=D(e.borderColor,t.borderColor)}function p0(n,t,e){n.lineTo(e.x,e.y)}function G0(n){return n.stepped?Jb:n.tension||n.cubicInterpolationMode==="monotone"?Fb:p0}function ih(n,t,e={}){const i=n.length,{start:l=0,end:s=i-1}=e,{start:a,end:o}=t,c=Math.max(l,a),d=Math.min(s,o),r=l<a&&s<a||l>o&&s>o;return{count:i,start:c,loop:t.loop,ilen:d<c&&!r?i+d-c:d-c}}function Z0(n,t,e,i){const{points:l,options:s}=t,{count:a,start:o,loop:c,ilen:d}=ih(l,e,i),r=G0(s);let{move:h=!0,reverse:u}=i||{},b,m,p;for(b=0;b<=d;++b)m=l[(o+(u?d-b:b))%a],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):r(n,p,m,u,s.stepped),p=m);return c&&(m=l[(o+(u?d:0))%a],r(n,p,m,u,s.stepped)),!!c}function f0(n,t,e,i){const l=t.points,{count:s,start:a,ilen:o}=ih(l,e,i),{move:c=!0,reverse:d}=i||{};let r=0,h=0,u,b,m,p,Z,G;const f=X=>(a+(d?o-X:X))%s,y=()=>{p!==Z&&(n.lineTo(r,Z),n.lineTo(r,p),n.lineTo(r,G))};for(c&&(b=l[f(0)],n.moveTo(b.x,b.y)),u=0;u<=o;++u){if(b=l[f(u)],b.skip)continue;const X=b.x,W=b.y,L=X|0;L===m?(W<p?p=W:W>Z&&(Z=W),r=(h*r+X)/++h):(y(),n.lineTo(X,W),m=L,h=0,p=Z=W),G=W}y()}function Ms(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?f0:Z0}function X0(n){return n.stepped?fm:n.tension||n.cubicInterpolationMode==="monotone"?Xm:Gn}function y0(n,t,e,i){let l=t._path;l||(l=t._path=new Path2D,t.path(l,e,i)&&l.closePath()),nh(n,t.options),n.stroke(l)}function W0(n,t,e,i){const{segments:l,options:s}=t,a=Ms(t);for(const o of l)nh(n,s,o.style),n.beginPath(),a(n,t,o,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const g0=typeof Path2D=="function";function L0(n,t,e,i){g0&&!t.options.segment?y0(n,t,e,i):W0(n,t,e,i)}class Ee extends Mt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const l=i.spanGaps?this._loop:this._fullLoop;rm(this._points,i,t,l,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Rm(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,l=t[e],s=this.points,a=jr(this,{property:e,start:l,end:l});if(!a.length)return;const o=[],c=X0(i);let d,r;for(d=0,r=a.length;d<r;++d){const{start:h,end:u}=a[d],b=s[h],m=s[u];if(b===m){o.push(b);continue}const p=Math.abs((l-b[e])/(m[e]-b[e])),Z=c(b,m,p,i.stepped);Z[e]=t[e],o.push(Z)}return o.length===1?o[0]:o}pathSegment(t,e,i){return Ms(this)(t,this,e,i)}path(t,e,i){const l=this.segments,s=Ms(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const o of l)a&=s(t,this,o,{start:e,end:e+i-1});return!!a}draw(t,e,i,l){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),L0(t,this,i,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}K(Ee,"id","line"),K(Ee,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),K(Ee,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),K(Ee,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ic(n,t,e,i){const l=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<l.radius+l.hitRadius}class Ll extends Mt{constructor(e){super();K(this,"parsed");K(this,"skip");K(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,l){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],l);return Math.pow(e-a,2)+Math.pow(i-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return ic(this,e,"x",i)}inYRange(e,i){return ic(this,e,"y",i)}getCenterPoint(e){const{x:i,y:l}=this.getProps(["x","y"],e);return{x:i,y:l}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const l=i&&e.borderWidth||0;return(i+l)*2}draw(e,i){const l=this.options;this.skip||l.radius<.1||!Te(this,i,this.size(l)/2)||(e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.fillStyle=l.backgroundColor,Ks(e,l,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}K(Ll,"id","point"),K(Ll,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),K(Ll,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function lh(n,t){const{x:e,y:i,base:l,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let o,c,d,r,h;return n.horizontal?(h=a/2,o=Math.min(e,l),c=Math.max(e,l),d=i-h,r=i+h):(h=s/2,o=e-h,c=e+h,d=Math.min(i,l),r=Math.max(i,l)),{left:o,top:d,right:c,bottom:r}}function _e(n,t,e,i){return n?0:It(t,e,i)}function x0(n,t,e){const i=n.options.borderWidth,l=n.borderSkipped,s=Hr(i);return{t:_e(l.top,s.top,0,e),r:_e(l.right,s.right,0,t),b:_e(l.bottom,s.bottom,0,e),l:_e(l.left,s.left,0,t)}}function R0(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),l=n.options.borderRadius,s=Ae(l),a=Math.min(t,e),o=n.borderSkipped,c=i||$(l);return{topLeft:_e(!c||o.top||o.left,s.topLeft,0,a),topRight:_e(!c||o.top||o.right,s.topRight,0,a),bottomLeft:_e(!c||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:_e(!c||o.bottom||o.right,s.bottomRight,0,a)}}function S0(n){const t=lh(n),e=t.right-t.left,i=t.bottom-t.top,l=x0(n,e/2,i/2),s=R0(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+l.l,y:t.top+l.t,w:e-l.l-l.r,h:i-l.t-l.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,s.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(l.b,l.r))}}}}function Xs(n,t,e,i){const l=t===null,s=e===null,o=n&&!(l&&s)&&lh(n,i);return o&&(l||Me(t,o.left,o.right))&&(s||Me(e,o.top,o.bottom))}function V0(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Y0(n,t){n.rect(t.x,t.y,t.w,t.h)}function ys(n,t,e={}){const i=n.x!==e.x?-t:0,l=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,a=(n.y+n.h!==e.y+e.h?t:0)-l;return{x:n.x+i,y:n.y+l,w:n.w+s,h:n.h+a,radius:n.radius}}class xl extends Mt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:l}}=this,{inner:s,outer:a}=S0(this),o=V0(a.radius)?Qn:Y0;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),o(t,ys(a,e,s)),t.clip(),o(t,ys(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,ys(s,e)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,e,i){return Xs(this,t,e,i)}inXRange(t,e){return Xs(this,t,null,e)}inYRange(t,e){return Xs(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:l,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+l)/2:e,y:s?i:(i+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}K(xl,"id","bar"),K(xl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),K(xl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var v0=Object.freeze({__proto__:null,ArcElement:Gi,BarElement:xl,LineElement:Ee,PointElement:Ll});const Ns=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lc=Ns.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function sh(n){return Ns[n%Ns.length]}function ah(n){return lc[n%lc.length]}function k0(n,t){return n.borderColor=sh(t),n.backgroundColor=ah(t),++t}function C0(n,t){return n.backgroundColor=n.data.map(()=>sh(t++)),t}function K0(n,t){return n.backgroundColor=n.data.map(()=>ah(t++)),t}function H0(n){let t=0;return(e,i)=>{const l=n.getDatasetMeta(i).controller;l instanceof Be?t=C0(e,t):l instanceof Vi?t=K0(e,t):l&&(t=k0(e,t))}}function sc(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function z0(n){return n&&(n.borderColor||n.backgroundColor)}var I0={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:l}=n.config,{elements:s}=l;if(!e.forceOverride&&(sc(i)||z0(l)||s&&sc(s)))return;const a=H0(n);i.forEach(a)}};function M0(n,t,e,i,l){const s=l.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],o=(e-2)/(s-2);let c=0;const d=t+e-1;let r=t,h,u,b,m,p;for(a[c++]=n[r],h=0;h<s-2;h++){let Z=0,G=0,f;const y=Math.floor((h+1)*o)+1+t,X=Math.min(Math.floor((h+2)*o)+1,e)+t,W=X-y;for(f=y;f<X;f++)Z+=n[f].x,G+=n[f].y;Z/=W,G/=W;const L=Math.floor(h*o)+1+t,S=Math.min(Math.floor((h+1)*o)+1,e)+t,{x:g,y:x}=n[r];for(b=m=-1,f=L;f<S;f++)m=.5*Math.abs((g-Z)*(n[f].y-x)-(g-n[f].x)*(G-x)),m>b&&(b=m,u=n[f],p=f);a[c++]=u,r=p}return a[c++]=n[d],a}function N0(n,t,e,i){let l=0,s=0,a,o,c,d,r,h,u,b,m,p;const Z=[],G=t+e-1,f=n[t].x,X=n[G].x-f;for(a=t;a<t+e;++a){o=n[a],c=(o.x-f)/X*i,d=o.y;const W=c|0;if(W===r)d<m?(m=d,h=a):d>p&&(p=d,u=a),l=(s*l+o.x)/++s;else{const L=a-1;if(!ct(h)&&!ct(u)){const S=Math.min(h,u),g=Math.max(h,u);S!==b&&S!==L&&Z.push({...n[S],x:l}),g!==b&&g!==L&&Z.push({...n[g],x:l})}a>0&&L!==b&&Z.push(n[L]),Z.push(o),r=W,s=0,m=p=d,h=u=b=a}}return Z}function oh(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ac(n){n.data.datasets.forEach(t=>{oh(t)})}function T0(n,t){const e=t.length;let i=0,l;const{iScale:s}=n,{min:a,max:o,minDefined:c,maxDefined:d}=s.getUserBounds();return c&&(i=It(Ne(t,s.axis,a).lo,0,e-1)),d?l=It(Ne(t,s.axis,o).hi+1,i,e)-i:l=e-i,{start:i,count:l}}var ch={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){ac(n);return}const i=n.width;n.data.datasets.forEach((l,s)=>{const{_data:a,indexAxis:o}=l,c=n.getDatasetMeta(s),d=a||l.data;if(mi([o,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const r=n.scales[c.xAxisID];if(r.type!=="linear"&&r.type!=="time"||n.options.parsing)return;let{start:h,count:u}=T0(c,d);const b=e.threshold||4*i;if(u<=b){oh(l);return}ct(a)&&(l._data=d,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let m;switch(e.algorithm){case"lttb":m=M0(d,h,u,i,e);break;case"min-max":m=N0(d,h,u,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}l._decimated=m})},destroy(n){ac(n)}};function J0(n,t,e){const i=n.segments,l=n.points,s=t.points,a=[];for(const o of i){let{start:c,end:d}=o;d=Xa(c,d,l);const r=Ts(e,l[c],l[d],o.loop);if(!t.segments){a.push({source:o,target:r,start:l[c],end:l[d]});continue}const h=jr(t,r);for(const u of h){const b=Ts(e,s[u.start],s[u.end],u.loop),m=Qr(o,l,b);for(const p of m)a.push({source:p,target:u,start:{[e]:oc(r,b,"start",Math.max)},end:{[e]:oc(r,b,"end",Math.min)}})}}return a}function Ts(n,t,e,i){if(i)return;let l=t[n],s=e[n];return n==="angle"&&(l=oe(l),s=oe(s)),{property:n,start:l,end:s}}function F0(n,t){const{x:e=null,y:i=null}=n||{},l=t.points,s=[];return t.segments.forEach(({start:a,end:o})=>{o=Xa(a,o,l);const c=l[a],d=l[o];i!==null?(s.push({x:c.x,y:i}),s.push({x:d.x,y:i})):e!==null&&(s.push({x:e,y:c.y}),s.push({x:e,y:d.y}))}),s}function Xa(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function oc(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function dh(n,t){let e=[],i=!1;return mt(n)?(i=!0,e=n):e=F0(n,t),e.length?new Ee({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function cc(n){return n&&n.fill!==!1}function P0(n,t,e){let l=n[t].fill;const s=[t];let a;if(!e)return l;for(;l!==!1&&s.indexOf(l)===-1;){if(!Rt(l))return l;if(a=n[l],!a)return!1;if(a.visible)return l;s.push(l),l=a.fill}return!1}function w0(n,t,e){const i=O0(n);if($(i))return isNaN(i.value)?!1:i;let l=parseFloat(i);return Rt(l)&&Math.floor(l)===l?Q0(i[0],t,l,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Q0(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function j0(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:$(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function U0(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:$(n)?i=n.value:i=t.getBaseValue(),i}function O0(n){const t=n.options,e=t.fill;let i=D(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function B0(n){const{scale:t,index:e,line:i}=n,l=[],s=i.segments,a=i.points,o=E0(t,e);o.push(dh({x:null,y:t.bottom},i));for(let c=0;c<s.length;c++){const d=s[c];for(let r=d.start;r<=d.end;r++)_0(l,a[r],o)}return new Ee({points:l,options:{}})}function E0(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let l=0;l<i.length;l++){const s=i[l];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function _0(n,t,e){const i=[];for(let l=0;l<e.length;l++){const s=e[l],{first:a,last:o,point:c}=D0(s,t,"x");if(!(!c||a&&o)){if(a)i.unshift(c);else if(n.push(c),!o)break}}n.push(...i)}function D0(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const l=i[e],s=n.segments,a=n.points;let o=!1,c=!1;for(let d=0;d<s.length;d++){const r=s[d],h=a[r.start][e],u=a[r.end][e];if(Me(l,h,u)){o=l===h,c=l===u;break}}return{first:o,last:c,point:i}}class rh{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:l,y:s,radius:a}=this;return e=e||{start:0,end:gt},t.arc(l,s,a,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:l}=this,s=t.angle;return{x:e+Math.cos(s)*l,y:i+Math.sin(s)*l,angle:s}}}function A0(n){const{chart:t,fill:e,line:i}=n;if(Rt(e))return $0(t,e);if(e==="stack")return B0(n);if(e==="shape")return!0;const l=q0(n);return l instanceof rh?l:dh(l,i)}function $0(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function q0(n){return(n.scale||{}).getPointPositionForValue?eG(n):tG(n)}function tG(n){const{scale:t={},fill:e}=n,i=j0(e,t);if(Rt(i)){const l=t.isHorizontal();return{x:l?i:null,y:l?null:i}}return null}function eG(n){const{scale:t,fill:e}=n,i=t.options,l=t.getLabels().length,s=i.reverse?t.max:t.min,a=U0(e,t,s),o=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,s);return new rh({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<l;++c)o.push(t.getPointPositionForValue(c,a));return o}function Ws(n,t,e){const i=A0(t),{line:l,scale:s,axis:a}=t,o=l.options,c=o.fill,d=o.backgroundColor,{above:r=d,below:h=d}=c||{};i&&l.points.length&&(Ji(n,e),nG(n,{line:l,target:i,above:r,below:h,area:e,scale:s,axis:a}),Fi(n))}function nG(n,t){const{line:e,target:i,above:l,below:s,area:a,scale:o}=t,c=e._loop?"angle":t.axis;n.save(),c==="x"&&s!==l&&(dc(n,i,a.top),rc(n,{line:e,target:i,color:l,scale:o,property:c}),n.restore(),n.save(),dc(n,i,a.bottom)),rc(n,{line:e,target:i,color:s,scale:o,property:c}),n.restore()}function dc(n,t,e){const{segments:i,points:l}=t;let s=!0,a=!1;n.beginPath();for(const o of i){const{start:c,end:d}=o,r=l[c],h=l[Xa(c,d,l)];s?(n.moveTo(r.x,r.y),s=!1):(n.lineTo(r.x,e),n.lineTo(r.x,r.y)),a=!!t.pathSegment(n,o,{move:a}),a?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function rc(n,t){const{line:e,target:i,property:l,color:s,scale:a}=t,o=J0(e,i,l);for(const{source:c,target:d,start:r,end:h}of o){const{style:{backgroundColor:u=s}={}}=c,b=i!==!0;n.save(),n.fillStyle=u,iG(n,a,b&&Ts(l,r,h)),n.beginPath();const m=!!e.pathSegment(n,c);let p;if(b){m?n.closePath():hc(n,i,h,l);const Z=!!i.pathSegment(n,d,{move:m,reverse:!0});p=m&&Z,p||hc(n,i,r,l)}n.closePath(),n.fill(p?"evenodd":"nonzero"),n.restore()}}function iG(n,t,e){const{top:i,bottom:l}=t.chart.chartArea,{property:s,start:a,end:o}=e||{};s==="x"&&(n.beginPath(),n.rect(a,i,o-a,l-i),n.clip())}function hc(n,t,e,i){const l=t.interpolate(e,i);l&&n.lineTo(l.x,l.y)}var lG={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,l=[];let s,a,o,c;for(a=0;a<i;++a)s=n.getDatasetMeta(a),o=s.dataset,c=null,o&&o.options&&o instanceof Ee&&(c={visible:n.isDatasetVisible(a),index:a,fill:w0(o,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=c,l.push(c);for(a=0;a<i;++a)c=l[a],!(!c||c.fill===!1)&&(c.fill=P0(l,a,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",l=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=l.length-1;a>=0;--a){const o=l[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),i&&o.fill&&Ws(n.ctx,o,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let l=i.length-1;l>=0;--l){const s=i[l].$filler;cc(s)&&Ws(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!cc(i)||e.drawTime!=="beforeDatasetDraw"||Ws(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const uc=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},sG=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class bc extends Mt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Gt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,l)=>t.sort(i,l,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,l=Yt(i.font),s=l.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=uc(i,s);let d,r;e.font=l.string,this.isHorizontal()?(d=this.maxWidth,r=this._fitRows(a,s,o,c)+10):(r=this.maxHeight,d=this._fitCols(a,l,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(r,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,l){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],r=l+o;let h=t;s.textAlign="left",s.textBaseline="middle";let u=-1,b=-r;return this.legendItems.forEach((m,p)=>{const Z=i+e/2+s.measureText(m.text).width;(p===0||d[d.length-1]+Z+2*o>a)&&(h+=r,d[d.length-(p>0?0:1)]=0,b+=r,u++),c[p]={left:0,top:b,row:u,width:Z,height:l},d[d.length-1]+=Z+o}),h}_fitCols(t,e,i,l){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],r=a-t;let h=o,u=0,b=0,m=0,p=0;return this.legendItems.forEach((Z,G)=>{const{itemWidth:f,itemHeight:y}=aG(i,e,s,Z,l);G>0&&b+y+2*o>r&&(h+=u+o,d.push({width:u,height:b}),m+=u+o,p++,u=b=0),c[G]={left:m,top:b,col:p,width:f,height:y},u=Math.max(u,f),b+=y+o}),h+=u,d.push({width:u,height:b}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:l},rtl:s}}=this,a=Jn(s,this.left,this.width);if(this.isHorizontal()){let o=0,c=jt(i,this.left+l,this.right-this.lineWidths[o]);for(const d of e)o!==d.row&&(o=d.row,c=jt(i,this.left+l,this.right-this.lineWidths[o])),d.top+=this.top+t+l,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+l}else{let o=0,c=jt(i,this.top+t+l,this.bottom-this.columnSizes[o].height);for(const d of e)d.col!==o&&(o=d.col,c=jt(i,this.top+t+l,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+l,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ji(t,this),this._draw(),Fi(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:l}=this,{align:s,labels:a}=t,o=Vt.color,c=Jn(t.rtl,this.left,this.width),d=Yt(a.font),{padding:r}=a,h=d.size,u=h/2;let b;this.drawTitle(),l.textAlign=c.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=d.string;const{boxWidth:m,boxHeight:p,itemHeight:Z}=uc(a,h),G=function(L,S,g){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;l.save();const x=D(g.lineWidth,1);if(l.fillStyle=D(g.fillStyle,o),l.lineCap=D(g.lineCap,"butt"),l.lineDashOffset=D(g.lineDashOffset,0),l.lineJoin=D(g.lineJoin,"miter"),l.lineWidth=x,l.strokeStyle=D(g.strokeStyle,o),l.setLineDash(D(g.lineDash,[])),a.usePointStyle){const V={radius:p*Math.SQRT2/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:x},H=c.xPlus(L,m/2),z=S+u;Kr(l,V,H,z,a.pointStyleWidth&&m)}else{const V=S+Math.max((h-p)/2,0),H=c.leftForLtr(L,m),z=Ae(g.borderRadius);l.beginPath(),Object.values(z).some(Y=>Y!==0)?Qn(l,{x:H,y:V,w:m,h:p,radius:z}):l.rect(H,V,m,p),l.fill(),x!==0&&l.stroke()}l.restore()},f=function(L,S,g){Wn(l,g.text,L,S+Z/2,d,{strikethrough:g.hidden,textAlign:c.textAlign(g.textAlign)})},y=this.isHorizontal(),X=this._computeTitleHeight();y?b={x:jt(s,this.left+r,this.right-i[0]),y:this.top+r+X,line:0}:b={x:this.left+r,y:jt(s,this.top+X+r,this.bottom-e[0].height),line:0},Fr(this.ctx,t.textDirection);const W=Z+r;this.legendItems.forEach((L,S)=>{l.strokeStyle=L.fontColor,l.fillStyle=L.fontColor;const g=l.measureText(L.text).width,x=c.textAlign(L.textAlign||(L.textAlign=a.textAlign)),V=m+u+g;let H=b.x,z=b.y;c.setWidth(this.width),y?S>0&&H+V+r>this.right&&(z=b.y+=W,b.line++,H=b.x=jt(s,this.left+r,this.right-i[b.line])):S>0&&z+W>this.bottom&&(H=b.x=H+e[b.line].width+r,b.line++,z=b.y=jt(s,this.top+X+r,this.bottom-e[b.line].height));const Y=c.x(H);if(G(Y,z,L),H=Yb(x,H+m+u,y?H+V:this.right,t.rtl),f(c.x(H),z,L),y)b.x+=V+r;else if(typeof L.text!="string"){const U=d.lineHeight;b.y+=hh(L,U)+r}else b.y+=W}),Pr(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Yt(e.font),l=kt(e.padding);if(!e.display)return;const s=Jn(t.rtl,this.left,this.width),a=this.ctx,o=e.position,c=i.size/2,d=l.top+c;let r,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),r=this.top+d,h=jt(t.align,h,this.right-u);else{const m=this.columnSizes.reduce((p,Z)=>Math.max(p,Z.height),0);r=d+jt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const b=jt(o,h,h+u);a.textAlign=s.textAlign(da(o)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,Wn(a,e.text,b,r,i)}_computeTitleHeight(){const t=this.options.title,e=Yt(t.font),i=kt(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,l,s;if(Me(t,this.left,this.right)&&Me(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(l=s[i],Me(t,l.left,l.left+l.width)&&Me(e,l.top,l.top+l.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!dG(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,s=sG(l,i);l&&!s&&Gt(e.onLeave,[t,l,this],this),this._hoveredItem=i,i&&!s&&Gt(e.onHover,[t,i,this],this)}else i&&Gt(e.onClick,[t,i,this],this)}}function aG(n,t,e,i,l){const s=oG(i,n,t,e),a=cG(l,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}function oG(n,t,e,i){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(l).width}function cG(n,t,e){let i=n;return typeof t.text!="string"&&(i=hh(t,e)),i}function hh(n,t){const e=n.text?n.text.length:0;return t*e}function dG(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var rG={id:"legend",_element:bc,start(n,t,e){const i=n.legend=new bc({ctx:n.ctx,options:e,chart:n});Ut.configure(n,i,e),Ut.addBox(n,i)},stop(n){Ut.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ut.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,l=e.chart;l.isDatasetVisible(i)?(l.hide(i),t.hidden=!0):(l.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:l,color:s,useBorderRadius:a,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(e?0:void 0),r=kt(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(r.width+r.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:l||d.textAlign,borderRadius:a&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class ya extends Mt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const l=mt(i.text)?i.text.length:1;this._padding=kt(i.padding);const s=l*Yt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:l,right:s,options:a}=this,o=a.align;let c=0,d,r,h;return this.isHorizontal()?(r=jt(o,i,s),h=e+t,d=s-i):(a.position==="left"?(r=i+t,h=jt(o,l,e),c=tt*-.5):(r=s-t,h=jt(o,e,l),c=tt*.5),d=l-e),{titleX:r,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Yt(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(s);Wn(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:d,textAlign:da(e.align),textBaseline:"middle",translation:[a,o]})}}function hG(n,t){const e=new ya({ctx:n.ctx,options:t,chart:n});Ut.configure(n,e,t),Ut.addBox(n,e),n.titleBlock=e}var uG={id:"title",_element:ya,start(n,t,e){hG(n,e)},stop(n){const t=n.titleBlock;Ut.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ut.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ol=new WeakMap;var bG={id:"subtitle",start(n,t,e){const i=new ya({ctx:n.ctx,options:e,chart:n});Ut.configure(n,i,e),Ut.addBox(n,i),ol.set(n,i)},stop(n){Ut.removeBox(n,ol.get(n)),ol.delete(n)},beforeUpdate(n,t,e){const i=ol.get(n);Ut.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zi={average(n){if(!n.length)return!1;let t,e,i=new Set,l=0,s=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();i.add(c.x),l+=c.y,++s}}return{x:[...i].reduce((o,c)=>o+c)/i.size,y:l/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,l=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=n.length;s<a;++s){const c=n[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),r=wn(t,d);r<l&&(l=r,o=c)}}if(o){const c=o.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function Le(n,t){return t&&(mt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ze(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function mG(n,t){const{element:e,datasetIndex:i,index:l}=t,s=n.getDatasetMeta(i).controller,{label:a,value:o}=s.getLabelAndValue(l);return{chart:n,label:a,parsed:s.getParsed(l),raw:n.data.datasets[i].data[l],formattedValue:o,dataset:s.getDataset(),dataIndex:l,datasetIndex:i,element:e}}function mc(n,t){const e=n.chart.ctx,{body:i,footer:l,title:s}=n,{boxWidth:a,boxHeight:o}=t,c=Yt(t.bodyFont),d=Yt(t.titleFont),r=Yt(t.footerFont),h=s.length,u=l.length,b=i.length,m=kt(t.padding);let p=m.height,Z=0,G=i.reduce((X,W)=>X+W.before.length+W.lines.length+W.after.length,0);if(G+=n.beforeBody.length+n.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),G){const X=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;p+=b*X+(G-b)*c.lineHeight+(G-1)*t.bodySpacing}u&&(p+=t.footerMarginTop+u*r.lineHeight+(u-1)*t.footerSpacing);let f=0;const y=function(X){Z=Math.max(Z,e.measureText(X).width+f)};return e.save(),e.font=d.string,Zt(n.title,y),e.font=c.string,Zt(n.beforeBody.concat(n.afterBody),y),f=t.displayColors?a+2+t.boxPadding:0,Zt(i,X=>{Zt(X.before,y),Zt(X.lines,y),Zt(X.after,y)}),f=0,e.font=r.string,Zt(n.footer,y),e.restore(),Z+=m.width,{width:Z,height:p}}function pG(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function GG(n,t,e,i){const{x:l,width:s}=i,a=e.caretSize+e.caretPadding;if(n==="left"&&l+s+a>t.width||n==="right"&&l-s-a<0)return!0}function ZG(n,t,e,i){const{x:l,width:s}=e,{width:a,chartArea:{left:o,right:c}}=n;let d="center";return i==="center"?d=l<=(o+c)/2?"left":"right":l<=s/2?d="left":l>=a-s/2&&(d="right"),GG(d,n,t,e)&&(d="center"),d}function pc(n,t,e){const i=e.yAlign||t.yAlign||pG(n,e);return{xAlign:e.xAlign||t.xAlign||ZG(n,t,e,i),yAlign:i}}function fG(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function XG(n,t,e){let{y:i,height:l}=n;return t==="top"?i+=e:t==="bottom"?i-=l+e:i-=l/2,i}function Gc(n,t,e,i){const{caretSize:l,caretPadding:s,cornerRadius:a}=n,{xAlign:o,yAlign:c}=e,d=l+s,{topLeft:r,topRight:h,bottomLeft:u,bottomRight:b}=Ae(a);let m=fG(t,o);const p=XG(t,c,d);return c==="center"?o==="left"?m+=d:o==="right"&&(m-=d):o==="left"?m-=Math.max(r,u)+l:o==="right"&&(m+=Math.max(h,b)+l),{x:It(m,0,i.width-t.width),y:It(p,0,i.height-t.height)}}function cl(n,t,e){const i=kt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Zc(n){return Le([],ze(n))}function yG(n,t,e){return nn(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function fc(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const uh={beforeTitle:Ke,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ke,beforeBody:Ke,beforeLabel:Ke,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ct(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ke,afterBody:Ke,beforeFooter:Ke,footer:Ke,afterFooter:Ke};function $t(n,t,e,i){const l=n[t].call(e,i);return typeof l>"u"?uh[t].call(e,i):l}class Js extends Mt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),l=i.enabled&&e.options.animation&&i.animations,s=new Za(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=yG(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,l=$t(i,"beforeTitle",this,t),s=$t(i,"title",this,t),a=$t(i,"afterTitle",this,t);let o=[];return o=Le(o,ze(l)),o=Le(o,ze(s)),o=Le(o,ze(a)),o}getBeforeBody(t,e){return Zc($t(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,l=[];return Zt(t,s=>{const a={before:[],lines:[],after:[]},o=fc(i,s);Le(a.before,ze($t(o,"beforeLabel",this,s))),Le(a.lines,$t(o,"label",this,s)),Le(a.after,ze($t(o,"afterLabel",this,s))),l.push(a)}),l}getAfterBody(t,e){return Zc($t(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,l=$t(i,"beforeFooter",this,t),s=$t(i,"footer",this,t),a=$t(i,"afterFooter",this,t);let o=[];return o=Le(o,ze(l)),o=Le(o,ze(s)),o=Le(o,ze(a)),o}_createItems(t){const e=this._active,i=this.chart.data,l=[],s=[],a=[];let o=[],c,d;for(c=0,d=e.length;c<d;++c)o.push(mG(this.chart,e[c]));return t.filter&&(o=o.filter((r,h,u)=>t.filter(r,h,u,i))),t.itemSort&&(o=o.sort((r,h)=>t.itemSort(r,h,i))),Zt(o,r=>{const h=fc(t.callbacks,r);l.push($t(h,"labelColor",this,r)),s.push($t(h,"labelPointStyle",this,r)),a.push($t(h,"labelTextColor",this,r))}),this.labelColors=l,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(t,e){const i=this.options.setContext(this.getContext()),l=this._active;let s,a=[];if(!l.length)this.opacity!==0&&(s={opacity:0});else{const o=Zi[i.position].call(this,l,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=mc(this,i),d=Object.assign({},o,c),r=pc(this.chart,i,d),h=Gc(i,d,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,l){const s=this.getCaretPosition(t,i,l);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:l,yAlign:s}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:c,topRight:d,bottomLeft:r,bottomRight:h}=Ae(o),{x:u,y:b}=t,{width:m,height:p}=e;let Z,G,f,y,X,W;return s==="center"?(X=b+p/2,l==="left"?(Z=u,G=Z-a,y=X+a,W=X-a):(Z=u+m,G=Z+a,y=X-a,W=X+a),f=Z):(l==="left"?G=u+Math.max(c,r)+a:l==="right"?G=u+m-Math.max(d,h)-a:G=this.caretX,s==="top"?(y=b,X=y-a,Z=G-a,f=G+a):(y=b+p,X=y+a,Z=G+a,f=G-a),W=y),{x1:Z,x2:G,x3:f,y1:y,y2:X,y3:W}}drawTitle(t,e,i){const l=this.title,s=l.length;let a,o,c;if(s){const d=Jn(i.rtl,this.x,this.width);for(t.x=cl(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",a=Yt(i.titleFont),o=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,c=0;c<s;++c)e.fillText(l[c],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,c+1===s&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,e,i,l,s){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=s,r=Yt(s.bodyFont),h=cl(this,"left",s),u=l.x(h),b=c<r.lineHeight?(r.lineHeight-c)/2:0,m=e.y+b;if(s.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},Z=l.leftForLtr(u,d)+d/2,G=m+c/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Ks(t,p,Z,G),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Ks(t,p,Z,G)}else{t.lineWidth=$(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const p=l.leftForLtr(u,d),Z=l.leftForLtr(l.xPlus(u,1),d-2),G=Ae(a.borderRadius);Object.values(G).some(f=>f!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Qn(t,{x:p,y:m,w:d,h:c,radius:G}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Qn(t,{x:Z,y:m+1,w:d-2,h:c-2,radius:G}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(p,m,d,c),t.strokeRect(p,m,d,c),t.fillStyle=a.backgroundColor,t.fillRect(Z,m+1,d-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:l}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:r}=i,h=Yt(i.bodyFont);let u=h.lineHeight,b=0;const m=Jn(i.rtl,this.x,this.width),p=function(g){e.fillText(g,m.x(t.x+b),t.y+u/2),t.y+=u+s},Z=m.textAlign(a);let G,f,y,X,W,L,S;for(e.textAlign=a,e.textBaseline="middle",e.font=h.string,t.x=cl(this,Z,i),e.fillStyle=i.bodyColor,Zt(this.beforeBody,p),b=o&&Z!=="right"?a==="center"?d/2+r:d+2+r:0,X=0,L=l.length;X<L;++X){for(G=l[X],f=this.labelTextColors[X],e.fillStyle=f,Zt(G.before,p),y=G.lines,o&&y.length&&(this._drawColorBox(e,t,X,m,i),u=Math.max(h.lineHeight,c)),W=0,S=y.length;W<S;++W)p(y[W]),u=h.lineHeight;Zt(G.after,p)}b=0,u=h.lineHeight,Zt(this.afterBody,p),t.y-=s}drawFooter(t,e,i){const l=this.footer,s=l.length;let a,o;if(s){const c=Jn(i.rtl,this.x,this.width);for(t.x=cl(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=c.textAlign(i.footerAlign),e.textBaseline="middle",a=Yt(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,o=0;o<s;++o)e.fillText(l[o],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,l){const{xAlign:s,yAlign:a}=this,{x:o,y:c}=t,{width:d,height:r}=i,{topLeft:h,topRight:u,bottomLeft:b,bottomRight:m}=Ae(l.cornerRadius);e.fillStyle=l.backgroundColor,e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.beginPath(),e.moveTo(o+h,c),a==="top"&&this.drawCaret(t,e,i,l),e.lineTo(o+d-u,c),e.quadraticCurveTo(o+d,c,o+d,c+u),a==="center"&&s==="right"&&this.drawCaret(t,e,i,l),e.lineTo(o+d,c+r-m),e.quadraticCurveTo(o+d,c+r,o+d-m,c+r),a==="bottom"&&this.drawCaret(t,e,i,l),e.lineTo(o+b,c+r),e.quadraticCurveTo(o,c+r,o,c+r-b),a==="center"&&s==="left"&&this.drawCaret(t,e,i,l),e.lineTo(o,c+h),e.quadraticCurveTo(o,c,o+h,c),e.closePath(),e.fill(),l.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,l=i&&i.x,s=i&&i.y;if(l||s){const a=Zi[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=mc(this,t),c=Object.assign({},a,this._size),d=pc(e,t,c),r=Gc(t,c,d,e);(l._to!==r.x||s._to!==r.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,r))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const l={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=kt(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,l,e),Fr(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),Pr(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,l=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),s=!vl(i,l),a=this._positionChanged(l,e);(s||a)&&(this._active=l,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,i),o=this._positionChanged(a,t),c=e||!vl(a,s)||o;return c&&(this._active=a,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,i,l){const s=this.options;if(t.type==="mouseout")return[];if(!l)return e.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:l,options:s}=this,a=Zi[s.position].call(this,t,e);return a!==!1&&(i!==a.x||l!==a.y)}}K(Js,"positioners",Zi);var WG={id:"tooltip",_element:Js,positioners:Zi,afterInit(n,t,e){e&&(n.tooltip=new Js({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},gG=Object.freeze({__proto__:null,Colors:I0,Decimation:ch,Filler:lG,Legend:rG,SubTitle:bG,Title:uG,Tooltip:WG});const LG=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function xG(n,t,e,i){const l=n.indexOf(t);if(l===-1)return LG(n,t,e,i);const s=n.lastIndexOf(t);return l!==s?e:l}const RG=(n,t)=>n===null?null:It(Math.round(n),0,t);function Xc(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Fs extends Rn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:l,label:s}of e)i[l]===s&&i.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ct(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:xG(i,t,D(e,t),this._addedLabels),RG(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(l=this.getLabels().length-1)),this.min=i,this.max=l}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,l=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)l.push({value:a});return l}getLabelForValue(t){return Xc.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}K(Fs,"id","category"),K(Fs,"defaults",{ticks:{callback:Xc}});function SG(n,t){const e=[],{bounds:l,step:s,min:a,max:o,precision:c,count:d,maxTicks:r,maxDigits:h,includeBounds:u}=n,b=s||1,m=r-1,{min:p,max:Z}=t,G=!ct(a),f=!ct(o),y=!ct(d),X=(Z-p)/(h+1);let W=bo((Z-p)/m/b)*b,L,S,g,x;if(W<1e-14&&!G&&!f)return[{value:p},{value:Z}];x=Math.ceil(Z/W)-Math.floor(p/W),x>m&&(W=bo(x*W/m/b)*b),ct(c)||(L=Math.pow(10,c),W=Math.ceil(W*L)/L),l==="ticks"?(S=Math.floor(p/W)*W,g=Math.ceil(Z/W)*W):(S=p,g=Z),G&&f&&s&&Wb((o-a)/s,W/1e3)?(x=Math.round(Math.min((o-a)/W,r)),W=(o-a)/x,S=a,g=o):y?(S=G?a:S,g=f?o:g,x=d-1,W=(g-S)/x):(x=(g-S)/W,xi(x,Math.round(x),W/1e3)?x=Math.round(x):x=Math.ceil(x));const V=Math.max(mo(W),mo(S));L=Math.pow(10,ct(c)?V:c),S=Math.round(S*L)/L,g=Math.round(g*L)/L;let H=0;for(G&&(u&&S!==a?(e.push({value:a}),S<a&&H++,xi(Math.round((S+H*W)*L)/L,a,yc(a,X,n))&&H++):S<a&&H++);H<x;++H){const z=Math.round((S+H*W)*L)/L;if(f&&z>o)break;e.push({value:z})}return f&&u&&g!==o?e.length&&xi(e[e.length-1].value,o,yc(o,X,n))?e[e.length-1].value=o:e.push({value:o}):(!f||g===o)&&e.push({value:g}),e}function yc(n,t,{horizontal:e,minRotation:i}){const l=vt(i),s=(e?Math.sin(l):Math.cos(l))||.001,a=.75*t*(""+n).length;return Math.min(t/s,a)}class Tl extends Rn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ct(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:l,max:s}=this;const a=c=>l=e?l:c,o=c=>s=i?s:c;if(t){const c=Re(l),d=Re(s);c<0&&d<0?o(0):c>0&&d>0&&a(0)}if(l===s){let c=s===0?1:Math.abs(s*.05);o(s+c),t||a(l-c)}this.min=l,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,l;return i?(l=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),e=e||11),e&&(l=Math.min(e,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const l={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,a=SG(l,s);return t.bounds==="ticks"&&xr(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const l=(i-e)/Math.max(t.length-1,1)/2;e-=l,i+=l}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Ti(t,this.chart.options.locale,this.options.ticks.format)}}class Ps extends Tl{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Rt(t)?t:0,this.max=Rt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=vt(this.options.ticks.minRotation),l=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}K(Ps,"id","linear"),K(Ps,"defaults",{ticks:{callback:Ol.formatters.numeric}});const Hi=n=>Math.floor(Oe(n)),bn=(n,t)=>Math.pow(10,Hi(n)+t);function Wc(n){return n/Math.pow(10,Hi(n))===1}function gc(n,t,e){const i=Math.pow(10,e),l=Math.floor(n/i);return Math.ceil(t/i)-l}function VG(n,t){const e=t-n;let i=Hi(e);for(;gc(n,t,i)>10;)i++;for(;gc(n,t,i)<10;)i--;return Math.min(i,Hi(n))}function YG(n,{min:t,max:e}){t=se(n.min,t);const i=[],l=Hi(t);let s=VG(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),c=l>s?Math.pow(10,l):0,d=Math.round((t-c)*a)/a,r=Math.floor((t-c)/o/10)*o*10;let h=Math.floor((d-r)/Math.pow(10,s)),u=se(n.min,Math.round((c+r+h*Math.pow(10,s))*a)/a);for(;u<e;)i.push({value:u,major:Wc(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,a=s>=0?1:a),u=Math.round((c+r+h*Math.pow(10,s))*a)/a;const b=se(n.max,u);return i.push({value:b,major:Wc(b),significand:h}),i}class ws extends Rn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Tl.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Rt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Rt(t)?Math.max(0,t):null,this.max=Rt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rt(this._userMin)&&(this.min=t===bn(this.min,0)?bn(this.min,-1):bn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,l=this.max;const s=o=>i=t?i:o,a=o=>l=e?l:o;i===l&&(i<=0?(s(1),a(10)):(s(bn(i,-1)),a(bn(l,1)))),i<=0&&s(bn(l,-1)),l<=0&&a(bn(i,1)),this.min=i,this.max=l}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=YG(e,this);return t.bounds==="ticks"&&xr(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Ti(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Oe(t),this._valueRange=Oe(this.max)-Oe(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Oe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}K(ws,"id","logarithmic"),K(ws,"defaults",{ticks:{callback:Ol.formatters.logarithmic,major:{enabled:!0}}});function Qs(n){const t=n.ticks;if(t.display&&n.display){const e=kt(t.backdropPadding);return D(t.font&&t.font.size,Vt.font.size)+e.height}return 0}function vG(n,t,e){return e=mt(e)?e:[e],{w:Tb(n,t.string,e),h:e.length*t.lineHeight}}function Lc(n,t,e,i,l){return n===i||n===l?{start:t-e/2,end:t+e/2}:n<i||n>l?{start:t-e,end:t}:{start:t,end:t+e}}function kG(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],l=[],s=n._pointLabels.length,a=n.options.pointLabels,o=a.centerPointLabels?tt/s:0;for(let c=0;c<s;c++){const d=a.setContext(n.getPointLabelContext(c));l[c]=d.padding;const r=n.getPointPosition(c,n.drawingArea+l[c],o),h=Yt(d.font),u=vG(n.ctx,h,n._pointLabels[c]);i[c]=u;const b=oe(n.getIndexAngle(c)+o),m=Math.round(Ul(b)),p=Lc(m,r.x,u.w,0,180),Z=Lc(m,r.y,u.h,90,270);CG(e,t,b,p,Z)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=zG(n,i,l)}function CG(n,t,e,i,l){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let o=0,c=0;i.start<t.l?(o=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-o)):i.end>t.r&&(o=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+o)),l.start<t.t?(c=(t.t-l.start)/a,n.t=Math.min(n.t,t.t-c)):l.end>t.b&&(c=(l.end-t.b)/a,n.b=Math.max(n.b,t.b+c))}function KG(n,t,e){const i=n.drawingArea,{extra:l,additionalAngle:s,padding:a,size:o}=e,c=n.getPointPosition(t,i+l+a,s),d=Math.round(Ul(oe(c.angle+Lt))),r=NG(c.y,o.h,d),h=IG(d),u=MG(c.x,o.w,h);return{visible:!0,x:c.x,y:r,textAlign:h,left:u,top:r,right:u+o.w,bottom:r+o.h}}function HG(n,t){if(!t)return!0;const{left:e,top:i,right:l,bottom:s}=n;return!(Te({x:e,y:i},t)||Te({x:e,y:s},t)||Te({x:l,y:i},t)||Te({x:l,y:s},t))}function zG(n,t,e){const i=[],l=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:o}=s.pointLabels,c={extra:Qs(s)/2,additionalAngle:a?tt/l:0};let d;for(let r=0;r<l;r++){c.padding=e[r],c.size=t[r];const h=KG(n,r,c);i.push(h),o==="auto"&&(h.visible=HG(h,d),h.visible&&(d=h))}return i}function IG(n){return n===0||n===180?"center":n<180?"left":"right"}function MG(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function NG(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function TG(n,t,e){const{left:i,top:l,right:s,bottom:a}=e,{backdropColor:o}=t;if(!ct(o)){const c=Ae(t.borderRadius),d=kt(t.backdropPadding);n.fillStyle=o;const r=i-d.left,h=l-d.top,u=s-i+d.width,b=a-l+d.height;Object.values(c).some(m=>m!==0)?(n.beginPath(),Qn(n,{x:r,y:h,w:u,h:b,radius:c}),n.fill()):n.fillRect(r,h,u,b)}}function JG(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let l=t-1;l>=0;l--){const s=n._pointLabelItems[l];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(l));TG(e,a,s);const o=Yt(a.font),{x:c,y:d,textAlign:r}=s;Wn(e,n._pointLabels[l],c,d+o.lineHeight/2,o,{color:a.color,textAlign:r,textBaseline:"middle"})}}function bh(n,t,e,i){const{ctx:l}=n;if(e)l.arc(n.xCenter,n.yCenter,t,0,gt);else{let s=n.getPointPosition(0,t);l.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),l.lineTo(s.x,s.y)}}function FG(n,t,e,i,l){const s=n.ctx,a=t.circular,{color:o,lineWidth:c}=t;!a&&!i||!o||!c||e<0||(s.save(),s.strokeStyle=o,s.lineWidth=c,s.setLineDash(l.dash),s.lineDashOffset=l.dashOffset,s.beginPath(),bh(n,e,a,i),s.closePath(),s.stroke(),s.restore())}function PG(n,t,e){return nn(n,{label:e,index:t,type:"pointLabel"})}class fi extends Tl{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=kt(Qs(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Rt(t)&&!isNaN(t)?t:0,this.max=Rt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qs(this.options))}generateTickLabels(t){Tl.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const l=Gt(this.options.pointLabels.callback,[e,i],this);return l||l===0?l:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?kG(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,l){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,l))}getIndexAngle(t){const e=gt/(this._pointLabels.length||1),i=this.options.startAngle||0;return oe(t*e+vt(i))}getDistanceFromCenterForValue(t){if(ct(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ct(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return PG(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const l=this.getIndexAngle(t)-Lt+i;return{x:Math.cos(l)*e+this.xCenter,y:Math.sin(l)*e+this.yCenter,angle:l}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:l,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:l,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),bh(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:l,border:s}=e,a=this._pointLabels.length;let o,c,d;if(e.pointLabels.display&&JG(this,a),l.display&&this.ticks.forEach((r,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(r.value);const u=this.getContext(h),b=l.setContext(u),m=s.setContext(u);FG(this,b,c,a,m)}}),i.display){for(t.save(),o=a-1;o>=0;o--){const r=i.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:u}=r;!u||!h||(t.lineWidth=u,t.strokeStyle=h,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const l=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(c)),r=Yt(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=r.string,a=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const h=kt(d.backdropPadding);t.fillRect(-a/2-h.left,-s-r.size/2-h.top,a+h.width,r.size+h.height)}Wn(t,o.label,0,-s,r,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}K(fi,"id","radialLinear"),K(fi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ol.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),K(fi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),K(fi,"descriptors",{angleLines:{_fallback:"grid"}});const El={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},te=Object.keys(El);function xc(n,t){return n-t}function Rc(n,t){if(ct(t))return null;const e=n._adapter,{parser:i,round:l,isoWeekday:s}=n._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),Rt(a)||(a=typeof i=="string"?e.parse(a,i):e.parse(a)),a===null?null:(l&&(a=l==="week"&&(tn(s)||s===!0)?e.startOf(a,"isoWeek",s):e.startOf(a,l)),+a)}function Sc(n,t,e,i){const l=te.length;for(let s=te.indexOf(n);s<l-1;++s){const a=El[te[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(o*a.size))<=i)return te[s]}return te[l-1]}function wG(n,t,e,i,l){for(let s=te.length-1;s>=te.indexOf(e);s--){const a=te[s];if(El[a].common&&n._adapter.diff(l,i,a)>=t-1)return a}return te[e?te.indexOf(e):0]}function QG(n){for(let t=te.indexOf(n)+1,e=te.length;t<e;++t)if(El[te[t]].common)return te[t]}function Vc(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:l}=ca(e,t),s=e[i]>=t?e[i]:e[l];n[s]=!0}}function jG(n,t,e,i){const l=n._adapter,s=+l.startOf(t[0].value,i),a=t[t.length-1].value;let o,c;for(o=s;o<=a;o=+l.add(o,1,i))c=e[o],c>=0&&(t[c].major=!0);return t}function Yc(n,t,e){const i=[],l={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],l[o]=a,i.push({value:o,major:!1});return s===0||!e?i:jG(n,i,l,e)}class zi extends Rn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),l=this._adapter=new tp._date(t.adapters.date);l.init(e),Li(i.displayFormats,l.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Rc(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:l,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(l=Math.min(l,d.min)),!o&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),l=Rt(l)&&!isNaN(l)?l:+e.startOf(Date.now(),i),s=Rt(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(l,s-1),this.max=Math.max(l+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,l=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const s=this.min,a=this.max,o=Rb(l,s,a);return this._unit=e.unit||(i.autoSkip?Sc(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):wG(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:QG(this._unit),this.initOffsets(l),t.reverse&&o.reverse(),Yc(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,l,s;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?e=1-l:e=(this.getDecimalForValue(t[1])-l)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=It(e,0,a),i=It(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,l=this.options,s=l.time,a=s.unit||Sc(s.minUnit,e,i,this._getLabelCapacity(e)),o=D(l.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=tn(c)||c===!0,r={};let h=e,u,b;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":a),t.diff(i,e,a)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+a);const m=l.ticks.source==="data"&&this.getDataTimestamps();for(u=h,b=0;u<i;u=+t.add(u,o,a),b++)Vc(r,u,m);return(u===i||l.bounds==="ticks"||b===1)&&Vc(r,u,m),Object.keys(r).sort(xc).map(p=>+p)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const l=this.options.time.displayFormats,s=this._unit,a=e||l[s];return this._adapter.format(t,a)}_tickFormatFunction(t,e,i,l){const s=this.options,a=s.ticks.callback;if(a)return Gt(a,[t,e,i],this);const o=s.time.displayFormats,c=this._unit,d=this._majorUnit,r=c&&o[c],h=d&&o[d],u=i[e],b=d&&h&&u&&u.major;return this._adapter.format(t,l||(b?h:r))}generateTickLabels(t){let e,i,l;for(e=0,i=t.length;e<i;++e)l=t[e],l.label=this._tickFormatFunction(l.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,l=vt(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(l),a=Math.sin(l),o=this._resolveTickFontOptions(0).size;return{w:i*s+o*a,h:i*a+o*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,l=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,Yc(this,[t],this._majorUnit),l),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(e=0,i=l.length;e<i;++e)t=t.concat(l[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const l=this.getLabels();for(e=0,i=l.length;e<i;++e)t.push(Rc(this,l[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Sr(t.sort(xc))}}K(zi,"id","time"),K(zi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function dl(n,t,e){let i=0,l=n.length-1,s,a,o,c;e?(t>=n[i].pos&&t<=n[l].pos&&({lo:i,hi:l}=Ne(n,"pos",t)),{pos:s,time:o}=n[i],{pos:a,time:c}=n[l]):(t>=n[i].time&&t<=n[l].time&&({lo:i,hi:l}=Ne(n,"time",t)),{time:s,pos:o}=n[i],{time:a,pos:c}=n[l]);const d=a-s;return d?o+(c-o)*(t-s)/d:o}class js extends zi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=dl(e,this.min),this._tableRange=dl(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,l=[],s=[];let a,o,c,d,r;for(a=0,o=t.length;a<o;++a)d=t[a],d>=e&&d<=i&&l.push(d);if(l.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,o=l.length;a<o;++a)r=l[a+1],c=l[a-1],d=l[a],Math.round((r+c)/2)!==d&&s.push({time:d,pos:a/(o-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((l,s)=>l-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(dl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return dl(this._table,i*this._tableRange+this._minPos,!0)}}K(js,"id","timeseries"),K(js,"defaults",zi.defaults);var UG=Object.freeze({__proto__:null,CategoryScale:Fs,LinearScale:Ps,LogarithmicScale:ws,RadialLinearScale:fi,TimeScale:zi,TimeSeriesScale:js});const OG=[qm,v0,gG,UG];Tt.register(...OG);const Hn=[];function BG(n,t=w){let e;const i=new Set;function l(o){if(Ft(n,o)&&(n=o,e)){const c=!Hn.length;for(const d of i)d[1](),Hn.push(d,n);if(c){for(let d=0;d<Hn.length;d+=2)Hn[d][0](Hn[d+1]);Hn.length=0}}}function s(o){l(o(n))}function a(o,c=w){const d=[o,c];return i.add(d),i.size===1&&(e=t(l,s)||w),o(n),()=>{i.delete(d),i.size===0&&e&&(e(),e=null)}}return{set:l,update:s,subscribe:a}}class EG{constructor(){K(this,"vsCodeApi");typeof acquireVsCodeApi=="function"&&(this.vsCodeApi=acquireVsCodeApi())}postMessage(t){this.vsCodeApi?this.vsCodeApi.postMessage(t):console.log(t)}getState(){if(this.vsCodeApi)return this.vsCodeApi.getState();{const t=localStorage.getItem("vscodeState");return t?JSON.parse(t):void 0}}setState(t){return this.vsCodeApi?this.vsCodeApi.setState(t):(localStorage.setItem("vscodeState",JSON.stringify(t)),t)}}const Kt=new EG;class _G{constructor(){K(this,"isRepameterizable",!1)}}class DG extends _G{constructor(){super();K(this,"isRepameterizable",!0)}}class vc extends DG{constructor(){super()}formular(t,e,i){return`${t} + ${e} * ${i}`}getNeutralParams(){return{location:0,scale:1}}}class mh{constructor(){}}class gs extends mh{constructor(){super()}reparameterize(t){const e=t.match(AG);let i=e[2].match(/(f?['"])(.+?)(_\{.*\})?(['"])/),l=`${i[1]}${i[2]}_raw${i[3]||""}${i[4]||""}`;return`${e[1]}_raw = sample(${l}, ${e[3]}(0, 1))<br>${e[1]} = deterministic(${i[1]}${i[2]}${i[3]||""}${i[4]||""}, ${e[5]} * ${e[1]}_raw + ${e[4]})`}getParameterName(t){switch(t){case"stepsize":return"stepsize";case"burnin":return"burnin"}}maybeAddPPLInfoBlock(t,e){switch(t){case"Burnin":e.addBlock(zt.PPLInfo,"Burnin is not supported by this PPL. You have to discard Burnin samples manually.");break}return e}}const AG=/(\w+)\s*=\s*sample\(\s*(f?['"].+['"])\s*,\s*(.+)\((.+)\s*,\s*(.*)\).*\).*/;class kc extends mh{constructor(){super()}reparameterize(t){const e=t.match(qG);if(!e)return t;let i=[];for(let d of(e[4]+")").matchAll($G))i.push({key:d[1],value:d[2].trim()});let l=e[3].match(/(f?['"])(.+?)(_\{.*\})?(['"])/),s=`${l[1]}${l[2]}_raw${l[3]||""}${l[4]||""}`;const a=this.getNeutralParams(e[2],i),o=this.getDeterministicRescaling(e[2],`${e[1]}_raw`,i);return`${e[1]}_raw = ${e[2]}(${s}, ${a})<br>${e[1]} = pm.Deterministic(${e[3]}, ${o})`}getParameterName(t){switch(t){case"stepsize":return"step_scale";case"burnin":return"tune"}}maybeAddPPLInfoBlock(t,e){switch(t){case"ESS":e.addBlock(zt.PPLInfo,"PYMC does automatic step_scale tuning if the tuning period is larger than 0. In some cases this can lead to a sub-optimal step size. If issues persist, consider setting adapt_step_size=False in your step function or adjusting the target_accept parameters.");break}return e}getDeterministicRescaling(t,e,i){var l,s;if(t=="pm.Normal")return new vc().formular((l=i.find(a=>a.key=="mu"))==null?void 0:l.value,(s=i.find(a=>a.key=="sigma"))==null?void 0:s.value,e)}getNeutralParams(t,e){let i={};if(t=="pm.Normal"){let s=new vc().getNeutralParams();i={mu:s.location,sigma:s.scale}}let l=e.map(s=>i[s.key]!=null?`${s.key}=${i[s.key]}`:`${s.key}=${s.value}`).join(", ");return console.log("TRANSFORM",l),l}}const $G=/(\w+)\s*=\s*(\([^()]*\)|(?:[^,(]|\,(?!\s*\w+\s*=))+?)(?=,|\))/g,qG=/(\w+)\s*=\s*(pm\.\w+)\(\s*(f?(?:'.+')|f?(?:".+"))\s*,\s?(.+)\)/;class Cc{static getPPLByName(t){switch(t){case"pymc":return new kc;case"Minimal":return new gs;default:return new gs}}static getPPL(t){return/pm.\.+\(/.test(t)?new gs:new kc}}function tZ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ce(n){if(this.size=n|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=n<<1;for(var t=new Array(this.size*2),e=0;e<t.length;e+=2){const c=Math.PI*e/this.size;t[e]=Math.cos(c),t[e+1]=-Math.sin(c)}this.table=t;for(var i=0,l=1;this.size>l;l<<=1)i++;this._width=i%2===0?i-1:i,this._bitrev=new Array(1<<this._width);for(var s=0;s<this._bitrev.length;s++){this._bitrev[s]=0;for(var a=0;a<this._width;a+=2){var o=this._width-a-2;this._bitrev[s]|=(s>>>a&3)<<o}}this._out=null,this._data=null,this._inv=0}ce.prototype.fromComplexArray=function(t,e){for(var i=e||new Array(t.length>>>1),l=0;l<t.length;l+=2)i[l>>>1]=t[l];return i};ce.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var e=0;e<t.length;e++)t[e]=0;return t};ce.prototype.toComplexArray=function(t,e){for(var i=e||this.createComplexArray(),l=0;l<i.length;l+=2)i[l]=t[l>>>1],i[l+1]=0;return i};ce.prototype.completeSpectrum=function(t){for(var e=this._csize,i=e>>>1,l=2;l<i;l+=2)t[e-l]=t[l],t[e-l+1]=-t[l+1]};ce.prototype.transform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._transform4(),this._out=null,this._data=null};ce.prototype.realTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._realTransform4(),this._out=null,this._data=null};ce.prototype.inverseTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=1,this._transform4();for(var i=0;i<t.length;i++)t[i]/=this.size;this._out=null,this._data=null};ce.prototype._transform4=function(){var t=this._out,e=this._csize,i=this._width,l=1<<i,s=e/l<<1,a,o,c=this._bitrev;if(s===4)for(a=0,o=0;a<e;a+=s,o++){const p=c[o];this._singleTransform2(a,p,l)}else for(a=0,o=0;a<e;a+=s,o++){const p=c[o];this._singleTransform4(a,p,l)}var d=this._inv?-1:1,r=this.table;for(l>>=2;l>=2;l>>=2){s=e/l<<1;var h=s>>>2;for(a=0;a<e;a+=s)for(var u=a+h,b=a,m=0;b<u;b+=2,m+=l){const p=b,Z=p+h,G=Z+h,f=G+h,y=t[p],X=t[p+1],W=t[Z],L=t[Z+1],S=t[G],g=t[G+1],x=t[f],V=t[f+1],H=y,z=X,Y=r[m],U=d*r[m+1],j=W*Y-L*U,O=W*U+L*Y,P=r[2*m],et=d*r[2*m+1],_=S*P-g*et,E=S*et+g*P,ot=r[3*m],B=d*r[3*m+1],pt=x*ot-V*B,rt=x*B+V*ot,Ht=H+_,Ct=z+E,St=H-_,Pt=z-E,wt=j+pt,ut=O+rt,_t=d*(j-pt),de=d*(O-rt),pe=Ht+wt,Xe=Ct+ut,ye=Ht-wt,Se=Ct-ut,Ve=St+de,we=Pt-_t,an=St-de,Ge=Pt+_t;t[p]=pe,t[p+1]=Xe,t[Z]=Ve,t[Z+1]=we,t[G]=ye,t[G+1]=Se,t[f]=an,t[f+1]=Ge}}};ce.prototype._singleTransform2=function(t,e,i){const l=this._out,s=this._data,a=s[e],o=s[e+1],c=s[e+i],d=s[e+i+1],r=a+c,h=o+d,u=a-c,b=o-d;l[t]=r,l[t+1]=h,l[t+2]=u,l[t+3]=b};ce.prototype._singleTransform4=function(t,e,i){const l=this._out,s=this._data,a=this._inv?-1:1,o=i*2,c=i*3,d=s[e],r=s[e+1],h=s[e+i],u=s[e+i+1],b=s[e+o],m=s[e+o+1],p=s[e+c],Z=s[e+c+1],G=d+b,f=r+m,y=d-b,X=r-m,W=h+p,L=u+Z,S=a*(h-p),g=a*(u-Z),x=G+W,V=f+L,H=y+g,z=X-S,Y=G-W,U=f-L,j=y-g,O=X+S;l[t]=x,l[t+1]=V,l[t+2]=H,l[t+3]=z,l[t+4]=Y,l[t+5]=U,l[t+6]=j,l[t+7]=O};ce.prototype._realTransform4=function(){var t=this._out,e=this._csize,i=this._width,l=1<<i,s=e/l<<1,a,o,c=this._bitrev;if(s===4)for(a=0,o=0;a<e;a+=s,o++){const re=c[o];this._singleRealTransform2(a,re>>>1,l>>>1)}else for(a=0,o=0;a<e;a+=s,o++){const re=c[o];this._singleRealTransform4(a,re>>>1,l>>>1)}var d=this._inv?-1:1,r=this.table;for(l>>=2;l>=2;l>>=2){s=e/l<<1;var h=s>>>1,u=h>>>1,b=u>>>1;for(a=0;a<e;a+=s)for(var m=0,p=0;m<=b;m+=2,p+=l){var Z=a+m,G=Z+u,f=G+u,y=f+u,X=t[Z],W=t[Z+1],L=t[G],S=t[G+1],g=t[f],x=t[f+1],V=t[y],H=t[y+1],z=X,Y=W,U=r[p],j=d*r[p+1],O=L*U-S*j,P=L*j+S*U,et=r[2*p],_=d*r[2*p+1],E=g*et-x*_,ot=g*_+x*et,B=r[3*p],pt=d*r[3*p+1],rt=V*B-H*pt,Ht=V*pt+H*B,Ct=z+E,St=Y+ot,Pt=z-E,wt=Y-ot,ut=O+rt,_t=P+Ht,de=d*(O-rt),pe=d*(P-Ht),Xe=Ct+ut,ye=St+_t,Se=Pt+pe,Ve=wt-de;if(t[Z]=Xe,t[Z+1]=ye,t[G]=Se,t[G+1]=Ve,m===0){var we=Ct-ut,an=St-_t;t[f]=we,t[f+1]=an;continue}if(m!==b){var Ge=Pt,on=-wt,We=Ct,cn=-St,Qe=-d*pe,nt=-d*de,Qt=-d*_t,Ye=-d*ut,ve=Ge+Qe,ke=on+nt,le=We+Ye,dn=cn-Qt,ge=a+u-m,At=a+h-m;t[ge]=ve,t[ge+1]=ke,t[At]=le,t[At+1]=dn}}}};ce.prototype._singleRealTransform2=function(t,e,i){const l=this._out,s=this._data,a=s[e],o=s[e+i],c=a+o,d=a-o;l[t]=c,l[t+1]=0,l[t+2]=d,l[t+3]=0};ce.prototype._singleRealTransform4=function(t,e,i){const l=this._out,s=this._data,a=this._inv?-1:1,o=i*2,c=i*3,d=s[e],r=s[e+i],h=s[e+o],u=s[e+c],b=d+h,m=d-h,p=r+u,Z=a*(r-u),G=b+p,f=m,y=-Z,X=b-p,W=m,L=Z;l[t]=G,l[t+1]=0,l[t+2]=f,l[t+3]=y,l[t+4]=X,l[t+5]=0,l[t+6]=W,l[t+7]=L};const Wa=function*(n=0){let t=n;for(;;)yield t++}(0);function Jl(n,t,e=!0,i=!1){if(e){let s=new RegExp(`${t}(_\\d+)?`),a=[...new Set(n.flatMap(o=>Object.keys(i?o.trace_proposed:o.trace_current).filter(d=>s.test(d.replace("_log__",""))))??[])];return n.flatMap(o=>a.map(c=>i?o.trace_proposed[c]:o.trace_current[c])).filter(o=>o!=null)}let l=[...new Set(n.flatMap(s=>Object.keys(i?s.trace_proposed:s.trace_current).filter(o=>o==t||o.replace("_log__","")==t))??[])][0];return n.filter(s=>(i?s.trace_proposed[l]:s.trace_current[l])!=null).map(s=>i?s.trace_proposed[l]:s.trace_current[l])}let eZ={hmc:{AcceptanceRateThreshold:.6,AcceptanceRateUpperThreshold:.95,CheckFunnel:!0,ESSTargetThreshold:400,RHatSplitChainESSThreshold:50,RHatThreshold:1.01,EssCalcEvery:20},nuts:{AcceptanceRateThreshold:.6,AcceptanceRateUpperThreshold:.95,CheckFunnel:!0,ESSTargetThreshold:400,RHatSplitChainESSThreshold:50,RHatThreshold:1.01,EssCalcEvery:20},metropolis_hastings:{AcceptanceRateThreshold:.2,AcceptanceRateUpperThreshold:.65,CheckFunnel:!0,ESSTargetThreshold:400,RHatSplitChainESSThreshold:50,RHatThreshold:1.01,EssCalcEvery:20}};function*Fl(n){for(let t=0;t<n;t++)yield t}class mn{constructor(){K(this,"blocks",[]);K(this,"issueStr",null);K(this,"solutionStr",null);K(this,"severity",1)}addBlock(t,e,i=1){this.blocks.push({type:t,value:e}),this.severity+=i}issue(t){this.issueStr=t}solution(t){this.solutionStr=t}}class nZ{constructor(t,e,i){K(this,"variable");K(this,"baseVariable");K(this,"severity",1);K(this,"includesBurnin");K(this,"mainBlock",[]);K(this,"blocks",[]);this.variable=t,this.baseVariable=e,this.includesBurnin=i}addBlock(t){this.blocks.push(t),this.severity+=t.severity}addMainBlock(t,e,i=1){this.mainBlock.push({type:t,value:e}),this.severity+=i}hasAny(){return this.blocks.length>0||this.mainBlock.length>0}toHelpfulWarningObject(){return{variable:this.variable,baseVariable:this.baseVariable,severity:this.severity,includesBurnin:this.includesBurnin,mainBlock:this.mainBlock,blocks:this.blocks.map(t=>({blocks:t.blocks,issue:t.issueStr,solution:t.solutionStr,severity:t.severity})).toSorted((t,e)=>e.severity-t.severity)}}}var zt=(n=>(n[n.Text=0]="Text",n[n.TextBold=1]="TextBold",n[n.Plot=2]="Plot",n[n.Html=3]="Html",n[n.Code=4]="Code",n[n.ShowMeWhere=5]="ShowMeWhere",n[n.PPLInfo=6]="PPLInfo",n[n.Space=7]="Space",n))(zt||{});function Kc(n,t){return n.accepted instanceof Array?n.accepted[t]:n.accepted}function iZ(n,t,e,i){var p,Z,G,f,y;const l=n.alg instanceof Array?((p=n.alg.find(X=>X.params.varNames&&X.params.varNames.includes(t.replace(/_\d+/,""))))==null?void 0:p.method)??"metropolis_hastings":n.alg.method;let s=eZ[l];const a=Cc.getPPLByName(n.ppl),o=l!="nuts"&&isFinite(e.acceptanceRate)&&e.acceptanceRate<s.AcceptanceRateThreshold,c=l!="nuts"&&isFinite(e.acceptanceRate)&&e.acceptanceRate>s.AcceptanceRateUpperThreshold,d=l!="nuts"&&e.isStuckChain!=null,r=s.CheckFunnel&&ph(t,0,i),h=e.ess<s.ESSTargetThreshold*(e.drawnAt/n.totalIteration),u=e.rHat&&e.rHat>s.RHatThreshold,b=e.rhatWindowStats!=null&&e.rhatWindowStats.find(X=>X.rhatLeft>=s.RHatThreshold&&X.rhatLeft>=X.rhatRight)!=null,m=new nZ(t,t.replace(/_\d+/,""),e.includesBurnin);if(r){let X=new mn;X.issue(`${r.warning.parent.name} -> ${r.warning.child.name} result in a difficult posterior.`),X.solution("Try reparametrizing the model:"),X.addBlock(0,`There is a funnel between ${r.warning.parent.name} -> ${r.warning.child.name}, that's probably not completely explored by the inference algorithm.`,10),X.addBlock(2,{chart:"pairplot",variable1:r.warning.parent.name,variable2:r.warning.child.name,chain:0},0),X.addBlock(0,"It might help to reparameterize your model:",0),X.addBlock(1,"Change:",0),X.addBlock(4,`${r.warning.child.node.source_text}`,0),X.addBlock(1,"To:",0);const W=Cc.getPPL(r.warning.child.node.source_text);X.addBlock(4,`${W.reparameterize(r.warning.child.node.source_text)}`,0),X.addBlock(5,r,0),X=W.maybeAddPPLInfoBlock("Funnel",X),m.addBlock(X)}if(u){let X=new mn;e.ess<s.RHatSplitChainESSThreshold*n.chains?(X.issue(`High RHat: ${(Z=e.rHat)==null?void 0:Z.toFixed(3)} (Not certain due to low ESS)`),X.addBlock(1,`ESS is very low (${e.ess.toFixed(3)}). Due to the low ESS, RHat may not be correct.`,0)):(X.issue(`High RHat: ${(G=e.rHat)==null?void 0:G.toFixed(3)}`),X.solution("See other warnings.")),X.addBlock(0,`Your RHat value is ${(f=e.rHat)==null?void 0:f.toFixed(3)}. An RHat value ${e.rHat>=1.1?"greater than 1.1 strongly indicates":"greater than 1.01 can be an indicator"} that the chains have not mixed well. This can be due to a variety of reasons, such as a bad starting point, a bad  proposal function, or a bad model. You can check the Rank plots below to see if the  chains are mixing well.`,10),X.addBlock(2,{chart:"rank-grid",variable:t},0),X.addBlock(0,"If the chains have mixed well you should see this by mostly uniform Rank plots. A non-uniform distribution in Rank plots suggests that the chains have not targeted the same posterior. Other Warnings are likely to give you more information and suggest possible solutions.",0),m.addBlock(X)}if(b){let X=new mn;X.issue("Some Chains are not Burn-in free."),X.solution(`Try increasing the ${a.getParameterName("burnin")} and total sample size.`);const W=(y=e.rhatWindowStats)==null?void 0:y.filter(L=>L.rhatLeft>=s.RHatThreshold&&L.rhatLeft>=L.rhatRight);X.addBlock(0,`We detected that ${W==null?void 0:W.length} ${W!=null&&W.length?"chains":"chain"} might not be Burn-in free. See the partial-chain-RHat ${W!=null&&W.length?"plots":"plot"} and the trace ${W!=null&&W.length?"charts":"chart"} below. A high RHat value in parts of the chain usually indicates non-stationarity of the chain.`,0),X.addBlock(7,null,0);for(let L of W)Math.min(L.essLeft,L.essRight)<s.RHatSplitChainESSThreshold?X.addBlock(1,`The effective sample size of this chain is low at some points (${Math.min(L.essLeft,L.essRight).toFixed(3)}). Due to the low ESS this warning can be wrong. Please check for yourself and consider increasing the total sample size or taking other ESS increasing measures.`,0):X.severity+=1.5,X.addBlock(0,`Chain ${L.chain} has a split-Rhat value of ${L.rhatLeft.toFixed(3)} on the left side of the chain and  ${L.rhatRight.toFixed(3)} on the right side.`,0),X.addBlock(0,`Try increasing the ${a.getParameterName("burnin")} and total sample size.`,0),X.addBlock(2,{chart:"trace-burnin-rhats",variable:t,chain:L.chain,target:s.RHatThreshold,rhatData:L.rhatOW},0);X=a.maybeAddPPLInfoBlock("Burnin",X),m.addBlock(X)}if(d)e.includesBurnin&&m.addMainBlock(1,"This warning was generated including data from the Burnin-samples. It might not be relevant and disappear with inference progressing further.",0),m.addMainBlock(0,`The chain ${e.isStuckChain} is stuck. The current acceptance rate is ${e.acceptanceRate.toFixed(3)}.`,10),m.addMainBlock(2,{chart:"trace",variable:t,chain:e.isStuckChain},0),m.addMainBlock(0,`If the trace continues to be stuck it is recommended to check your proposal functions and ${a.getParameterName("stepsize")}. Make sure that they are chosen sensibly according to your model.`,0);else if(c)e.includesBurnin&&m.addMainBlock(1,"This warning was generated including data from the Burnin-samples. It might not be relevant and disappear with inference progressing further.",0),m.addMainBlock(0,`The acceptance rate is very high. The current acceptance rate is ${e.acceptanceRate.toFixed(3)}.`,1);else if(o)e.includesBurnin&&m.addMainBlock(1,"This warning was generated including data from the Burnin-samples. It might not be relevant and disappear with inference progressing further.",0),m.addMainBlock(0,`The acceptance rate is very low. The current acceptance rate is ${e.acceptanceRate.toFixed(3)}.`,1);else if(h&&!e.includesBurnin){let X=new mn;X.issue(`Low ESS: ${e.ess.toFixed(3)}`),X.solution("Check other Warnings."),X.addBlock(0,`The effective Sample Size (ESS) is very small (${e.ess.toFixed(3)}) compared to the total sample size. This means that the drawn samples have very low independence.You can see this by checking the autocorrelation plot:`,0),X.addBlock(2,{chart:"acf",corr:e.acf},0),X.addBlock(0,"We are currently unsure why this is the case. Check other warnings, and variables. They might be indicative for this variable as well.",0),X=a.maybeAddPPLInfoBlock("ESS",X),m.addBlock(X)}if(c&&h){let X=new mn;X.issue(`Low ESS: ${e.ess.toFixed(3)}`),X.solution(`Increase the proposers ${a.getParameterName("stepsize")}.`),X.addBlock(0,`The effective Sample Size (ESS) is very small (${e.ess.toFixed(3)}) compared to the total sample size. This means that the drawn samples have very low independence. You can see this by checking the autocorrelation plot:`,10),X.addBlock(2,{chart:"acf",corr:e.acf},0),X.addBlock(0,`Together with the high acceptance rate this suggests that your proposer ${a.getParameterName("stepsize")} might be too small. A smaller ${a.getParameterName("stepsize")} means that the inference algorithm is less likely to explore areas far away from it's current position. While this can lead to high acceptance rates, it reduces the chance of exploring the full posterior.`,0),X=a.maybeAddPPLInfoBlock("ESS",X),m.addBlock(X)}if(o&&h){let X=new mn;X.issue(`Low ESS: ${e.ess.toFixed(3)}`),X.solution(`Lower the proposers ${a.getParameterName("stepsize")}.`),X.addBlock(0,`The effective Sample Size (ESS) is very small (${e.ess.toFixed(3)}) compared to the total sample size. This means that the drawn samples have very low independence. You can see this by checking the autocorrelation plot:`,10),X.addBlock(2,{chart:"acf",corr:e.acf},0),X.addBlock(0,`Together with the small acceptance rate this suggests that your proposer ${a.getParameterName("stepsize")} might be too large. While a large ${a.getParameterName("stepsize")} generates a diverse sample set, the acceptance rate quite often drops. Another possible solution to this issue might be increasing the sample size. With increased sample size the ESS should increase as well.`,0),X=a.maybeAddPPLInfoBlock("ESS",X),m.addBlock(X)}if(!d&&(c||o)&&(m.addMainBlock(2,{chart:"trace-grid",variable:t,chain:0},0),m.addMainBlock(0,`With your current inference algorithm (${l}), the acceptance rate is optimal between ${s.AcceptanceRateThreshold} and ${s.AcceptanceRateUpperThreshold}. This might be indicative of a problem.`,0)),m.mainBlock.length&&!m.blocks.length){let X=new mn;X.addBlock(0,`Currently we are not able to detect the reason for this issue. You can try to change the ${a.getParameterName("stepsize")} of your proposer function or increase the total sample size and ${a.getParameterName("burnin")} period. Also look at warnings raised by other variables. They might be indicative for this variable as well.`,1),o?X.addBlock(0,`Decreasing the ${a.getParameterName("stepsize")} should increase the acceptance rate.`,0):X.addBlock(0,`Increasing the ${a.getParameterName("stepsize")} should decrease the acceptance rate.`,0),X=a.maybeAddPPLInfoBlock("ESS",X),m.addBlock(X)}if(!m.hasAny())return null;if(!m.mainBlock.length){if(!h&&!u&&!b)return null;m.addMainBlock(0,"We detected potential issues with this variable.",0)}return l=="nuts"&&m.addMainBlock(1,"NUTS support is limited. Take warnings with a grain of salt.",100),m.toHelpfulWarningObject()}function ph(n,t,e){let i=!1;if(!e)return!1;for(let l of e){let s=n.replace(/_\d+/,"").replace("_log__",""),a=l[0].name.replace(/f"/,"").replace(/f'/,"").replaceAll(/"/g,"").replaceAll(/'/g,"").replace(/_\d+/,"").replace(/_{\w+}/,"").replace("_log__","");if(i=s==a,i){let o=JSON.parse(JSON.stringify(l));o[0].name=n;let c=o[1].name.replace(/f"/,"").replace(/f'/,"").replaceAll(/"/g,"").replaceAll(/'/g,"").replace("_log__",""),d=c.match(/(.+)(_\{.*\})/),r=n.match(/(.+)(_.*)/);return d&&r&&(c=`${d[1]}${r[2]}`),o[1].name=c,{severity:t+1,warning:{typ:1,parent:o[1],child:o[0],chain:0}}}}return!1}function lZ(){const n=()=>({controller:{filePath:void 0,model:void 0,modelGraph:void 0,randomVariables:void 0,debuggingSession:void 0,funnel:void 0},viewState:{navPage:"model",liveView:null,board:[]},warnings:[],incomingWarnings:[],stats:[]}),{subscribe:t,set:e,update:i}=BG(Kt.getState()||n()),l=G=>{i(f=>{let y=G(f);return Kt.setState(y),y})},s=G=>{Kt.setState(G),e(G)};return{subscribe:t,acceptWarningsChange:()=>{l(G=>(G.warnings=G.incomingWarnings,G))},setState:(G,f=0)=>{let y=Kt.getState();console.log(`SET_STATE_BEFORE (clean=${f}): `,y),console.log(`SET_STATE_INPUT (clean=${f}): `,G),y||(y=n()),f>0?(y.controller.filePath=G.filePath,y.controller.funnel=G.funnel,y.controller.model=G.model,y.controller.modelGraph=G.modelGraph,y.controller.randomVariables=G.randomVariables):(y.controller=G,y.viewState.liveView=null,y.warnings=[],y.incomingWarnings=[],y.stats=[]),f==2&&(console.log("CLEANING",y.controller),y.controller.debuggingSession=null),console.log("SET_STATE_AFTER: ",y),l(X=>y)},addToBoard:G=>{l(f=>f.viewState.board.find(X=>X.variable==G.variable&&X.graph==G.graph&&X.combine==G.combine)?(f.viewState.board=f.viewState.board.filter(X=>!(X.variable==G.variable&&X.graph==G.graph&&X.combine==G.combine)),f):(f.viewState.board=[...f.viewState.board,G],f))},setNavSelectet:G=>{l(f=>(f.viewState.navPage=G,f))},setDebuggingSession:G=>{l(f=>(console.log("SET_DBSESSION_BEFORE: ",f),f.controller.debuggingSession=G,f.warnings=[],f.incomingWarnings=[],f.stats=[],console.log("SET_DBSESSION_AFTER: ",f),f))},setViewState:G=>{l(f=>(f.viewState=G,f))},setLiveViewState:G=>{l(f=>(f.viewState.liveView=G,f))},addTraceItem:({traceItem:G,chain:f})=>{l(y=>(y.controller.debuggingSession&&y.controller.debuggingSession.trace[f].push(G),y))},addTraceBatch:({batch:G,stats:f})=>{l(y=>{if(console.log("ADD_TRACE_BATCH_BEFORE: ",y),console.log("ADD_TRACE_BATCH_BATCH: ",G),console.log("ADD_TRACE_BATCH_STATS: ",f),y.controller.debuggingSession){for(let X=0;X<y.controller.debuggingSession.trace.length&&X<G.length;X++)y.controller.debuggingSession.trace[X].push(...G[X]);y.stats.push(f),y.incomingWarnings=[];for(let X of Object.keys(f)){let W=iZ(y.controller.debuggingSession,X,f[X],y.controller.funnel);W&&y.incomingWarnings.push(W)}y.warnings.length==0&&(y.warnings=y.incomingWarnings)}return console.log("ADD_TRACE_BATCH_AFTER: ",y),y})},setTrace:G=>{l(f=>(f.controller.debuggingSession&&(f.controller.debuggingSession.trace=G),f))},setModel:G=>{l(f=>(f.controller.model=G,f))},reset:()=>s(n())}}const ht=lZ();function Hc(n){let t;return{c(){t=k("div"),t.textContent="!",F(t,"class","warning svelte-cena4g")},m(e,i){T(e,t,i)},d(e){e&&N(t)}}}function sZ(n){let t,e,i,l,s,a,o,c,d,r,h,u,b,m,p=parseInt(n[1])<n[2],Z=p&&Hc();return{c(){t=k("div"),e=k("div"),i=k("span"),l=q(n[0]),s=q(" Acceptance Rate:"),a=A(),o=k("div"),c=k("div"),d=q(n[1]),r=q("%"),h=A(),u=k("div"),b=k("div"),m=A(),Z&&Z.c(),Ot(i,"font-weight","bold"),F(c,"class","rate svelte-cena4g"),F(b,"class","rate-child svelte-cena4g"),Ot(b,"width",n[1]+"%"),F(u,"class","rate-container svelte-cena4g"),F(o,"class","chart-container svelte-cena4g"),F(t,"class","container svelte-cena4g")},m(G,f){T(G,t,f),v(t,e),v(e,i),v(i,l),v(e,s),v(t,a),v(t,o),v(o,c),v(c,d),v(c,r),v(o,h),v(o,u),v(u,b),v(o,m),Z&&Z.m(o,null)},p(G,[f]){f&1&&xt(l,G[0]),f&2&&xt(d,G[1]),f&2&&Ot(b,"width",G[1]+"%"),f&6&&(p=parseInt(G[1])<G[2]),p?Z||(Z=Hc(),Z.c(),Z.m(o,null)):Z&&(Z.d(1),Z=null)},i:w,o:w,d(G){G&&N(t),Z&&Z.d()}}}function aZ(n,t){let e=25;return Array.isArray(t)?t.forEach(i=>{i.method=="hmc"&&i.params.varNames&&i.params.varNames.includes(n.replace(/_\d+/,""))&&(e=60)}):t.method=="hmc"&&(e=60),e}function oZ(n,t,e){let i;ie(n,ht,m=>e(7,i=m));let{variable:l}=t,{selectedChain:s}=t,{combineVars:a=!0}=t,{totalAcceptanceRate:o=!1}=t,c=null,d=!1,r="0";function h(){e(6,d=!0),c!=null&&(clearInterval(c),c=null),c=setInterval(u,3e3),u()}let u=()=>{if(!i.controller.debuggingSession||!l)return;let m=i.controller.debuggingSession.alg instanceof Array?i.controller.debuggingSession.alg.findIndex(p=>p.params.varNames&&p.params.varNames.includes(l.replace(/_\d+/,""))):-1;if(o){let p=i.controller.debuggingSession.trace.map(Z=>Z.filter(G=>G.resample_addresses?G.resample_addresses.includes(l):!0));e(1,r=(p.map(Z=>Z.filter(G=>Kc(G,m)).length/(Z.length||1)).reduce((Z,G)=>Z+G,0)/p.length*100).toFixed(0))}else{const p=i.controller.debuggingSession.trace[s];let Z=new RegExp(`${l}(_\\d+)?`),G=a?p.filter(f=>f.resample_addresses?f.resample_addresses.filter(y=>Z.test(y)).length>0:!0):p.filter(f=>f.resample_addresses?f.resample_addresses.includes(l):!0);e(1,r=(G.filter(f=>Kc(f,m)).length/G.length*100).toFixed(0))}},b=25;return n.$$set=m=>{"variable"in m&&e(0,l=m.variable),"selectedChain"in m&&e(3,s=m.selectedChain),"combineVars"in m&&e(4,a=m.combineVars),"totalAcceptanceRate"in m&&e(5,o=m.totalAcceptanceRate)},n.$$.update=()=>{var m;n.$$.dirty&129&&e(2,b=aZ(l,(m=i.controller.debuggingSession)==null?void 0:m.alg)),n.$$.dirty&193&&i.controller.debuggingSession&&!d&&l&&h(),n.$$.dirty&1&&u(),n.$$.dirty&8&&u(),n.$$.dirty&32&&u()},[l,r,b,s,a,o,d,i]}class Gh extends Et{constructor(t){super(),Bt(this,t,oZ,sZ,Ft,{variable:0,selectedChain:3,combineVars:4,totalAcceptanceRate:5})}}const Zh="dmFyIHpkPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgRWQ9KHJ0LFYsbHQpPT5WIGluIHJ0P3pkKHJ0LFYse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmx0fSk6cnRbVl09bHQ7dmFyIFM9KHJ0LFYsbHQpPT5FZChydCx0eXBlb2YgViE9InN5bWJvbCI/VisiIjpWLGx0KTsoZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7LyohCiAqIEBrdXJrbGUvY29sb3IgdjAuMy4yCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rdXJrbGUvY29sb3IjcmVhZG1lCiAqIChjKSAyMDIzIEp1a2thIEt1cmtlbGEKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlCiAqL2Z1bmN0aW9uIHJ0KGkpe3JldHVybiBpKy41fDB9Y29uc3QgVj0oaSx0LGUpPT5NYXRoLm1heChNYXRoLm1pbihpLGUpLHQpO2Z1bmN0aW9uIGx0KGkpe3JldHVybiBWKHJ0KGkqMi41NSksMCwyNTUpfWZ1bmN0aW9uIG10KGkpe3JldHVybiBWKHJ0KGkqMjU1KSwwLDI1NSl9ZnVuY3Rpb24gZnQoaSl7cmV0dXJuIFYocnQoaS8yLjU1KS8xMDAsMCwxKX1mdW5jdGlvbiB1bihpKXtyZXR1cm4gVihydChpKjEwMCksMCwxMDApfWNvbnN0IGV0PXswOjAsMToxLDI6MiwzOjMsNDo0LDU6NSw2OjYsNzo3LDg6OCw5OjksQToxMCxCOjExLEM6MTIsRDoxMyxFOjE0LEY6MTUsYToxMCxiOjExLGM6MTIsZDoxMyxlOjE0LGY6MTV9LGRpPVsuLi4iMDEyMzQ1Njc4OUFCQ0RFRiJdLFpvPWk9PmRpW2kmMTVdLFFvPWk9PmRpWyhpJjI0MCk+PjRdK2RpW2kmMTVdLGtlPWk9PihpJjI0MCk+PjQ9PT0oaSYxNSksdHI9aT0+a2UoaS5yKSYma2UoaS5nKSYma2UoaS5iKSYma2UoaS5hKTtmdW5jdGlvbiBlcihpKXt2YXIgdD1pLmxlbmd0aCxlO3JldHVybiBpWzBdPT09IiMiJiYodD09PTR8fHQ9PT01P2U9e3I6MjU1JmV0W2lbMV1dKjE3LGc6MjU1JmV0W2lbMl1dKjE3LGI6MjU1JmV0W2lbM11dKjE3LGE6dD09PTU/ZXRbaVs0XV0qMTc6MjU1fToodD09PTd8fHQ9PT05KSYmKGU9e3I6ZXRbaVsxXV08PDR8ZXRbaVsyXV0sZzpldFtpWzNdXTw8NHxldFtpWzRdXSxiOmV0W2lbNV1dPDw0fGV0W2lbNl1dLGE6dD09PTk/ZXRbaVs3XV08PDR8ZXRbaVs4XV06MjU1fSkpLGV9Y29uc3QgaXI9KGksdCk9Pmk8MjU1P3QoaSk6IiI7ZnVuY3Rpb24gbnIoaSl7dmFyIHQ9dHIoaSk/Wm86UW87cmV0dXJuIGk/IiMiK3QoaS5yKSt0KGkuZykrdChpLmIpK2lyKGkuYSx0KTp2b2lkIDB9Y29uc3Qgc3I9L14oaHNsYT98aHdifGhzdilcKFxzKihbLSsuZVxkXSspKD86ZGVnKT9bXHMsXSsoWy0rLmVcZF0rKSVbXHMsXSsoWy0rLmVcZF0rKSUoPzpbXHMsXSsoWy0rLmVcZF0rKSglKT8pP1xzKlwpJC87ZnVuY3Rpb24gZm4oaSx0LGUpe2NvbnN0IG49dCpNYXRoLm1pbihlLDEtZSkscz0obyxyPShvK2kvMzApJTEyKT0+ZS1uKk1hdGgubWF4KE1hdGgubWluKHItMyw5LXIsMSksLTEpO3JldHVybltzKDApLHMoOCkscyg0KV19ZnVuY3Rpb24gb3IoaSx0LGUpe2NvbnN0IG49KHMsbz0ocytpLzYwKSU2KT0+ZS1lKnQqTWF0aC5tYXgoTWF0aC5taW4obyw0LW8sMSksMCk7cmV0dXJuW24oNSksbigzKSxuKDEpXX1mdW5jdGlvbiBycihpLHQsZSl7Y29uc3Qgbj1mbihpLDEsLjUpO2xldCBzO2Zvcih0K2U+MSYmKHM9MS8odCtlKSx0Kj1zLGUqPXMpLHM9MDtzPDM7cysrKW5bc10qPTEtdC1lLG5bc10rPXQ7cmV0dXJuIG59ZnVuY3Rpb24gYXIoaSx0LGUsbixzKXtyZXR1cm4gaT09PXM/KHQtZSkvbisodDxlPzY6MCk6dD09PXM/KGUtaSkvbisyOihpLXQpL24rNH1mdW5jdGlvbiB1aShpKXtjb25zdCBlPWkuci8yNTUsbj1pLmcvMjU1LHM9aS5iLzI1NSxvPU1hdGgubWF4KGUsbixzKSxyPU1hdGgubWluKGUsbixzKSxhPShvK3IpLzI7bGV0IGwsYyxoO3JldHVybiBvIT09ciYmKGg9by1yLGM9YT4uNT9oLygyLW8tcik6aC8obytyKSxsPWFyKGUsbixzLGgsbyksbD1sKjYwKy41KSxbbHwwLGN8fDAsYV19ZnVuY3Rpb24gZmkoaSx0LGUsbil7cmV0dXJuKEFycmF5LmlzQXJyYXkodCk/aSh0WzBdLHRbMV0sdFsyXSk6aSh0LGUsbikpLm1hcChtdCl9ZnVuY3Rpb24gZ2koaSx0LGUpe3JldHVybiBmaShmbixpLHQsZSl9ZnVuY3Rpb24gbHIoaSx0LGUpe3JldHVybiBmaShycixpLHQsZSl9ZnVuY3Rpb24gY3IoaSx0LGUpe3JldHVybiBmaShvcixpLHQsZSl9ZnVuY3Rpb24gZ24oaSl7cmV0dXJuKGklMzYwKzM2MCklMzYwfWZ1bmN0aW9uIGhyKGkpe2NvbnN0IHQ9c3IuZXhlYyhpKTtsZXQgZT0yNTUsbjtpZighdClyZXR1cm47dFs1XSE9PW4mJihlPXRbNl0/bHQoK3RbNV0pOm10KCt0WzVdKSk7Y29uc3Qgcz1nbigrdFsyXSksbz0rdFszXS8xMDAscj0rdFs0XS8xMDA7cmV0dXJuIHRbMV09PT0iaHdiIj9uPWxyKHMsbyxyKTp0WzFdPT09ImhzdiI/bj1jcihzLG8scik6bj1naShzLG8scikse3I6blswXSxnOm5bMV0sYjpuWzJdLGE6ZX19ZnVuY3Rpb24gZHIoaSx0KXt2YXIgZT11aShpKTtlWzBdPWduKGVbMF0rdCksZT1naShlKSxpLnI9ZVswXSxpLmc9ZVsxXSxpLmI9ZVsyXX1mdW5jdGlvbiB1cihpKXtpZighaSlyZXR1cm47Y29uc3QgdD11aShpKSxlPXRbMF0sbj11bih0WzFdKSxzPXVuKHRbMl0pO3JldHVybiBpLmE8MjU1P2Boc2xhKCR7ZX0sICR7bn0lLCAke3N9JSwgJHtmdChpLmEpfSlgOmBoc2woJHtlfSwgJHtufSUsICR7c30lKWB9Y29uc3QgcG49e3g6ImRhcmsiLFo6ImxpZ2h0IixZOiJyZSIsWDoiYmx1IixXOiJnciIsVjoibWVkaXVtIixVOiJzbGF0ZSIsQToiZWUiLFQ6Im9sIixTOiJvciIsQjoicmEiLEM6ImxhdGVnIixEOiJpZ2h0cyIsUjoiaW4iLFE6InR1cnF1b2lzIixFOiJoaSIsUDoicm8iLE86ImFsIixOOiJsZSIsTToiZGUiLEw6InllbGxvIixGOiJlbiIsSzoiY2giLEc6ImFya3MiLEg6ImVhIixJOiJpZ2h0ZyIsSjoid2gifSxtbj17T2ljZVhlOiJmMGY4ZmYiLGFudGlxdWV3RXRlOiJmYWViZDciLGFxdWE6ImZmZmYiLGFxdWFtYXJSZToiN2ZmZmQ0IixhenVZOiJmMGZmZmYiLGJlaWdlOiJmNWY1ZGMiLGJpc3F1ZToiZmZlNGM0IixibGFjazoiMCIsYmxhbktlZE9tb25kOiJmZmViY2QiLFhlOiJmZiIsWGV2aVRldDoiOGEyYmUyIixiUHduOiJhNTJhMmEiLGJ1cmx5d29vZDoiZGViODg3IixjYU10WGU6IjVmOWVhMCIsS2FydFl1c2U6IjdmZmYwMCIsS29jVGF0ZToiZDI2OTFlIixjU086ImZmN2Y1MCIsY1NuZmxvd2VyWGU6IjY0OTVlZCIsY1Nuc2lsazoiZmZmOGRjIixjcmltc29uOiJkYzE0M2MiLGN5YW46ImZmZmYiLHhYZToiOGIiLHhjeWFuOiI4YjhiIix4Z1RNblBkOiJiODg2MGIiLHhXYXk6ImE5YTlhOSIseGdZRjoiNjQwMCIseGdZeToiYTlhOWE5Iix4a2hha2k6ImJkYjc2YiIseG1hZ0Z0YToiOGIwMDhiIix4VGl2ZWdZRjoiNTU2YjJmIix4U2FuZ2U6ImZmOGMwMCIseFNjRWQ6Ijk5MzJjYyIseFlkOiI4YjAwMDAiLHhzT21vbjoiZTk5NjdhIix4c0hnWUY6IjhmYmM4ZiIseFVYZToiNDgzZDhiIix4VVdheToiMmY0ZjRmIix4VWdZeToiMmY0ZjRmIix4UWU6ImNlZDEiLHh2aVRldDoiOTQwMGQzIixkQXBwUms6ImZmMTQ5MyIsZEFwc2t5WGU6ImJmZmYiLGRpbVdheToiNjk2OTY5IixkaW1nWXk6IjY5Njk2OSIsZG9kZ2VyWGU6IjFlOTBmZiIsZmlZYnJpY2s6ImIyMjIyMiIsZmxTT3dFdGU6ImZmZmFmMCIsZm9Zc3RXQW46IjIyOGIyMiIsZnVLc2lhOiJmZjAwZmYiLGdhUnNiU286ImRjZGNkYyIsZ2hvc3R3RXRlOiJmOGY4ZmYiLGdUZDoiZmZkNzAwIixnVE1uUGQ6ImRhYTUyMCIsV2F5OiI4MDgwODAiLGdZRjoiODAwMCIsZ1lGTHc6ImFkZmYyZiIsZ1l5OiI4MDgwODAiLGhvbmV5TXc6ImYwZmZmMCIsaG90cFJrOiJmZjY5YjQiLFJkaWFuWWQ6ImNkNWM1YyIsUmRpZ286IjRiMDA4MiIsaXZTeToiZmZmZmYwIixraGFraToiZjBlNjhjIixsYXZGTXI6ImU2ZTZmYSIsbGF2Rk1yWHNoOiJmZmYwZjUiLGxhd25nWUY6IjdjZmMwMCIsTm1vbmNFZmZvbjoiZmZmYWNkIixaWGU6ImFkZDhlNiIsWmNTTzoiZjA4MDgwIixaY3lhbjoiZTBmZmZmIixaZ1RNblBkTHc6ImZhZmFkMiIsWldheToiZDNkM2QzIixaZ1lGOiI5MGVlOTAiLFpnWXk6ImQzZDNkMyIsWnBSazoiZmZiNmMxIixac09tb246ImZmYTA3YSIsWnNIZ1lGOiIyMGIyYWEiLFpza3lYZToiODdjZWZhIixaVVdheToiNzc4ODk5IixaVWdZeToiNzc4ODk5Iixac3RBbFhlOiJiMGM0ZGUiLFpMdzoiZmZmZmUwIixsaW1lOiJmZjAwIixsaW1lZ1lGOiIzMmNkMzIiLGxSRjoiZmFmMGU2IixtYWdGdGE6ImZmMDBmZiIsbWFQb246IjgwMDAwMCIsVmFxdWFtYXJSZToiNjZjZGFhIixWWGU6ImNkIixWU2NFZDoiYmE1NWQzIixWcHVycE46IjkzNzBkYiIsVnNIZ1lGOiIzY2IzNzEiLFZVWGU6IjdiNjhlZSIsVnNwclJnZ1lGOiJmYTlhIixWUWU6IjQ4ZDFjYyIsVnZpVGV0WWQ6ImM3MTU4NSIsbWlkbmlnaHRYZToiMTkxOTcwIixtUnRjWWFtOiJmNWZmZmEiLG1pc3R5UHNlOiJmZmU0ZTEiLG1vY2Nhc1I6ImZmZTRiNSIsbmF2YWpvd0V0ZToiZmZkZWFkIixuYXZ5OiI4MCIsVGRsYWNlOiJmZGY1ZTYiLFRpdmU6IjgwODAwMCIsVGl2ZWRCYjoiNmI4ZTIzIixTYW5nZToiZmZhNTAwIixTYW5nZVlkOiJmZjQ1MDAiLFNjRWQ6ImRhNzBkNiIscE9lZ1RNblBkOiJlZWU4YWEiLHBPZWdZRjoiOThmYjk4IixwT2VRZToiYWZlZWVlIixwT2V2aVRldFlkOiJkYjcwOTMiLHBhcGF5YXdFcDoiZmZlZmQ1IixwSEtwdWZmOiJmZmRhYjkiLHBlcnU6ImNkODUzZiIscFJrOiJmZmMwY2IiLHBsdW06ImRkYTBkZCIscG93TXJYZToiYjBlMGU2IixwdXJwTjoiODAwMDgwIixZYmVjY2FwdXJwTjoiNjYzMzk5IixZZDoiZmYwMDAwIixQc3licm93bjoiYmM4ZjhmIixQeU9YZToiNDE2OWUxIixzYWRkTmJQd246IjhiNDUxMyIsc09tb246ImZhODA3MiIsc2FuZHliUHduOiJmNGE0NjAiLHNIZ1lGOiIyZThiNTciLHNIc2hlbGw6ImZmZjVlZSIsc2lGbmE6ImEwNTIyZCIsc2lsdmVyOiJjMGMwYzAiLHNreVhlOiI4N2NlZWIiLFVYZToiNmE1YWNkIixVV2F5OiI3MDgwOTAiLFVnWXk6IjcwODA5MCIsc25vdzoiZmZmYWZhIixzcHJSZ2dZRjoiZmY3ZiIsc3RBbFhlOiI0NjgyYjQiLHRhbjoiZDJiNDhjIix0ZU86IjgwODAiLHRFc3ROOiJkOGJmZDgiLHRvbWF0bzoiZmY2MzQ3IixRZToiNDBlMGQwIix2aVRldDoiZWU4MmVlIixKSHQ6ImY1ZGViMyIsd0V0ZToiZmZmZmZmIix3RXRlc21va2U6ImY1ZjVmNSIsTHc6ImZmZmYwMCIsTHdnWUY6IjlhY2QzMiJ9O2Z1bmN0aW9uIGZyKCl7Y29uc3QgaT17fSx0PU9iamVjdC5rZXlzKG1uKSxlPU9iamVjdC5rZXlzKHBuKTtsZXQgbixzLG8scixhO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspe2ZvcihyPWE9dFtuXSxzPTA7czxlLmxlbmd0aDtzKyspbz1lW3NdLGE9YS5yZXBsYWNlKG8scG5bb10pO289cGFyc2VJbnQobW5bcl0sMTYpLGlbYV09W28+PjE2JjI1NSxvPj44JjI1NSxvJjI1NV19cmV0dXJuIGl9bGV0IHZlO2Z1bmN0aW9uIGdyKGkpe3ZlfHwodmU9ZnIoKSx2ZS50cmFuc3BhcmVudD1bMCwwLDAsMF0pO2NvbnN0IHQ9dmVbaS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gdCYme3I6dFswXSxnOnRbMV0sYjp0WzJdLGE6dC5sZW5ndGg9PT00P3RbM106MjU1fX1jb25zdCBwcj0vXnJnYmE/XChccyooWy0rLlxkXSspKCUpP1tccyxdKyhbLSsuZVxkXSspKCUpP1tccyxdKyhbLSsuZVxkXSspKCUpPyg/OltccywvXSsoWy0rLmVcZF0rKSglKT8pP1xzKlwpJC87ZnVuY3Rpb24gbXIoaSl7Y29uc3QgdD1wci5leGVjKGkpO2xldCBlPTI1NSxuLHMsbztpZih0KXtpZih0WzddIT09bil7Y29uc3Qgcj0rdFs3XTtlPXRbOF0/bHQocik6VihyKjI1NSwwLDI1NSl9cmV0dXJuIG49K3RbMV0scz0rdFszXSxvPSt0WzVdLG49MjU1Jih0WzJdP2x0KG4pOlYobiwwLDI1NSkpLHM9MjU1Jih0WzRdP2x0KHMpOlYocywwLDI1NSkpLG89MjU1Jih0WzZdP2x0KG8pOlYobywwLDI1NSkpLHtyOm4sZzpzLGI6byxhOmV9fX1mdW5jdGlvbiBicihpKXtyZXR1cm4gaSYmKGkuYTwyNTU/YHJnYmEoJHtpLnJ9LCAke2kuZ30sICR7aS5ifSwgJHtmdChpLmEpfSlgOmByZ2IoJHtpLnJ9LCAke2kuZ30sICR7aS5ifSlgKX1jb25zdCBwaT1pPT5pPD0uMDAzMTMwOD9pKjEyLjkyOk1hdGgucG93KGksMS8yLjQpKjEuMDU1LS4wNTUsQnQ9aT0+aTw9LjA0MDQ1P2kvMTIuOTI6TWF0aC5wb3coKGkrLjA1NSkvMS4wNTUsMi40KTtmdW5jdGlvbiB4cihpLHQsZSl7Y29uc3Qgbj1CdChmdChpLnIpKSxzPUJ0KGZ0KGkuZykpLG89QnQoZnQoaS5iKSk7cmV0dXJue3I6bXQocGkobitlKihCdChmdCh0LnIpKS1uKSkpLGc6bXQocGkocytlKihCdChmdCh0LmcpKS1zKSkpLGI6bXQocGkobytlKihCdChmdCh0LmIpKS1vKSkpLGE6aS5hK2UqKHQuYS1pLmEpfX1mdW5jdGlvbiBTZShpLHQsZSl7aWYoaSl7bGV0IG49dWkoaSk7blt0XT1NYXRoLm1heCgwLE1hdGgubWluKG5bdF0rblt0XSplLHQ9PT0wPzM2MDoxKSksbj1naShuKSxpLnI9blswXSxpLmc9blsxXSxpLmI9blsyXX19ZnVuY3Rpb24gYm4oaSx0KXtyZXR1cm4gaSYmT2JqZWN0LmFzc2lnbih0fHx7fSxpKX1mdW5jdGlvbiB4bihpKXt2YXIgdD17cjowLGc6MCxiOjAsYToyNTV9O3JldHVybiBBcnJheS5pc0FycmF5KGkpP2kubGVuZ3RoPj0zJiYodD17cjppWzBdLGc6aVsxXSxiOmlbMl0sYToyNTV9LGkubGVuZ3RoPjMmJih0LmE9bXQoaVszXSkpKToodD1ibihpLHtyOjAsZzowLGI6MCxhOjF9KSx0LmE9bXQodC5hKSksdH1mdW5jdGlvbiBfcihpKXtyZXR1cm4gaS5jaGFyQXQoMCk9PT0iciI/bXIoaSk6aHIoaSl9Y2xhc3MgR3R7Y29uc3RydWN0b3IodCl7aWYodCBpbnN0YW5jZW9mIEd0KXJldHVybiB0O2NvbnN0IGU9dHlwZW9mIHQ7bGV0IG47ZT09PSJvYmplY3QiP249eG4odCk6ZT09PSJzdHJpbmciJiYobj1lcih0KXx8Z3IodCl8fF9yKHQpKSx0aGlzLl9yZ2I9bix0aGlzLl92YWxpZD0hIW59Z2V0IHZhbGlkKCl7cmV0dXJuIHRoaXMuX3ZhbGlkfWdldCByZ2IoKXt2YXIgdD1ibih0aGlzLl9yZ2IpO3JldHVybiB0JiYodC5hPWZ0KHQuYSkpLHR9c2V0IHJnYih0KXt0aGlzLl9yZ2I9eG4odCl9cmdiU3RyaW5nKCl7cmV0dXJuIHRoaXMuX3ZhbGlkP2JyKHRoaXMuX3JnYik6dm9pZCAwfWhleFN0cmluZygpe3JldHVybiB0aGlzLl92YWxpZD9ucih0aGlzLl9yZ2IpOnZvaWQgMH1oc2xTdHJpbmcoKXtyZXR1cm4gdGhpcy5fdmFsaWQ/dXIodGhpcy5fcmdiKTp2b2lkIDB9bWl4KHQsZSl7aWYodCl7Y29uc3Qgbj10aGlzLnJnYixzPXQucmdiO2xldCBvO2NvbnN0IHI9ZT09PW8/LjU6ZSxhPTIqci0xLGw9bi5hLXMuYSxjPSgoYSpsPT09LTE/YTooYStsKS8oMSthKmwpKSsxKS8yO289MS1jLG4ucj0yNTUmYypuLnIrbypzLnIrLjUsbi5nPTI1NSZjKm4uZytvKnMuZysuNSxuLmI9MjU1JmMqbi5iK28qcy5iKy41LG4uYT1yKm4uYSsoMS1yKSpzLmEsdGhpcy5yZ2I9bn1yZXR1cm4gdGhpc31pbnRlcnBvbGF0ZSh0LGUpe3JldHVybiB0JiYodGhpcy5fcmdiPXhyKHRoaXMuX3JnYix0Ll9yZ2IsZSkpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IEd0KHRoaXMucmdiKX1hbHBoYSh0KXtyZXR1cm4gdGhpcy5fcmdiLmE9bXQodCksdGhpc31jbGVhcmVyKHQpe2NvbnN0IGU9dGhpcy5fcmdiO3JldHVybiBlLmEqPTEtdCx0aGlzfWdyZXlzY2FsZSgpe2NvbnN0IHQ9dGhpcy5fcmdiLGU9cnQodC5yKi4zK3QuZyouNTkrdC5iKi4xMSk7cmV0dXJuIHQucj10Lmc9dC5iPWUsdGhpc31vcGFxdWVyKHQpe2NvbnN0IGU9dGhpcy5fcmdiO3JldHVybiBlLmEqPTErdCx0aGlzfW5lZ2F0ZSgpe2NvbnN0IHQ9dGhpcy5fcmdiO3JldHVybiB0LnI9MjU1LXQucix0Lmc9MjU1LXQuZyx0LmI9MjU1LXQuYix0aGlzfWxpZ2h0ZW4odCl7cmV0dXJuIFNlKHRoaXMuX3JnYiwyLHQpLHRoaXN9ZGFya2VuKHQpe3JldHVybiBTZSh0aGlzLl9yZ2IsMiwtdCksdGhpc31zYXR1cmF0ZSh0KXtyZXR1cm4gU2UodGhpcy5fcmdiLDEsdCksdGhpc31kZXNhdHVyYXRlKHQpe3JldHVybiBTZSh0aGlzLl9yZ2IsMSwtdCksdGhpc31yb3RhdGUodCl7cmV0dXJuIGRyKHRoaXMuX3JnYix0KSx0aGlzfX0vKiEKICogQ2hhcnQuanMgdjQuNC4zCiAqIGh0dHBzOi8vd3d3LmNoYXJ0anMub3JnCiAqIChjKSAyMDI0IENoYXJ0LmpzIENvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UKICovY29uc3QgeXI9KCgpPT57bGV0IGk9MDtyZXR1cm4oKT0+aSsrfSkoKTtmdW5jdGlvbiBJKGkpe3JldHVybiBpPT09bnVsbHx8dHlwZW9mIGk+InUifWZ1bmN0aW9uIHooaSl7aWYoQXJyYXkuaXNBcnJheSYmQXJyYXkuaXNBcnJheShpKSlyZXR1cm4hMDtjb25zdCB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKTtyZXR1cm4gdC5zbGljZSgwLDcpPT09IltvYmplY3QiJiZ0LnNsaWNlKC02KT09PSJBcnJheV0ifWZ1bmN0aW9uIE8oaSl7cmV0dXJuIGkhPT1udWxsJiZPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaSk9PT0iW29iamVjdCBPYmplY3RdIn1mdW5jdGlvbiBVKGkpe3JldHVybih0eXBlb2YgaT09Im51bWJlciJ8fGkgaW5zdGFuY2VvZiBOdW1iZXIpJiZpc0Zpbml0ZSgraSl9ZnVuY3Rpb24gY3QoaSx0KXtyZXR1cm4gVShpKT9pOnR9ZnVuY3Rpb24gUChpLHQpe3JldHVybiB0eXBlb2YgaT4idSI/dDppfWNvbnN0IHdyPShpLHQpPT50eXBlb2YgaT09InN0cmluZyImJmkuZW5kc1dpdGgoIiUiKT9wYXJzZUZsb2F0KGkpLzEwMDoraS90LF9uPShpLHQpPT50eXBlb2YgaT09InN0cmluZyImJmkuZW5kc1dpdGgoIiUiKT9wYXJzZUZsb2F0KGkpLzEwMCp0OitpO2Z1bmN0aW9uIEwoaSx0LGUpe2lmKGkmJnR5cGVvZiBpLmNhbGw9PSJmdW5jdGlvbiIpcmV0dXJuIGkuYXBwbHkoZSx0KX1mdW5jdGlvbiBZKGksdCxlLG4pe2xldCBzLG8scjtpZih6KGkpKWZvcihvPWkubGVuZ3RoLHM9MDtzPG87cysrKXQuY2FsbChlLGlbc10scyk7ZWxzZSBpZihPKGkpKWZvcihyPU9iamVjdC5rZXlzKGkpLG89ci5sZW5ndGgscz0wO3M8bztzKyspdC5jYWxsKGUsaVtyW3NdXSxyW3NdKX1mdW5jdGlvbiB5bihpLHQpe2xldCBlLG4scyxvO2lmKCFpfHwhdHx8aS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IoZT0wLG49aS5sZW5ndGg7ZTxuOysrZSlpZihzPWlbZV0sbz10W2VdLHMuZGF0YXNldEluZGV4IT09by5kYXRhc2V0SW5kZXh8fHMuaW5kZXghPT1vLmluZGV4KXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFBlKGkpe2lmKHooaSkpcmV0dXJuIGkubWFwKFBlKTtpZihPKGkpKXtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCksZT1PYmplY3Qua2V5cyhpKSxuPWUubGVuZ3RoO2xldCBzPTA7Zm9yKDtzPG47KytzKXRbZVtzXV09UGUoaVtlW3NdXSk7cmV0dXJuIHR9cmV0dXJuIGl9ZnVuY3Rpb24gd24oaSl7cmV0dXJuWyJfX3Byb3RvX18iLCJwcm90b3R5cGUiLCJjb25zdHJ1Y3RvciJdLmluZGV4T2YoaSk9PT0tMX1mdW5jdGlvbiBNcihpLHQsZSxuKXtpZighd24oaSkpcmV0dXJuO2NvbnN0IHM9dFtpXSxvPWVbaV07TyhzKSYmTyhvKT9KdChzLG8sbik6dFtpXT1QZShvKX1mdW5jdGlvbiBKdChpLHQsZSl7Y29uc3Qgbj16KHQpP3Q6W3RdLHM9bi5sZW5ndGg7aWYoIU8oaSkpcmV0dXJuIGk7ZT1lfHx7fTtjb25zdCBvPWUubWVyZ2VyfHxNcjtsZXQgcjtmb3IobGV0IGE9MDthPHM7KythKXtpZihyPW5bYV0sIU8ocikpY29udGludWU7Y29uc3QgbD1PYmplY3Qua2V5cyhyKTtmb3IobGV0IGM9MCxoPWwubGVuZ3RoO2M8aDsrK2MpbyhsW2NdLGkscixlKX1yZXR1cm4gaX1mdW5jdGlvbiBadChpLHQpe3JldHVybiBKdChpLHQse21lcmdlcjprcn0pfWZ1bmN0aW9uIGtyKGksdCxlKXtpZighd24oaSkpcmV0dXJuO2NvbnN0IG49dFtpXSxzPWVbaV07TyhuKSYmTyhzKT9adChuLHMpOk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpfHwodFtpXT1QZShzKSl9Y29uc3QgTW49eyIiOmk9PmkseDppPT5pLngseTppPT5pLnl9O2Z1bmN0aW9uIHZyKGkpe2NvbnN0IHQ9aS5zcGxpdCgiLiIpLGU9W107bGV0IG49IiI7Zm9yKGNvbnN0IHMgb2YgdCluKz1zLG4uZW5kc1dpdGgoIlxcIik/bj1uLnNsaWNlKDAsLTEpKyIuIjooZS5wdXNoKG4pLG49IiIpO3JldHVybiBlfWZ1bmN0aW9uIFNyKGkpe2NvbnN0IHQ9dnIoaSk7cmV0dXJuIGU9Pntmb3IoY29uc3QgbiBvZiB0KXtpZihuPT09IiIpYnJlYWs7ZT1lJiZlW25dfXJldHVybiBlfX1mdW5jdGlvbiBNdChpLHQpe3JldHVybihNblt0XXx8KE1uW3RdPVNyKHQpKSkoaSl9ZnVuY3Rpb24gbWkoaSl7cmV0dXJuIGkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKX1jb25zdCBLPWk9PnR5cGVvZiBpPCJ1IixxPWk9PnR5cGVvZiBpPT0iZnVuY3Rpb24iLGtuPShpLHQpPT57aWYoaS5zaXplIT09dC5zaXplKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGkpaWYoIXQuaGFzKGUpKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBQcihpKXtyZXR1cm4gaS50eXBlPT09Im1vdXNldXAifHxpLnR5cGU9PT0iY2xpY2sifHxpLnR5cGU9PT0iY29udGV4dG1lbnUifWNvbnN0IFQ9TWF0aC5QSSxCPTIqVCxEcj1CK1QsRGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGJpPVQvMTgwLEg9VC8yLGl0PVQvNCxPZT1UKjIvMyx4aT1NYXRoLmxvZzEwLGh0PU1hdGguc2lnbjtmdW5jdGlvbiBRdChpLHQsZSl7cmV0dXJuIE1hdGguYWJzKGktdCk8ZX1mdW5jdGlvbiB2bihpKXtjb25zdCB0PU1hdGgucm91bmQoaSk7aT1RdChpLHQsaS8xZTMpP3Q6aTtjb25zdCBlPU1hdGgucG93KDEwLE1hdGguZmxvb3IoeGkoaSkpKSxuPWkvZTtyZXR1cm4objw9MT8xOm48PTI/MjpuPD01PzU6MTApKmV9ZnVuY3Rpb24gT3IoaSl7Y29uc3QgdD1bXSxlPU1hdGguc3FydChpKTtsZXQgbjtmb3Iobj0xO248ZTtuKyspaSVuPT09MCYmKHQucHVzaChuKSx0LnB1c2goaS9uKSk7cmV0dXJuIGU9PT0oZXwwKSYmdC5wdXNoKGUpLHQuc29ydCgocyxvKT0+cy1vKS5wb3AoKSx0fWZ1bmN0aW9uIGt0KGkpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGkpKSYmaXNGaW5pdGUoaSl9ZnVuY3Rpb24gQ3IoaSx0KXtjb25zdCBlPU1hdGgucm91bmQoaSk7cmV0dXJuIGUtdDw9aSYmZSt0Pj1pfWZ1bmN0aW9uIFRyKGksdCxlKXtsZXQgbixzLG87Zm9yKG49MCxzPWkubGVuZ3RoO248cztuKyspbz1pW25dW2VdLGlzTmFOKG8pfHwodC5taW49TWF0aC5taW4odC5taW4sbyksdC5tYXg9TWF0aC5tYXgodC5tYXgsbykpfWZ1bmN0aW9uIFcoaSl7cmV0dXJuIGkqKFQvMTgwKX1mdW5jdGlvbiBTbihpKXtyZXR1cm4gaSooMTgwL1QpfWZ1bmN0aW9uIFBuKGkpe2lmKCFVKGkpKXJldHVybjtsZXQgdD0xLGU9MDtmb3IoO01hdGgucm91bmQoaSp0KS90IT09aTspdCo9MTAsZSsrO3JldHVybiBlfWZ1bmN0aW9uIF9pKGksdCl7Y29uc3QgZT10LngtaS54LG49dC55LWkueSxzPU1hdGguc3FydChlKmUrbipuKTtsZXQgbz1NYXRoLmF0YW4yKG4sZSk7cmV0dXJuIG88LS41KlQmJihvKz1CKSx7YW5nbGU6byxkaXN0YW5jZTpzfX1mdW5jdGlvbiB0ZShpLHQpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codC54LWkueCwyKStNYXRoLnBvdyh0LnktaS55LDIpKX1mdW5jdGlvbiBBcihpLHQpe3JldHVybihpLXQrRHIpJUItVH1mdW5jdGlvbiBidChpKXtyZXR1cm4oaSVCK0IpJUJ9ZnVuY3Rpb24gQ2UoaSx0LGUsbil7Y29uc3Qgcz1idChpKSxvPWJ0KHQpLHI9YnQoZSksYT1idChvLXMpLGw9YnQoci1zKSxjPWJ0KHMtbyksaD1idChzLXIpO3JldHVybiBzPT09b3x8cz09PXJ8fG4mJm89PT1yfHxhPmwmJmM8aH1mdW5jdGlvbiBhdChpLHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsTWF0aC5taW4oZSxpKSl9ZnVuY3Rpb24gUnIoaSl7cmV0dXJuIGF0KGksLTMyNzY4LDMyNzY3KX1mdW5jdGlvbiB2dChpLHQsZSxuPTFlLTYpe3JldHVybiBpPj1NYXRoLm1pbih0LGUpLW4mJmk8PU1hdGgubWF4KHQsZSkrbn1mdW5jdGlvbiB5aShpLHQsZSl7ZT1lfHwocj0+aVtyXTx0KTtsZXQgbj1pLmxlbmd0aC0xLHM9MCxvO2Zvcig7bi1zPjE7KW89cytuPj4xLGUobyk/cz1vOm49bztyZXR1cm57bG86cyxoaTpufX1jb25zdCBTdD0oaSx0LGUsbik9PnlpKGksZSxuP3M9Pntjb25zdCBvPWlbc11bdF07cmV0dXJuIG88ZXx8bz09PWUmJmlbcysxXVt0XT09PWV9OnM9Pmlbc11bdF08ZSksTHI9KGksdCxlKT0+eWkoaSxlLG49Pmlbbl1bdF0+PWUpO2Z1bmN0aW9uIElyKGksdCxlKXtsZXQgbj0wLHM9aS5sZW5ndGg7Zm9yKDtuPHMmJmlbbl08dDspbisrO2Zvcig7cz5uJiZpW3MtMV0+ZTspcy0tO3JldHVybiBuPjB8fHM8aS5sZW5ndGg/aS5zbGljZShuLHMpOml9Y29uc3QgRG49WyJwdXNoIiwicG9wIiwic2hpZnQiLCJzcGxpY2UiLCJ1bnNoaWZ0Il07ZnVuY3Rpb24genIoaSx0KXtpZihpLl9jaGFydGpzKXtpLl9jaGFydGpzLmxpc3RlbmVycy5wdXNoKHQpO3JldHVybn1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX2NoYXJ0anMiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTp7bGlzdGVuZXJzOlt0XX19KSxEbi5mb3JFYWNoKGU9Pntjb25zdCBuPSJfb25EYXRhIittaShlKSxzPWlbZV07T2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWUoLi4ubyl7Y29uc3Qgcj1zLmFwcGx5KHRoaXMsbyk7cmV0dXJuIGkuX2NoYXJ0anMubGlzdGVuZXJzLmZvckVhY2goYT0+e3R5cGVvZiBhW25dPT0iZnVuY3Rpb24iJiZhW25dKC4uLm8pfSkscn19KX0pfWZ1bmN0aW9uIE9uKGksdCl7Y29uc3QgZT1pLl9jaGFydGpzO2lmKCFlKXJldHVybjtjb25zdCBuPWUubGlzdGVuZXJzLHM9bi5pbmRleE9mKHQpO3MhPT0tMSYmbi5zcGxpY2UocywxKSwhKG4ubGVuZ3RoPjApJiYoRG4uZm9yRWFjaChvPT57ZGVsZXRlIGlbb119KSxkZWxldGUgaS5fY2hhcnRqcyl9ZnVuY3Rpb24gQ24oaSl7Y29uc3QgdD1uZXcgU2V0KGkpO3JldHVybiB0LnNpemU9PT1pLmxlbmd0aD9pOkFycmF5LmZyb20odCl9Y29uc3QgVG49ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIHdpbmRvdz4idSI/ZnVuY3Rpb24oaSl7cmV0dXJuIGkoKX06d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZX0oKTtmdW5jdGlvbiBBbihpLHQpe2xldCBlPVtdLG49ITE7cmV0dXJuIGZ1bmN0aW9uKC4uLnMpe2U9cyxufHwobj0hMCxUbi5jYWxsKHdpbmRvdywoKT0+e249ITEsaS5hcHBseSh0LGUpfSkpfX1mdW5jdGlvbiBFcihpLHQpe2xldCBlO3JldHVybiBmdW5jdGlvbiguLi5uKXtyZXR1cm4gdD8oY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChpLHQsbikpOmkuYXBwbHkodGhpcyxuKSx0fX1jb25zdCB3aT1pPT5pPT09InN0YXJ0Ij8ibGVmdCI6aT09PSJlbmQiPyJyaWdodCI6ImNlbnRlciIsJD0oaSx0LGUpPT5pPT09InN0YXJ0Ij90Omk9PT0iZW5kIj9lOih0K2UpLzIsRnI9KGksdCxlLG4pPT5pPT09KG4/ImxlZnQiOiJyaWdodCIpP2U6aT09PSJjZW50ZXIiPyh0K2UpLzI6dDtmdW5jdGlvbiBXcihpLHQsZSl7Y29uc3Qgbj10Lmxlbmd0aDtsZXQgcz0wLG89bjtpZihpLl9zb3J0ZWQpe2NvbnN0e2lTY2FsZTpyLF9wYXJzZWQ6YX09aSxsPXIuYXhpcyx7bWluOmMsbWF4OmgsbWluRGVmaW5lZDpkLG1heERlZmluZWQ6dX09ci5nZXRVc2VyQm91bmRzKCk7ZCYmKHM9YXQoTWF0aC5taW4oU3QoYSxsLGMpLmxvLGU/bjpTdCh0LGwsci5nZXRQaXhlbEZvclZhbHVlKGMpKS5sbyksMCxuLTEpKSx1P289YXQoTWF0aC5tYXgoU3QoYSxyLmF4aXMsaCwhMCkuaGkrMSxlPzA6U3QodCxsLHIuZ2V0UGl4ZWxGb3JWYWx1ZShoKSwhMCkuaGkrMSkscyxuKS1zOm89bi1zfXJldHVybntzdGFydDpzLGNvdW50Om99fWZ1bmN0aW9uIEJyKGkpe2NvbnN0e3hTY2FsZTp0LHlTY2FsZTplLF9zY2FsZVJhbmdlczpufT1pLHM9e3htaW46dC5taW4seG1heDp0Lm1heCx5bWluOmUubWluLHltYXg6ZS5tYXh9O2lmKCFuKXJldHVybiBpLl9zY2FsZVJhbmdlcz1zLCEwO2NvbnN0IG89bi54bWluIT09dC5taW58fG4ueG1heCE9PXQubWF4fHxuLnltaW4hPT1lLm1pbnx8bi55bWF4IT09ZS5tYXg7cmV0dXJuIE9iamVjdC5hc3NpZ24obixzKSxvfWNvbnN0IFRlPWk9Pmk9PT0wfHxpPT09MSxSbj0oaSx0LGUpPT4tKE1hdGgucG93KDIsMTAqKGktPTEpKSpNYXRoLnNpbigoaS10KSpCL2UpKSxMbj0oaSx0LGUpPT5NYXRoLnBvdygyLC0xMCppKSpNYXRoLnNpbigoaS10KSpCL2UpKzEsZWU9e2xpbmVhcjppPT5pLGVhc2VJblF1YWQ6aT0+aSppLGVhc2VPdXRRdWFkOmk9Pi1pKihpLTIpLGVhc2VJbk91dFF1YWQ6aT0+KGkvPS41KTwxPy41KmkqaTotLjUqKC0taSooaS0yKS0xKSxlYXNlSW5DdWJpYzppPT5pKmkqaSxlYXNlT3V0Q3ViaWM6aT0+KGktPTEpKmkqaSsxLGVhc2VJbk91dEN1YmljOmk9PihpLz0uNSk8MT8uNSppKmkqaTouNSooKGktPTIpKmkqaSsyKSxlYXNlSW5RdWFydDppPT5pKmkqaSppLGVhc2VPdXRRdWFydDppPT4tKChpLT0xKSppKmkqaS0xKSxlYXNlSW5PdXRRdWFydDppPT4oaS89LjUpPDE/LjUqaSppKmkqaTotLjUqKChpLT0yKSppKmkqaS0yKSxlYXNlSW5RdWludDppPT5pKmkqaSppKmksZWFzZU91dFF1aW50Omk9PihpLT0xKSppKmkqaSppKzEsZWFzZUluT3V0UXVpbnQ6aT0+KGkvPS41KTwxPy41KmkqaSppKmkqaTouNSooKGktPTIpKmkqaSppKmkrMiksZWFzZUluU2luZTppPT4tTWF0aC5jb3MoaSpIKSsxLGVhc2VPdXRTaW5lOmk9Pk1hdGguc2luKGkqSCksZWFzZUluT3V0U2luZTppPT4tLjUqKE1hdGguY29zKFQqaSktMSksZWFzZUluRXhwbzppPT5pPT09MD8wOk1hdGgucG93KDIsMTAqKGktMSkpLGVhc2VPdXRFeHBvOmk9Pmk9PT0xPzE6LU1hdGgucG93KDIsLTEwKmkpKzEsZWFzZUluT3V0RXhwbzppPT5UZShpKT9pOmk8LjU/LjUqTWF0aC5wb3coMiwxMCooaSoyLTEpKTouNSooLU1hdGgucG93KDIsLTEwKihpKjItMSkpKzIpLGVhc2VJbkNpcmM6aT0+aT49MT9pOi0oTWF0aC5zcXJ0KDEtaSppKS0xKSxlYXNlT3V0Q2lyYzppPT5NYXRoLnNxcnQoMS0oaS09MSkqaSksZWFzZUluT3V0Q2lyYzppPT4oaS89LjUpPDE/LS41KihNYXRoLnNxcnQoMS1pKmkpLTEpOi41KihNYXRoLnNxcnQoMS0oaS09MikqaSkrMSksZWFzZUluRWxhc3RpYzppPT5UZShpKT9pOlJuKGksLjA3NSwuMyksZWFzZU91dEVsYXN0aWM6aT0+VGUoaSk/aTpMbihpLC4wNzUsLjMpLGVhc2VJbk91dEVsYXN0aWMoaSl7cmV0dXJuIFRlKGkpP2k6aTwuNT8uNSpSbihpKjIsLjExMjUsLjQ1KTouNSsuNSpMbihpKjItMSwuMTEyNSwuNDUpfSxlYXNlSW5CYWNrKGkpe3JldHVybiBpKmkqKCgxLjcwMTU4KzEpKmktMS43MDE1OCl9LGVhc2VPdXRCYWNrKGkpe3JldHVybihpLT0xKSppKigoMS43MDE1OCsxKSppKzEuNzAxNTgpKzF9LGVhc2VJbk91dEJhY2soaSl7bGV0IHQ9MS43MDE1ODtyZXR1cm4oaS89LjUpPDE/LjUqKGkqaSooKCh0Kj0xLjUyNSkrMSkqaS10KSk6LjUqKChpLT0yKSppKigoKHQqPTEuNTI1KSsxKSppK3QpKzIpfSxlYXNlSW5Cb3VuY2U6aT0+MS1lZS5lYXNlT3V0Qm91bmNlKDEtaSksZWFzZU91dEJvdW5jZShpKXtyZXR1cm4gaTwxLzIuNzU/Ny41NjI1KmkqaTppPDIvMi43NT83LjU2MjUqKGktPTEuNS8yLjc1KSppKy43NTppPDIuNS8yLjc1PzcuNTYyNSooaS09Mi4yNS8yLjc1KSppKy45Mzc1OjcuNTYyNSooaS09Mi42MjUvMi43NSkqaSsuOTg0Mzc1fSxlYXNlSW5PdXRCb3VuY2U6aT0+aTwuNT9lZS5lYXNlSW5Cb3VuY2UoaSoyKSouNTplZS5lYXNlT3V0Qm91bmNlKGkqMi0xKSouNSsuNX07ZnVuY3Rpb24gTWkoaSl7aWYoaSYmdHlwZW9mIGk9PSJvYmplY3QiKXtjb25zdCB0PWkudG9TdHJpbmcoKTtyZXR1cm4gdD09PSJbb2JqZWN0IENhbnZhc1BhdHRlcm5dInx8dD09PSJbb2JqZWN0IENhbnZhc0dyYWRpZW50XSJ9cmV0dXJuITF9ZnVuY3Rpb24gSW4oaSl7cmV0dXJuIE1pKGkpP2k6bmV3IEd0KGkpfWZ1bmN0aW9uIGtpKGkpe3JldHVybiBNaShpKT9pOm5ldyBHdChpKS5zYXR1cmF0ZSguNSkuZGFya2VuKC4xKS5oZXhTdHJpbmcoKX1jb25zdCBIcj1bIngiLCJ5IiwiYm9yZGVyV2lkdGgiLCJyYWRpdXMiLCJ0ZW5zaW9uIl0sanI9WyJjb2xvciIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIl07ZnVuY3Rpb24gTnIoaSl7aS5zZXQoImFuaW1hdGlvbiIse2RlbGF5OnZvaWQgMCxkdXJhdGlvbjoxZTMsZWFzaW5nOiJlYXNlT3V0UXVhcnQiLGZuOnZvaWQgMCxmcm9tOnZvaWQgMCxsb29wOnZvaWQgMCx0bzp2b2lkIDAsdHlwZTp2b2lkIDB9KSxpLmRlc2NyaWJlKCJhbmltYXRpb24iLHtfZmFsbGJhY2s6ITEsX2luZGV4YWJsZTohMSxfc2NyaXB0YWJsZTp0PT50IT09Im9uUHJvZ3Jlc3MiJiZ0IT09Im9uQ29tcGxldGUiJiZ0IT09ImZuIn0pLGkuc2V0KCJhbmltYXRpb25zIix7Y29sb3JzOnt0eXBlOiJjb2xvciIscHJvcGVydGllczpqcn0sbnVtYmVyczp7dHlwZToibnVtYmVyIixwcm9wZXJ0aWVzOkhyfX0pLGkuZGVzY3JpYmUoImFuaW1hdGlvbnMiLHtfZmFsbGJhY2s6ImFuaW1hdGlvbiJ9KSxpLnNldCgidHJhbnNpdGlvbnMiLHthY3RpdmU6e2FuaW1hdGlvbjp7ZHVyYXRpb246NDAwfX0scmVzaXplOnthbmltYXRpb246e2R1cmF0aW9uOjB9fSxzaG93OnthbmltYXRpb25zOntjb2xvcnM6e2Zyb206InRyYW5zcGFyZW50In0sdmlzaWJsZTp7dHlwZToiYm9vbGVhbiIsZHVyYXRpb246MH19fSxoaWRlOnthbmltYXRpb25zOntjb2xvcnM6e3RvOiJ0cmFuc3BhcmVudCJ9LHZpc2libGU6e3R5cGU6ImJvb2xlYW4iLGVhc2luZzoibGluZWFyIixmbjp0PT50fDB9fX19KX1mdW5jdGlvbiBWcihpKXtpLnNldCgibGF5b3V0Iix7YXV0b1BhZGRpbmc6ITAscGFkZGluZzp7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjB9fSl9Y29uc3Qgem49bmV3IE1hcDtmdW5jdGlvbiBZcihpLHQpe3Q9dHx8e307Y29uc3QgZT1pK0pTT04uc3RyaW5naWZ5KHQpO2xldCBuPXpuLmdldChlKTtyZXR1cm4gbnx8KG49bmV3IEludGwuTnVtYmVyRm9ybWF0KGksdCksem4uc2V0KGUsbikpLG59ZnVuY3Rpb24gdmkoaSx0LGUpe3JldHVybiBZcih0LGUpLmZvcm1hdChpKX1jb25zdCBFbj17dmFsdWVzKGkpe3JldHVybiB6KGkpP2k6IiIraX0sbnVtZXJpYyhpLHQsZSl7aWYoaT09PTApcmV0dXJuIjAiO2NvbnN0IG49dGhpcy5jaGFydC5vcHRpb25zLmxvY2FsZTtsZXQgcyxvPWk7aWYoZS5sZW5ndGg+MSl7Y29uc3QgYz1NYXRoLm1heChNYXRoLmFicyhlWzBdLnZhbHVlKSxNYXRoLmFicyhlW2UubGVuZ3RoLTFdLnZhbHVlKSk7KGM8MWUtNHx8Yz4xZTE1KSYmKHM9InNjaWVudGlmaWMiKSxvPSRyKGksZSl9Y29uc3Qgcj14aShNYXRoLmFicyhvKSksYT1pc05hTihyKT8xOk1hdGgubWF4KE1hdGgubWluKC0xKk1hdGguZmxvb3IociksMjApLDApLGw9e25vdGF0aW9uOnMsbWluaW11bUZyYWN0aW9uRGlnaXRzOmEsbWF4aW11bUZyYWN0aW9uRGlnaXRzOmF9O3JldHVybiBPYmplY3QuYXNzaWduKGwsdGhpcy5vcHRpb25zLnRpY2tzLmZvcm1hdCksdmkoaSxuLGwpfSxsb2dhcml0aG1pYyhpLHQsZSl7aWYoaT09PTApcmV0dXJuIjAiO2NvbnN0IG49ZVt0XS5zaWduaWZpY2FuZHx8aS9NYXRoLnBvdygxMCxNYXRoLmZsb29yKHhpKGkpKSk7cmV0dXJuWzEsMiwzLDUsMTAsMTVdLmluY2x1ZGVzKG4pfHx0Pi44KmUubGVuZ3RoP0VuLm51bWVyaWMuY2FsbCh0aGlzLGksdCxlKToiIn19O2Z1bmN0aW9uICRyKGksdCl7bGV0IGU9dC5sZW5ndGg+Mz90WzJdLnZhbHVlLXRbMV0udmFsdWU6dFsxXS52YWx1ZS10WzBdLnZhbHVlO3JldHVybiBNYXRoLmFicyhlKT49MSYmaSE9PU1hdGguZmxvb3IoaSkmJihlPWktTWF0aC5mbG9vcihpKSksZX12YXIgRm49e2Zvcm1hdHRlcnM6RW59O2Z1bmN0aW9uIFhyKGkpe2kuc2V0KCJzY2FsZSIse2Rpc3BsYXk6ITAsb2Zmc2V0OiExLHJldmVyc2U6ITEsYmVnaW5BdFplcm86ITEsYm91bmRzOiJ0aWNrcyIsY2xpcDohMCxncmFjZTowLGdyaWQ6e2Rpc3BsYXk6ITAsbGluZVdpZHRoOjEsZHJhd09uQ2hhcnRBcmVhOiEwLGRyYXdUaWNrczohMCx0aWNrTGVuZ3RoOjgsdGlja1dpZHRoOih0LGUpPT5lLmxpbmVXaWR0aCx0aWNrQ29sb3I6KHQsZSk9PmUuY29sb3Isb2Zmc2V0OiExfSxib3JkZXI6e2Rpc3BsYXk6ITAsZGFzaDpbXSxkYXNoT2Zmc2V0OjAsd2lkdGg6MX0sdGl0bGU6e2Rpc3BsYXk6ITEsdGV4dDoiIixwYWRkaW5nOnt0b3A6NCxib3R0b206NH19LHRpY2tzOnttaW5Sb3RhdGlvbjowLG1heFJvdGF0aW9uOjUwLG1pcnJvcjohMSx0ZXh0U3Ryb2tlV2lkdGg6MCx0ZXh0U3Ryb2tlQ29sb3I6IiIscGFkZGluZzozLGRpc3BsYXk6ITAsYXV0b1NraXA6ITAsYXV0b1NraXBQYWRkaW5nOjMsbGFiZWxPZmZzZXQ6MCxjYWxsYmFjazpGbi5mb3JtYXR0ZXJzLnZhbHVlcyxtaW5vcjp7fSxtYWpvcjp7fSxhbGlnbjoiY2VudGVyIixjcm9zc0FsaWduOiJuZWFyIixzaG93TGFiZWxCYWNrZHJvcDohMSxiYWNrZHJvcENvbG9yOiJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzUpIixiYWNrZHJvcFBhZGRpbmc6Mn19KSxpLnJvdXRlKCJzY2FsZS50aWNrcyIsImNvbG9yIiwiIiwiY29sb3IiKSxpLnJvdXRlKCJzY2FsZS5ncmlkIiwiY29sb3IiLCIiLCJib3JkZXJDb2xvciIpLGkucm91dGUoInNjYWxlLmJvcmRlciIsImNvbG9yIiwiIiwiYm9yZGVyQ29sb3IiKSxpLnJvdXRlKCJzY2FsZS50aXRsZSIsImNvbG9yIiwiIiwiY29sb3IiKSxpLmRlc2NyaWJlKCJzY2FsZSIse19mYWxsYmFjazohMSxfc2NyaXB0YWJsZTp0PT4hdC5zdGFydHNXaXRoKCJiZWZvcmUiKSYmIXQuc3RhcnRzV2l0aCgiYWZ0ZXIiKSYmdCE9PSJjYWxsYmFjayImJnQhPT0icGFyc2VyIixfaW5kZXhhYmxlOnQ9PnQhPT0iYm9yZGVyRGFzaCImJnQhPT0idGlja0JvcmRlckRhc2giJiZ0IT09ImRhc2gifSksaS5kZXNjcmliZSgic2NhbGVzIix7X2ZhbGxiYWNrOiJzY2FsZSJ9KSxpLmRlc2NyaWJlKCJzY2FsZS50aWNrcyIse19zY3JpcHRhYmxlOnQ9PnQhPT0iYmFja2Ryb3BQYWRkaW5nIiYmdCE9PSJjYWxsYmFjayIsX2luZGV4YWJsZTp0PT50IT09ImJhY2tkcm9wUGFkZGluZyJ9KX1jb25zdCBQdD1PYmplY3QuY3JlYXRlKG51bGwpLFNpPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gaWUoaSx0KXtpZighdClyZXR1cm4gaTtjb25zdCBlPXQuc3BsaXQoIi4iKTtmb3IobGV0IG49MCxzPWUubGVuZ3RoO248czsrK24pe2NvbnN0IG89ZVtuXTtpPWlbb118fChpW29dPU9iamVjdC5jcmVhdGUobnVsbCkpfXJldHVybiBpfWZ1bmN0aW9uIFBpKGksdCxlKXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmciP0p0KGllKGksdCksZSk6SnQoaWUoaSwiIiksdCl9Y2xhc3MgVXJ7Y29uc3RydWN0b3IodCxlKXt0aGlzLmFuaW1hdGlvbj12b2lkIDAsdGhpcy5iYWNrZ3JvdW5kQ29sb3I9InJnYmEoMCwwLDAsMC4xKSIsdGhpcy5ib3JkZXJDb2xvcj0icmdiYSgwLDAsMCwwLjEpIix0aGlzLmNvbG9yPSIjNjY2Iix0aGlzLmRhdGFzZXRzPXt9LHRoaXMuZGV2aWNlUGl4ZWxSYXRpbz1uPT5uLmNoYXJ0LnBsYXRmb3JtLmdldERldmljZVBpeGVsUmF0aW8oKSx0aGlzLmVsZW1lbnRzPXt9LHRoaXMuZXZlbnRzPVsibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJjbGljayIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiXSx0aGlzLmZvbnQ9e2ZhbWlseToiJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsIHNhbnMtc2VyaWYiLHNpemU6MTIsc3R5bGU6Im5vcm1hbCIsbGluZUhlaWdodDoxLjIsd2VpZ2h0Om51bGx9LHRoaXMuaG92ZXI9e30sdGhpcy5ob3ZlckJhY2tncm91bmRDb2xvcj0obixzKT0+a2kocy5iYWNrZ3JvdW5kQ29sb3IpLHRoaXMuaG92ZXJCb3JkZXJDb2xvcj0obixzKT0+a2kocy5ib3JkZXJDb2xvciksdGhpcy5ob3ZlckNvbG9yPShuLHMpPT5raShzLmNvbG9yKSx0aGlzLmluZGV4QXhpcz0ieCIsdGhpcy5pbnRlcmFjdGlvbj17bW9kZToibmVhcmVzdCIsaW50ZXJzZWN0OiEwLGluY2x1ZGVJbnZpc2libGU6ITF9LHRoaXMubWFpbnRhaW5Bc3BlY3RSYXRpbz0hMCx0aGlzLm9uSG92ZXI9bnVsbCx0aGlzLm9uQ2xpY2s9bnVsbCx0aGlzLnBhcnNpbmc9ITAsdGhpcy5wbHVnaW5zPXt9LHRoaXMucmVzcG9uc2l2ZT0hMCx0aGlzLnNjYWxlPXZvaWQgMCx0aGlzLnNjYWxlcz17fSx0aGlzLnNob3dMaW5lPSEwLHRoaXMuZHJhd0FjdGl2ZUVsZW1lbnRzT25Ub3A9ITAsdGhpcy5kZXNjcmliZSh0KSx0aGlzLmFwcGx5KGUpfXNldCh0LGUpe3JldHVybiBQaSh0aGlzLHQsZSl9Z2V0KHQpe3JldHVybiBpZSh0aGlzLHQpfWRlc2NyaWJlKHQsZSl7cmV0dXJuIFBpKFNpLHQsZSl9b3ZlcnJpZGUodCxlKXtyZXR1cm4gUGkoUHQsdCxlKX1yb3V0ZSh0LGUsbixzKXtjb25zdCBvPWllKHRoaXMsdCkscj1pZSh0aGlzLG4pLGE9Il8iK2U7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobyx7W2FdOnt2YWx1ZTpvW2VdLHdyaXRhYmxlOiEwfSxbZV06e2VudW1lcmFibGU6ITAsZ2V0KCl7Y29uc3QgbD10aGlzW2FdLGM9cltzXTtyZXR1cm4gTyhsKT9PYmplY3QuYXNzaWduKHt9LGMsbCk6UChsLGMpfSxzZXQobCl7dGhpc1thXT1sfX19KX1hcHBseSh0KXt0LmZvckVhY2goZT0+ZSh0aGlzKSl9fXZhciBFPW5ldyBVcih7X3NjcmlwdGFibGU6aT0+IWkuc3RhcnRzV2l0aCgib24iKSxfaW5kZXhhYmxlOmk9PmkhPT0iZXZlbnRzIixob3Zlcjp7X2ZhbGxiYWNrOiJpbnRlcmFjdGlvbiJ9LGludGVyYWN0aW9uOntfc2NyaXB0YWJsZTohMSxfaW5kZXhhYmxlOiExfX0sW05yLFZyLFhyXSk7ZnVuY3Rpb24gS3IoaSl7cmV0dXJuIWl8fEkoaS5zaXplKXx8SShpLmZhbWlseSk/bnVsbDooaS5zdHlsZT9pLnN0eWxlKyIgIjoiIikrKGkud2VpZ2h0P2kud2VpZ2h0KyIgIjoiIikraS5zaXplKyJweCAiK2kuZmFtaWx5fWZ1bmN0aW9uIFduKGksdCxlLG4scyl7bGV0IG89dFtzXTtyZXR1cm4gb3x8KG89dFtzXT1pLm1lYXN1cmVUZXh0KHMpLndpZHRoLGUucHVzaChzKSksbz5uJiYobj1vKSxufWZ1bmN0aW9uIER0KGksdCxlKXtjb25zdCBuPWkuY3VycmVudERldmljZVBpeGVsUmF0aW8scz1lIT09MD9NYXRoLm1heChlLzIsLjUpOjA7cmV0dXJuIE1hdGgucm91bmQoKHQtcykqbikvbitzfWZ1bmN0aW9uIEJuKGksdCl7IXQmJiFpfHwodD10fHxpLmdldENvbnRleHQoIjJkIiksdC5zYXZlKCksdC5yZXNldFRyYW5zZm9ybSgpLHQuY2xlYXJSZWN0KDAsMCxpLndpZHRoLGkuaGVpZ2h0KSx0LnJlc3RvcmUoKSl9ZnVuY3Rpb24gcXIoaSx0LGUsbil7SG4oaSx0LGUsbixudWxsKX1mdW5jdGlvbiBIbihpLHQsZSxuLHMpe2xldCBvLHIsYSxsLGMsaCxkLHU7Y29uc3QgZj10LnBvaW50U3R5bGUsZz10LnJvdGF0aW9uLHA9dC5yYWRpdXM7bGV0IG09KGd8fDApKmJpO2lmKGYmJnR5cGVvZiBmPT0ib2JqZWN0IiYmKG89Zi50b1N0cmluZygpLG89PT0iW29iamVjdCBIVE1MSW1hZ2VFbGVtZW50XSJ8fG89PT0iW29iamVjdCBIVE1MQ2FudmFzRWxlbWVudF0iKSl7aS5zYXZlKCksaS50cmFuc2xhdGUoZSxuKSxpLnJvdGF0ZShtKSxpLmRyYXdJbWFnZShmLC1mLndpZHRoLzIsLWYuaGVpZ2h0LzIsZi53aWR0aCxmLmhlaWdodCksaS5yZXN0b3JlKCk7cmV0dXJufWlmKCEoaXNOYU4ocCl8fHA8PTApKXtzd2l0Y2goaS5iZWdpblBhdGgoKSxmKXtkZWZhdWx0OnM/aS5lbGxpcHNlKGUsbixzLzIscCwwLDAsQik6aS5hcmMoZSxuLHAsMCxCKSxpLmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2UidHJpYW5nbGUiOmg9cz9zLzI6cCxpLm1vdmVUbyhlK01hdGguc2luKG0pKmgsbi1NYXRoLmNvcyhtKSpwKSxtKz1PZSxpLmxpbmVUbyhlK01hdGguc2luKG0pKmgsbi1NYXRoLmNvcyhtKSpwKSxtKz1PZSxpLmxpbmVUbyhlK01hdGguc2luKG0pKmgsbi1NYXRoLmNvcyhtKSpwKSxpLmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2UicmVjdFJvdW5kZWQiOmM9cCouNTE2LGw9cC1jLHI9TWF0aC5jb3MobStpdCkqbCxkPU1hdGguY29zKG0raXQpKihzP3MvMi1jOmwpLGE9TWF0aC5zaW4obStpdCkqbCx1PU1hdGguc2luKG0raXQpKihzP3MvMi1jOmwpLGkuYXJjKGUtZCxuLWEsYyxtLVQsbS1IKSxpLmFyYyhlK3Usbi1yLGMsbS1ILG0pLGkuYXJjKGUrZCxuK2EsYyxtLG0rSCksaS5hcmMoZS11LG4rcixjLG0rSCxtK1QpLGkuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZSJyZWN0IjppZighZyl7bD1NYXRoLlNRUlQxXzIqcCxoPXM/cy8yOmwsaS5yZWN0KGUtaCxuLWwsMipoLDIqbCk7YnJlYWt9bSs9aXQ7Y2FzZSJyZWN0Um90IjpkPU1hdGguY29zKG0pKihzP3MvMjpwKSxyPU1hdGguY29zKG0pKnAsYT1NYXRoLnNpbihtKSpwLHU9TWF0aC5zaW4obSkqKHM/cy8yOnApLGkubW92ZVRvKGUtZCxuLWEpLGkubGluZVRvKGUrdSxuLXIpLGkubGluZVRvKGUrZCxuK2EpLGkubGluZVRvKGUtdSxuK3IpLGkuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZSJjcm9zc1JvdCI6bSs9aXQ7Y2FzZSJjcm9zcyI6ZD1NYXRoLmNvcyhtKSoocz9zLzI6cCkscj1NYXRoLmNvcyhtKSpwLGE9TWF0aC5zaW4obSkqcCx1PU1hdGguc2luKG0pKihzP3MvMjpwKSxpLm1vdmVUbyhlLWQsbi1hKSxpLmxpbmVUbyhlK2QsbithKSxpLm1vdmVUbyhlK3Usbi1yKSxpLmxpbmVUbyhlLXUsbityKTticmVhaztjYXNlInN0YXIiOmQ9TWF0aC5jb3MobSkqKHM/cy8yOnApLHI9TWF0aC5jb3MobSkqcCxhPU1hdGguc2luKG0pKnAsdT1NYXRoLnNpbihtKSoocz9zLzI6cCksaS5tb3ZlVG8oZS1kLG4tYSksaS5saW5lVG8oZStkLG4rYSksaS5tb3ZlVG8oZSt1LG4tciksaS5saW5lVG8oZS11LG4rciksbSs9aXQsZD1NYXRoLmNvcyhtKSoocz9zLzI6cCkscj1NYXRoLmNvcyhtKSpwLGE9TWF0aC5zaW4obSkqcCx1PU1hdGguc2luKG0pKihzP3MvMjpwKSxpLm1vdmVUbyhlLWQsbi1hKSxpLmxpbmVUbyhlK2QsbithKSxpLm1vdmVUbyhlK3Usbi1yKSxpLmxpbmVUbyhlLXUsbityKTticmVhaztjYXNlImxpbmUiOnI9cz9zLzI6TWF0aC5jb3MobSkqcCxhPU1hdGguc2luKG0pKnAsaS5tb3ZlVG8oZS1yLG4tYSksaS5saW5lVG8oZStyLG4rYSk7YnJlYWs7Y2FzZSJkYXNoIjppLm1vdmVUbyhlLG4pLGkubGluZVRvKGUrTWF0aC5jb3MobSkqKHM/cy8yOnApLG4rTWF0aC5zaW4obSkqcCk7YnJlYWs7Y2FzZSExOmkuY2xvc2VQYXRoKCk7YnJlYWt9aS5maWxsKCksdC5ib3JkZXJXaWR0aD4wJiZpLnN0cm9rZSgpfX1mdW5jdGlvbiBuZShpLHQsZSl7cmV0dXJuIGU9ZXx8LjUsIXR8fGkmJmkueD50LmxlZnQtZSYmaS54PHQucmlnaHQrZSYmaS55PnQudG9wLWUmJmkueTx0LmJvdHRvbStlfWZ1bmN0aW9uIEFlKGksdCl7aS5zYXZlKCksaS5iZWdpblBhdGgoKSxpLnJlY3QodC5sZWZ0LHQudG9wLHQucmlnaHQtdC5sZWZ0LHQuYm90dG9tLXQudG9wKSxpLmNsaXAoKX1mdW5jdGlvbiBSZShpKXtpLnJlc3RvcmUoKX1mdW5jdGlvbiBHcihpLHQsZSxuLHMpe2lmKCF0KXJldHVybiBpLmxpbmVUbyhlLngsZS55KTtpZihzPT09Im1pZGRsZSIpe2NvbnN0IG89KHQueCtlLngpLzI7aS5saW5lVG8obyx0LnkpLGkubGluZVRvKG8sZS55KX1lbHNlIHM9PT0iYWZ0ZXIiIT0hIW4/aS5saW5lVG8odC54LGUueSk6aS5saW5lVG8oZS54LHQueSk7aS5saW5lVG8oZS54LGUueSl9ZnVuY3Rpb24gSnIoaSx0LGUsbil7aWYoIXQpcmV0dXJuIGkubGluZVRvKGUueCxlLnkpO2kuYmV6aWVyQ3VydmVUbyhuP3QuY3AxeDp0LmNwMngsbj90LmNwMXk6dC5jcDJ5LG4/ZS5jcDJ4OmUuY3AxeCxuP2UuY3AyeTplLmNwMXksZS54LGUueSl9ZnVuY3Rpb24gWnIoaSx0KXt0LnRyYW5zbGF0aW9uJiZpLnRyYW5zbGF0ZSh0LnRyYW5zbGF0aW9uWzBdLHQudHJhbnNsYXRpb25bMV0pLEkodC5yb3RhdGlvbil8fGkucm90YXRlKHQucm90YXRpb24pLHQuY29sb3ImJihpLmZpbGxTdHlsZT10LmNvbG9yKSx0LnRleHRBbGlnbiYmKGkudGV4dEFsaWduPXQudGV4dEFsaWduKSx0LnRleHRCYXNlbGluZSYmKGkudGV4dEJhc2VsaW5lPXQudGV4dEJhc2VsaW5lKX1mdW5jdGlvbiBRcihpLHQsZSxuLHMpe2lmKHMuc3RyaWtldGhyb3VnaHx8cy51bmRlcmxpbmUpe2NvbnN0IG89aS5tZWFzdXJlVGV4dChuKSxyPXQtby5hY3R1YWxCb3VuZGluZ0JveExlZnQsYT10K28uYWN0dWFsQm91bmRpbmdCb3hSaWdodCxsPWUtby5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCxjPWUrby5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQsaD1zLnN0cmlrZXRocm91Z2g/KGwrYykvMjpjO2kuc3Ryb2tlU3R5bGU9aS5maWxsU3R5bGUsaS5iZWdpblBhdGgoKSxpLmxpbmVXaWR0aD1zLmRlY29yYXRpb25XaWR0aHx8MixpLm1vdmVUbyhyLGgpLGkubGluZVRvKGEsaCksaS5zdHJva2UoKX19ZnVuY3Rpb24gdGEoaSx0KXtjb25zdCBlPWkuZmlsbFN0eWxlO2kuZmlsbFN0eWxlPXQuY29sb3IsaS5maWxsUmVjdCh0LmxlZnQsdC50b3AsdC53aWR0aCx0LmhlaWdodCksaS5maWxsU3R5bGU9ZX1mdW5jdGlvbiBzZShpLHQsZSxuLHMsbz17fSl7Y29uc3Qgcj16KHQpP3Q6W3RdLGE9by5zdHJva2VXaWR0aD4wJiZvLnN0cm9rZUNvbG9yIT09IiI7bGV0IGwsYztmb3IoaS5zYXZlKCksaS5mb250PXMuc3RyaW5nLFpyKGksbyksbD0wO2w8ci5sZW5ndGg7KytsKWM9cltsXSxvLmJhY2tkcm9wJiZ0YShpLG8uYmFja2Ryb3ApLGEmJihvLnN0cm9rZUNvbG9yJiYoaS5zdHJva2VTdHlsZT1vLnN0cm9rZUNvbG9yKSxJKG8uc3Ryb2tlV2lkdGgpfHwoaS5saW5lV2lkdGg9by5zdHJva2VXaWR0aCksaS5zdHJva2VUZXh0KGMsZSxuLG8ubWF4V2lkdGgpKSxpLmZpbGxUZXh0KGMsZSxuLG8ubWF4V2lkdGgpLFFyKGksZSxuLGMsbyksbis9TnVtYmVyKHMubGluZUhlaWdodCk7aS5yZXN0b3JlKCl9ZnVuY3Rpb24gRGkoaSx0KXtjb25zdHt4OmUseTpuLHc6cyxoOm8scmFkaXVzOnJ9PXQ7aS5hcmMoZStyLnRvcExlZnQsbityLnRvcExlZnQsci50b3BMZWZ0LDEuNSpULFQsITApLGkubGluZVRvKGUsbitvLXIuYm90dG9tTGVmdCksaS5hcmMoZStyLmJvdHRvbUxlZnQsbitvLXIuYm90dG9tTGVmdCxyLmJvdHRvbUxlZnQsVCxILCEwKSxpLmxpbmVUbyhlK3Mtci5ib3R0b21SaWdodCxuK28pLGkuYXJjKGUrcy1yLmJvdHRvbVJpZ2h0LG4rby1yLmJvdHRvbVJpZ2h0LHIuYm90dG9tUmlnaHQsSCwwLCEwKSxpLmxpbmVUbyhlK3MsbityLnRvcFJpZ2h0KSxpLmFyYyhlK3Mtci50b3BSaWdodCxuK3IudG9wUmlnaHQsci50b3BSaWdodCwwLC1ILCEwKSxpLmxpbmVUbyhlK3IudG9wTGVmdCxuKX1jb25zdCBlYT0vXihub3JtYWx8KFxkKyg/OlwuXGQrKT8pKHB4fGVtfCUpPykkLyxpYT0vXihub3JtYWx8aXRhbGljfGluaXRpYWx8aW5oZXJpdHx1bnNldHwob2JsaXF1ZSggLT9bMC05XT9bMC05XWRlZyk/KSkkLztmdW5jdGlvbiBuYShpLHQpe2NvbnN0IGU9KCIiK2kpLm1hdGNoKGVhKTtpZighZXx8ZVsxXT09PSJub3JtYWwiKXJldHVybiB0KjEuMjtzd2l0Y2goaT0rZVsyXSxlWzNdKXtjYXNlInB4IjpyZXR1cm4gaTtjYXNlIiUiOmkvPTEwMDticmVha31yZXR1cm4gdCppfWNvbnN0IHNhPWk9PitpfHwwO2Z1bmN0aW9uIGpuKGksdCl7Y29uc3QgZT17fSxuPU8odCkscz1uP09iamVjdC5rZXlzKHQpOnQsbz1PKGkpP24/cj0+UChpW3JdLGlbdFtyXV0pOnI9Pmlbcl06KCk9Pmk7Zm9yKGNvbnN0IHIgb2YgcyllW3JdPXNhKG8ocikpO3JldHVybiBlfWZ1bmN0aW9uIE5uKGkpe3JldHVybiBqbihpLHt0b3A6InkiLHJpZ2h0OiJ4Iixib3R0b206InkiLGxlZnQ6IngifSl9ZnVuY3Rpb24gT2koaSl7cmV0dXJuIGpuKGksWyJ0b3BMZWZ0IiwidG9wUmlnaHQiLCJib3R0b21MZWZ0IiwiYm90dG9tUmlnaHQiXSl9ZnVuY3Rpb24gUShpKXtjb25zdCB0PU5uKGkpO3JldHVybiB0LndpZHRoPXQubGVmdCt0LnJpZ2h0LHQuaGVpZ2h0PXQudG9wK3QuYm90dG9tLHR9ZnVuY3Rpb24gbnQoaSx0KXtpPWl8fHt9LHQ9dHx8RS5mb250O2xldCBlPVAoaS5zaXplLHQuc2l6ZSk7dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1wYXJzZUludChlLDEwKSk7bGV0IG49UChpLnN0eWxlLHQuc3R5bGUpO24mJiEoIiIrbikubWF0Y2goaWEpJiYoY29uc29sZS53YXJuKCdJbnZhbGlkIGZvbnQgc3R5bGUgc3BlY2lmaWVkOiAiJytuKyciJyksbj12b2lkIDApO2NvbnN0IHM9e2ZhbWlseTpQKGkuZmFtaWx5LHQuZmFtaWx5KSxsaW5lSGVpZ2h0Om5hKFAoaS5saW5lSGVpZ2h0LHQubGluZUhlaWdodCksZSksc2l6ZTplLHN0eWxlOm4sd2VpZ2h0OlAoaS53ZWlnaHQsdC53ZWlnaHQpLHN0cmluZzoiIn07cmV0dXJuIHMuc3RyaW5nPUtyKHMpLHN9ZnVuY3Rpb24gTGUoaSx0LGUsbil7bGV0IHMsbyxyO2ZvcihzPTAsbz1pLmxlbmd0aDtzPG87KytzKWlmKHI9aVtzXSxyIT09dm9pZCAwJiZyIT09dm9pZCAwKXJldHVybiByfWZ1bmN0aW9uIG9hKGksdCxlKXtjb25zdHttaW46bixtYXg6c309aSxvPV9uKHQsKHMtbikvMikscj0oYSxsKT0+ZSYmYT09PTA/MDphK2w7cmV0dXJue21pbjpyKG4sLU1hdGguYWJzKG8pKSxtYXg6cihzLG8pfX1mdW5jdGlvbiBIdChpLHQpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoaSksdCl9ZnVuY3Rpb24gQ2koaSx0PVsiIl0sZSxuLHM9KCk9PmlbMF0pe2NvbnN0IG89ZXx8aTt0eXBlb2Ygbj4idSImJihuPVVuKCJfZmFsbGJhY2siLGkpKTtjb25zdCByPXtbU3ltYm9sLnRvU3RyaW5nVGFnXToiT2JqZWN0IixfY2FjaGVhYmxlOiEwLF9zY29wZXM6aSxfcm9vdFNjb3BlczpvLF9mYWxsYmFjazpuLF9nZXRUYXJnZXQ6cyxvdmVycmlkZTphPT5DaShbYSwuLi5pXSx0LG8sbil9O3JldHVybiBuZXcgUHJveHkocix7ZGVsZXRlUHJvcGVydHkoYSxsKXtyZXR1cm4gZGVsZXRlIGFbbF0sZGVsZXRlIGEuX2tleXMsZGVsZXRlIGlbMF1bbF0sITB9LGdldChhLGwpe3JldHVybiBZbihhLGwsKCk9PmZhKGwsdCxpLGEpKX0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsbCl7cmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEuX3Njb3Blc1swXSxsKX0sZ2V0UHJvdG90eXBlT2YoKXtyZXR1cm4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZihpWzBdKX0saGFzKGEsbCl7cmV0dXJuIEtuKGEpLmluY2x1ZGVzKGwpfSxvd25LZXlzKGEpe3JldHVybiBLbihhKX0sc2V0KGEsbCxjKXtjb25zdCBoPWEuX3N0b3JhZ2V8fChhLl9zdG9yYWdlPXMoKSk7cmV0dXJuIGFbbF09aFtsXT1jLGRlbGV0ZSBhLl9rZXlzLCEwfX0pfWZ1bmN0aW9uIGp0KGksdCxlLG4pe2NvbnN0IHM9e19jYWNoZWFibGU6ITEsX3Byb3h5OmksX2NvbnRleHQ6dCxfc3ViUHJveHk6ZSxfc3RhY2s6bmV3IFNldCxfZGVzY3JpcHRvcnM6Vm4oaSxuKSxzZXRDb250ZXh0Om89Pmp0KGksbyxlLG4pLG92ZXJyaWRlOm89Pmp0KGkub3ZlcnJpZGUobyksdCxlLG4pfTtyZXR1cm4gbmV3IFByb3h5KHMse2RlbGV0ZVByb3BlcnR5KG8scil7cmV0dXJuIGRlbGV0ZSBvW3JdLGRlbGV0ZSBpW3JdLCEwfSxnZXQobyxyLGEpe3JldHVybiBZbihvLHIsKCk9PmFhKG8scixhKSl9LGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHIpe3JldHVybiBvLl9kZXNjcmlwdG9ycy5hbGxLZXlzP1JlZmxlY3QuaGFzKGkscik/e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTp2b2lkIDA6UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxyKX0sZ2V0UHJvdG90eXBlT2YoKXtyZXR1cm4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZihpKX0saGFzKG8scil7cmV0dXJuIFJlZmxlY3QuaGFzKGkscil9LG93bktleXMoKXtyZXR1cm4gUmVmbGVjdC5vd25LZXlzKGkpfSxzZXQobyxyLGEpe3JldHVybiBpW3JdPWEsZGVsZXRlIG9bcl0sITB9fSl9ZnVuY3Rpb24gVm4oaSx0PXtzY3JpcHRhYmxlOiEwLGluZGV4YWJsZTohMH0pe2NvbnN0e19zY3JpcHRhYmxlOmU9dC5zY3JpcHRhYmxlLF9pbmRleGFibGU6bj10LmluZGV4YWJsZSxfYWxsS2V5czpzPXQuYWxsS2V5c309aTtyZXR1cm57YWxsS2V5czpzLHNjcmlwdGFibGU6ZSxpbmRleGFibGU6bixpc1NjcmlwdGFibGU6cShlKT9lOigpPT5lLGlzSW5kZXhhYmxlOnEobik/bjooKT0+bn19Y29uc3QgcmE9KGksdCk9Pmk/aSttaSh0KTp0LFRpPShpLHQpPT5PKHQpJiZpIT09ImFkYXB0ZXJzIiYmKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PW51bGx8fHQuY29uc3RydWN0b3I9PT1PYmplY3QpO2Z1bmN0aW9uIFluKGksdCxlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSx0KXx8dD09PSJjb25zdHJ1Y3RvciIpcmV0dXJuIGlbdF07Y29uc3Qgbj1lKCk7cmV0dXJuIGlbdF09bixufWZ1bmN0aW9uIGFhKGksdCxlKXtjb25zdHtfcHJveHk6bixfY29udGV4dDpzLF9zdWJQcm94eTpvLF9kZXNjcmlwdG9yczpyfT1pO2xldCBhPW5bdF07cmV0dXJuIHEoYSkmJnIuaXNTY3JpcHRhYmxlKHQpJiYoYT1sYSh0LGEsaSxlKSkseihhKSYmYS5sZW5ndGgmJihhPWNhKHQsYSxpLHIuaXNJbmRleGFibGUpKSxUaSh0LGEpJiYoYT1qdChhLHMsbyYmb1t0XSxyKSksYX1mdW5jdGlvbiBsYShpLHQsZSxuKXtjb25zdHtfcHJveHk6cyxfY29udGV4dDpvLF9zdWJQcm94eTpyLF9zdGFjazphfT1lO2lmKGEuaGFzKGkpKXRocm93IG5ldyBFcnJvcigiUmVjdXJzaW9uIGRldGVjdGVkOiAiK0FycmF5LmZyb20oYSkuam9pbigiLT4iKSsiLT4iK2kpO2EuYWRkKGkpO2xldCBsPXQobyxyfHxuKTtyZXR1cm4gYS5kZWxldGUoaSksVGkoaSxsKSYmKGw9QWkocy5fc2NvcGVzLHMsaSxsKSksbH1mdW5jdGlvbiBjYShpLHQsZSxuKXtjb25zdHtfcHJveHk6cyxfY29udGV4dDpvLF9zdWJQcm94eTpyLF9kZXNjcmlwdG9yczphfT1lO2lmKHR5cGVvZiBvLmluZGV4PCJ1IiYmbihpKSlyZXR1cm4gdFtvLmluZGV4JXQubGVuZ3RoXTtpZihPKHRbMF0pKXtjb25zdCBsPXQsYz1zLl9zY29wZXMuZmlsdGVyKGg9PmghPT1sKTt0PVtdO2Zvcihjb25zdCBoIG9mIGwpe2NvbnN0IGQ9QWkoYyxzLGksaCk7dC5wdXNoKGp0KGQsbyxyJiZyW2ldLGEpKX19cmV0dXJuIHR9ZnVuY3Rpb24gJG4oaSx0LGUpe3JldHVybiBxKGkpP2kodCxlKTppfWNvbnN0IGhhPShpLHQpPT5pPT09ITA/dDp0eXBlb2YgaT09InN0cmluZyI/TXQodCxpKTp2b2lkIDA7ZnVuY3Rpb24gZGEoaSx0LGUsbixzKXtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCByPWhhKGUsbyk7aWYocil7aS5hZGQocik7Y29uc3QgYT0kbihyLl9mYWxsYmFjayxlLHMpO2lmKHR5cGVvZiBhPCJ1IiYmYSE9PWUmJmEhPT1uKXJldHVybiBhfWVsc2UgaWYocj09PSExJiZ0eXBlb2YgbjwidSImJmUhPT1uKXJldHVybiBudWxsfXJldHVybiExfWZ1bmN0aW9uIEFpKGksdCxlLG4pe2NvbnN0IHM9dC5fcm9vdFNjb3BlcyxvPSRuKHQuX2ZhbGxiYWNrLGUsbikscj1bLi4uaSwuLi5zXSxhPW5ldyBTZXQ7YS5hZGQobik7bGV0IGw9WG4oYSxyLGUsb3x8ZSxuKTtyZXR1cm4gbD09PW51bGx8fHR5cGVvZiBvPCJ1IiYmbyE9PWUmJihsPVhuKGEscixvLGwsbiksbD09PW51bGwpPyExOkNpKEFycmF5LmZyb20oYSksWyIiXSxzLG8sKCk9PnVhKHQsZSxuKSl9ZnVuY3Rpb24gWG4oaSx0LGUsbixzKXtmb3IoO2U7KWU9ZGEoaSx0LGUsbixzKTtyZXR1cm4gZX1mdW5jdGlvbiB1YShpLHQsZSl7Y29uc3Qgbj1pLl9nZXRUYXJnZXQoKTt0IGluIG58fChuW3RdPXt9KTtjb25zdCBzPW5bdF07cmV0dXJuIHoocykmJk8oZSk/ZTpzfHx7fX1mdW5jdGlvbiBmYShpLHQsZSxuKXtsZXQgcztmb3IoY29uc3QgbyBvZiB0KWlmKHM9VW4ocmEobyxpKSxlKSx0eXBlb2YgczwidSIpcmV0dXJuIFRpKGkscyk/QWkoZSxuLGkscyk6c31mdW5jdGlvbiBVbihpLHQpe2Zvcihjb25zdCBlIG9mIHQpe2lmKCFlKWNvbnRpbnVlO2NvbnN0IG49ZVtpXTtpZih0eXBlb2YgbjwidSIpcmV0dXJuIG59fWZ1bmN0aW9uIEtuKGkpe2xldCB0PWkuX2tleXM7cmV0dXJuIHR8fCh0PWkuX2tleXM9Z2EoaS5fc2NvcGVzKSksdH1mdW5jdGlvbiBnYShpKXtjb25zdCB0PW5ldyBTZXQ7Zm9yKGNvbnN0IGUgb2YgaSlmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyhlKS5maWx0ZXIocz0+IXMuc3RhcnRzV2l0aCgiXyIpKSl0LmFkZChuKTtyZXR1cm4gQXJyYXkuZnJvbSh0KX1jb25zdCBwYT1OdW1iZXIuRVBTSUxPTnx8MWUtMTQsTnQ9KGksdCk9PnQ8aS5sZW5ndGgmJiFpW3RdLnNraXAmJmlbdF0scW49aT0+aT09PSJ4Ij8ieSI6IngiO2Z1bmN0aW9uIG1hKGksdCxlLG4pe2NvbnN0IHM9aS5za2lwP3Q6aSxvPXQscj1lLnNraXA/dDplLGE9dGUobyxzKSxsPXRlKHIsbyk7bGV0IGM9YS8oYStsKSxoPWwvKGErbCk7Yz1pc05hTihjKT8wOmMsaD1pc05hTihoKT8wOmg7Y29uc3QgZD1uKmMsdT1uKmg7cmV0dXJue3ByZXZpb3VzOnt4Om8ueC1kKihyLngtcy54KSx5Om8ueS1kKihyLnktcy55KX0sbmV4dDp7eDpvLngrdSooci54LXMueCkseTpvLnkrdSooci55LXMueSl9fX1mdW5jdGlvbiBiYShpLHQsZSl7Y29uc3Qgbj1pLmxlbmd0aDtsZXQgcyxvLHIsYSxsLGM9TnQoaSwwKTtmb3IobGV0IGg9MDtoPG4tMTsrK2gpaWYobD1jLGM9TnQoaSxoKzEpLCEoIWx8fCFjKSl7aWYoUXQodFtoXSwwLHBhKSl7ZVtoXT1lW2grMV09MDtjb250aW51ZX1zPWVbaF0vdFtoXSxvPWVbaCsxXS90W2hdLGE9TWF0aC5wb3cocywyKStNYXRoLnBvdyhvLDIpLCEoYTw9OSkmJihyPTMvTWF0aC5zcXJ0KGEpLGVbaF09cypyKnRbaF0sZVtoKzFdPW8qcip0W2hdKX19ZnVuY3Rpb24geGEoaSx0LGU9IngiKXtjb25zdCBuPXFuKGUpLHM9aS5sZW5ndGg7bGV0IG8scixhLGw9TnQoaSwwKTtmb3IobGV0IGM9MDtjPHM7KytjKXtpZihyPWEsYT1sLGw9TnQoaSxjKzEpLCFhKWNvbnRpbnVlO2NvbnN0IGg9YVtlXSxkPWFbbl07ciYmKG89KGgtcltlXSkvMyxhW2BjcDEke2V9YF09aC1vLGFbYGNwMSR7bn1gXT1kLW8qdFtjXSksbCYmKG89KGxbZV0taCkvMyxhW2BjcDIke2V9YF09aCtvLGFbYGNwMiR7bn1gXT1kK28qdFtjXSl9fWZ1bmN0aW9uIF9hKGksdD0ieCIpe2NvbnN0IGU9cW4odCksbj1pLmxlbmd0aCxzPUFycmF5KG4pLmZpbGwoMCksbz1BcnJheShuKTtsZXQgcixhLGwsYz1OdChpLDApO2ZvcihyPTA7cjxuOysrcilpZihhPWwsbD1jLGM9TnQoaSxyKzEpLCEhbCl7aWYoYyl7Y29uc3QgaD1jW3RdLWxbdF07c1tyXT1oIT09MD8oY1tlXS1sW2VdKS9oOjB9b1tyXT1hP2M/aHQoc1tyLTFdKSE9PWh0KHNbcl0pPzA6KHNbci0xXStzW3JdKS8yOnNbci0xXTpzW3JdfWJhKGkscyxvKSx4YShpLG8sdCl9ZnVuY3Rpb24gSWUoaSx0LGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbihpLGUpLHQpfWZ1bmN0aW9uIHlhKGksdCl7bGV0IGUsbixzLG8scixhPW5lKGlbMF0sdCk7Zm9yKGU9MCxuPWkubGVuZ3RoO2U8bjsrK2Upcj1vLG89YSxhPWU8bi0xJiZuZShpW2UrMV0sdCksbyYmKHM9aVtlXSxyJiYocy5jcDF4PUllKHMuY3AxeCx0LmxlZnQsdC5yaWdodCkscy5jcDF5PUllKHMuY3AxeSx0LnRvcCx0LmJvdHRvbSkpLGEmJihzLmNwMng9SWUocy5jcDJ4LHQubGVmdCx0LnJpZ2h0KSxzLmNwMnk9SWUocy5jcDJ5LHQudG9wLHQuYm90dG9tKSkpfWZ1bmN0aW9uIHdhKGksdCxlLG4scyl7bGV0IG8scixhLGw7aWYodC5zcGFuR2FwcyYmKGk9aS5maWx0ZXIoYz0+IWMuc2tpcCkpLHQuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZT09PSJtb25vdG9uZSIpX2EoaSxzKTtlbHNle2xldCBjPW4/aVtpLmxlbmd0aC0xXTppWzBdO2ZvcihvPTAscj1pLmxlbmd0aDtvPHI7KytvKWE9aVtvXSxsPW1hKGMsYSxpW01hdGgubWluKG8rMSxyLShuPzA6MSkpJXJdLHQudGVuc2lvbiksYS5jcDF4PWwucHJldmlvdXMueCxhLmNwMXk9bC5wcmV2aW91cy55LGEuY3AyeD1sLm5leHQueCxhLmNwMnk9bC5uZXh0LnksYz1hfXQuY2FwQmV6aWVyUG9pbnRzJiZ5YShpLGUpfWZ1bmN0aW9uIFJpKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8InUiJiZ0eXBlb2YgZG9jdW1lbnQ8InUifWZ1bmN0aW9uIExpKGkpe2xldCB0PWkucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC50b1N0cmluZygpPT09IltvYmplY3QgU2hhZG93Um9vdF0iJiYodD10Lmhvc3QpLHR9ZnVuY3Rpb24gemUoaSx0LGUpe2xldCBuO3JldHVybiB0eXBlb2YgaT09InN0cmluZyI/KG49cGFyc2VJbnQoaSwxMCksaS5pbmRleE9mKCIlIikhPT0tMSYmKG49bi8xMDAqdC5wYXJlbnROb2RlW2VdKSk6bj1pLG59Y29uc3QgRWU9aT0+aS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaSxudWxsKTtmdW5jdGlvbiBNYShpLHQpe3JldHVybiBFZShpKS5nZXRQcm9wZXJ0eVZhbHVlKHQpfWNvbnN0IGthPVsidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Il07ZnVuY3Rpb24gT3QoaSx0LGUpe2NvbnN0IG49e307ZT1lPyItIitlOiIiO2ZvcihsZXQgcz0wO3M8NDtzKyspe2NvbnN0IG89a2Fbc107bltvXT1wYXJzZUZsb2F0KGlbdCsiLSIrbytlXSl8fDB9cmV0dXJuIG4ud2lkdGg9bi5sZWZ0K24ucmlnaHQsbi5oZWlnaHQ9bi50b3Arbi5ib3R0b20sbn1jb25zdCB2YT0oaSx0LGUpPT4oaT4wfHx0PjApJiYoIWV8fCFlLnNoYWRvd1Jvb3QpO2Z1bmN0aW9uIFNhKGksdCl7Y29uc3QgZT1pLnRvdWNoZXMsbj1lJiZlLmxlbmd0aD9lWzBdOmkse29mZnNldFg6cyxvZmZzZXRZOm99PW47bGV0IHI9ITEsYSxsO2lmKHZhKHMsbyxpLnRhcmdldCkpYT1zLGw9bztlbHNle2NvbnN0IGM9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPW4uY2xpZW50WC1jLmxlZnQsbD1uLmNsaWVudFktYy50b3Ascj0hMH1yZXR1cm57eDphLHk6bCxib3g6cn19ZnVuY3Rpb24gQ3QoaSx0KXtpZigibmF0aXZlImluIGkpcmV0dXJuIGk7Y29uc3R7Y2FudmFzOmUsY3VycmVudERldmljZVBpeGVsUmF0aW86bn09dCxzPUVlKGUpLG89cy5ib3hTaXppbmc9PT0iYm9yZGVyLWJveCIscj1PdChzLCJwYWRkaW5nIiksYT1PdChzLCJib3JkZXIiLCJ3aWR0aCIpLHt4OmwseTpjLGJveDpofT1TYShpLGUpLGQ9ci5sZWZ0KyhoJiZhLmxlZnQpLHU9ci50b3ArKGgmJmEudG9wKTtsZXR7d2lkdGg6ZixoZWlnaHQ6Z309dDtyZXR1cm4gbyYmKGYtPXIud2lkdGgrYS53aWR0aCxnLT1yLmhlaWdodCthLmhlaWdodCkse3g6TWF0aC5yb3VuZCgobC1kKS9mKmUud2lkdGgvbikseTpNYXRoLnJvdW5kKChjLXUpL2cqZS5oZWlnaHQvbil9fWZ1bmN0aW9uIFBhKGksdCxlKXtsZXQgbixzO2lmKHQ9PT12b2lkIDB8fGU9PT12b2lkIDApe2NvbnN0IG89aSYmTGkoaSk7aWYoIW8pdD1pLmNsaWVudFdpZHRoLGU9aS5jbGllbnRIZWlnaHQ7ZWxzZXtjb25zdCByPW8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT1FZShvKSxsPU90KGEsImJvcmRlciIsIndpZHRoIiksYz1PdChhLCJwYWRkaW5nIik7dD1yLndpZHRoLWMud2lkdGgtbC53aWR0aCxlPXIuaGVpZ2h0LWMuaGVpZ2h0LWwuaGVpZ2h0LG49emUoYS5tYXhXaWR0aCxvLCJjbGllbnRXaWR0aCIpLHM9emUoYS5tYXhIZWlnaHQsbywiY2xpZW50SGVpZ2h0Iil9fXJldHVybnt3aWR0aDp0LGhlaWdodDplLG1heFdpZHRoOm58fERlLG1heEhlaWdodDpzfHxEZX19Y29uc3QgRmU9aT0+TWF0aC5yb3VuZChpKjEwKS8xMDtmdW5jdGlvbiBEYShpLHQsZSxuKXtjb25zdCBzPUVlKGkpLG89T3QocywibWFyZ2luIikscj16ZShzLm1heFdpZHRoLGksImNsaWVudFdpZHRoIil8fERlLGE9emUocy5tYXhIZWlnaHQsaSwiY2xpZW50SGVpZ2h0Iil8fERlLGw9UGEoaSx0LGUpO2xldHt3aWR0aDpjLGhlaWdodDpofT1sO2lmKHMuYm94U2l6aW5nPT09ImNvbnRlbnQtYm94Iil7Y29uc3QgdT1PdChzLCJib3JkZXIiLCJ3aWR0aCIpLGY9T3QocywicGFkZGluZyIpO2MtPWYud2lkdGgrdS53aWR0aCxoLT1mLmhlaWdodCt1LmhlaWdodH1yZXR1cm4gYz1NYXRoLm1heCgwLGMtby53aWR0aCksaD1NYXRoLm1heCgwLG4/Yy9uOmgtby5oZWlnaHQpLGM9RmUoTWF0aC5taW4oYyxyLGwubWF4V2lkdGgpKSxoPUZlKE1hdGgubWluKGgsYSxsLm1heEhlaWdodCkpLGMmJiFoJiYoaD1GZShjLzIpKSwodCE9PXZvaWQgMHx8ZSE9PXZvaWQgMCkmJm4mJmwuaGVpZ2h0JiZoPmwuaGVpZ2h0JiYoaD1sLmhlaWdodCxjPUZlKE1hdGguZmxvb3IoaCpuKSkpLHt3aWR0aDpjLGhlaWdodDpofX1mdW5jdGlvbiBHbihpLHQsZSl7Y29uc3Qgbj10fHwxLHM9TWF0aC5mbG9vcihpLmhlaWdodCpuKSxvPU1hdGguZmxvb3IoaS53aWR0aCpuKTtpLmhlaWdodD1NYXRoLmZsb29yKGkuaGVpZ2h0KSxpLndpZHRoPU1hdGguZmxvb3IoaS53aWR0aCk7Y29uc3Qgcj1pLmNhbnZhcztyZXR1cm4gci5zdHlsZSYmKGV8fCFyLnN0eWxlLmhlaWdodCYmIXIuc3R5bGUud2lkdGgpJiYoci5zdHlsZS5oZWlnaHQ9YCR7aS5oZWlnaHR9cHhgLHIuc3R5bGUud2lkdGg9YCR7aS53aWR0aH1weGApLGkuY3VycmVudERldmljZVBpeGVsUmF0aW8hPT1ufHxyLmhlaWdodCE9PXN8fHIud2lkdGghPT1vPyhpLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvPW4sci5oZWlnaHQ9cyxyLndpZHRoPW8saS5jdHguc2V0VHJhbnNmb3JtKG4sMCwwLG4sMCwwKSwhMCk6ITF9Y29uc3QgT2E9ZnVuY3Rpb24oKXtsZXQgaT0hMTt0cnl7Y29uc3QgdD17Z2V0IHBhc3NpdmUoKXtyZXR1cm4gaT0hMCwhMX19O1JpKCkmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsbnVsbCx0KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsbnVsbCx0KSl9Y2F0Y2h7fXJldHVybiBpfSgpO2Z1bmN0aW9uIEpuKGksdCl7Y29uc3QgZT1NYShpLHQpLG49ZSYmZS5tYXRjaCgvXihcZCspKFwuXGQrKT9weCQvKTtyZXR1cm4gbj8rblsxXTp2b2lkIDB9ZnVuY3Rpb24gVHQoaSx0LGUsbil7cmV0dXJue3g6aS54K2UqKHQueC1pLngpLHk6aS55K2UqKHQueS1pLnkpfX1mdW5jdGlvbiBDYShpLHQsZSxuKXtyZXR1cm57eDppLngrZSoodC54LWkueCkseTpuPT09Im1pZGRsZSI/ZTwuNT9pLnk6dC55Om49PT0iYWZ0ZXIiP2U8MT9pLnk6dC55OmU+MD90Lnk6aS55fX1mdW5jdGlvbiBUYShpLHQsZSxuKXtjb25zdCBzPXt4OmkuY3AyeCx5OmkuY3AyeX0sbz17eDp0LmNwMXgseTp0LmNwMXl9LHI9VHQoaSxzLGUpLGE9VHQocyxvLGUpLGw9VHQobyx0LGUpLGM9VHQocixhLGUpLGg9VHQoYSxsLGUpO3JldHVybiBUdChjLGgsZSl9Y29uc3QgQWE9ZnVuY3Rpb24oaSx0KXtyZXR1cm57eChlKXtyZXR1cm4gaStpK3QtZX0sc2V0V2lkdGgoZSl7dD1lfSx0ZXh0QWxpZ24oZSl7cmV0dXJuIGU9PT0iY2VudGVyIj9lOmU9PT0icmlnaHQiPyJsZWZ0IjoicmlnaHQifSx4UGx1cyhlLG4pe3JldHVybiBlLW59LGxlZnRGb3JMdHIoZSxuKXtyZXR1cm4gZS1ufX19LFJhPWZ1bmN0aW9uKCl7cmV0dXJue3goaSl7cmV0dXJuIGl9LHNldFdpZHRoKGkpe30sdGV4dEFsaWduKGkpe3JldHVybiBpfSx4UGx1cyhpLHQpe3JldHVybiBpK3R9LGxlZnRGb3JMdHIoaSx0KXtyZXR1cm4gaX19fTtmdW5jdGlvbiBJaShpLHQsZSl7cmV0dXJuIGk/QWEodCxlKTpSYSgpfWZ1bmN0aW9uIExhKGksdCl7bGV0IGUsbjsodD09PSJsdHIifHx0PT09InJ0bCIpJiYoZT1pLmNhbnZhcy5zdHlsZSxuPVtlLmdldFByb3BlcnR5VmFsdWUoImRpcmVjdGlvbiIpLGUuZ2V0UHJvcGVydHlQcmlvcml0eSgiZGlyZWN0aW9uIildLGUuc2V0UHJvcGVydHkoImRpcmVjdGlvbiIsdCwiaW1wb3J0YW50IiksaS5wcmV2VGV4dERpcmVjdGlvbj1uKX1mdW5jdGlvbiBJYShpLHQpe3QhPT12b2lkIDAmJihkZWxldGUgaS5wcmV2VGV4dERpcmVjdGlvbixpLmNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlyZWN0aW9uIix0WzBdLHRbMV0pKX1mdW5jdGlvbiBabihpKXtyZXR1cm4gaT09PSJhbmdsZSI/e2JldHdlZW46Q2UsY29tcGFyZTpBcixub3JtYWxpemU6YnR9OntiZXR3ZWVuOnZ0LGNvbXBhcmU6KHQsZSk9PnQtZSxub3JtYWxpemU6dD0+dH19ZnVuY3Rpb24gUW4oe3N0YXJ0OmksZW5kOnQsY291bnQ6ZSxsb29wOm4sc3R5bGU6c30pe3JldHVybntzdGFydDppJWUsZW5kOnQlZSxsb29wOm4mJih0LWkrMSklZT09PTAsc3R5bGU6c319ZnVuY3Rpb24gemEoaSx0LGUpe2NvbnN0e3Byb3BlcnR5Om4sc3RhcnQ6cyxlbmQ6b309ZSx7YmV0d2VlbjpyLG5vcm1hbGl6ZTphfT1abihuKSxsPXQubGVuZ3RoO2xldHtzdGFydDpjLGVuZDpoLGxvb3A6ZH09aSx1LGY7aWYoZCl7Zm9yKGMrPWwsaCs9bCx1PTAsZj1sO3U8ZiYmcihhKHRbYyVsXVtuXSkscyxvKTsrK3UpYy0tLGgtLTtjJT1sLGglPWx9cmV0dXJuIGg8YyYmKGgrPWwpLHtzdGFydDpjLGVuZDpoLGxvb3A6ZCxzdHlsZTppLnN0eWxlfX1mdW5jdGlvbiBFYShpLHQsZSl7aWYoIWUpcmV0dXJuW2ldO2NvbnN0e3Byb3BlcnR5Om4sc3RhcnQ6cyxlbmQ6b309ZSxyPXQubGVuZ3RoLHtjb21wYXJlOmEsYmV0d2VlbjpsLG5vcm1hbGl6ZTpjfT1abihuKSx7c3RhcnQ6aCxlbmQ6ZCxsb29wOnUsc3R5bGU6Zn09emEoaSx0LGUpLGc9W107bGV0IHA9ITEsbT1udWxsLGIseCx5O2NvbnN0IE09KCk9Pmwocyx5LGIpJiZhKHMseSkhPT0wLF89KCk9PmEobyxiKT09PTB8fGwobyx5LGIpLHY9KCk9PnB8fE0oKSxrPSgpPT4hcHx8XygpO2ZvcihsZXQgdz1oLEQ9aDt3PD1kOysrdyl4PXRbdyVyXSwheC5za2lwJiYoYj1jKHhbbl0pLGIhPT15JiYocD1sKGIscyxvKSxtPT09bnVsbCYmdigpJiYobT1hKGIscyk9PT0wP3c6RCksbSE9PW51bGwmJmsoKSYmKGcucHVzaChRbih7c3RhcnQ6bSxlbmQ6dyxsb29wOnUsY291bnQ6cixzdHlsZTpmfSkpLG09bnVsbCksRD13LHk9YikpO3JldHVybiBtIT09bnVsbCYmZy5wdXNoKFFuKHtzdGFydDptLGVuZDpkLGxvb3A6dSxjb3VudDpyLHN0eWxlOmZ9KSksZ31mdW5jdGlvbiBGYShpLHQpe2NvbnN0IGU9W10sbj1pLnNlZ21lbnRzO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKXtjb25zdCBvPUVhKG5bc10saS5wb2ludHMsdCk7by5sZW5ndGgmJmUucHVzaCguLi5vKX1yZXR1cm4gZX1mdW5jdGlvbiBXYShpLHQsZSxuKXtsZXQgcz0wLG89dC0xO2lmKGUmJiFuKWZvcig7czx0JiYhaVtzXS5za2lwOylzKys7Zm9yKDtzPHQmJmlbc10uc2tpcDspcysrO2ZvcihzJT10LGUmJihvKz1zKTtvPnMmJmlbbyV0XS5za2lwOylvLS07cmV0dXJuIG8lPXQse3N0YXJ0OnMsZW5kOm99fWZ1bmN0aW9uIEJhKGksdCxlLG4pe2NvbnN0IHM9aS5sZW5ndGgsbz1bXTtsZXQgcj10LGE9aVt0XSxsO2ZvcihsPXQrMTtsPD1lOysrbCl7Y29uc3QgYz1pW2wlc107Yy5za2lwfHxjLnN0b3A/YS5za2lwfHwobj0hMSxvLnB1c2goe3N0YXJ0OnQlcyxlbmQ6KGwtMSklcyxsb29wOm59KSx0PXI9Yy5zdG9wP2w6bnVsbCk6KHI9bCxhLnNraXAmJih0PWwpKSxhPWN9cmV0dXJuIHIhPT1udWxsJiZvLnB1c2goe3N0YXJ0OnQlcyxlbmQ6ciVzLGxvb3A6bn0pLG99ZnVuY3Rpb24gSGEoaSx0KXtjb25zdCBlPWkucG9pbnRzLG49aS5vcHRpb25zLnNwYW5HYXBzLHM9ZS5sZW5ndGg7aWYoIXMpcmV0dXJuW107Y29uc3Qgbz0hIWkuX2xvb3Ase3N0YXJ0OnIsZW5kOmF9PVdhKGUscyxvLG4pO2lmKG49PT0hMClyZXR1cm4gdHMoaSxbe3N0YXJ0OnIsZW5kOmEsbG9vcDpvfV0sZSx0KTtjb25zdCBsPWE8cj9hK3M6YSxjPSEhaS5fZnVsbExvb3AmJnI9PT0wJiZhPT09cy0xO3JldHVybiB0cyhpLEJhKGUscixsLGMpLGUsdCl9ZnVuY3Rpb24gdHMoaSx0LGUsbil7cmV0dXJuIW58fCFuLnNldENvbnRleHR8fCFlP3Q6amEoaSx0LGUsbil9ZnVuY3Rpb24gamEoaSx0LGUsbil7Y29uc3Qgcz1pLl9jaGFydC5nZXRDb250ZXh0KCksbz1lcyhpLm9wdGlvbnMpLHtfZGF0YXNldEluZGV4OnIsb3B0aW9uczp7c3BhbkdhcHM6YX19PWksbD1lLmxlbmd0aCxjPVtdO2xldCBoPW8sZD10WzBdLnN0YXJ0LHU9ZDtmdW5jdGlvbiBmKGcscCxtLGIpe2NvbnN0IHg9YT8tMToxO2lmKGchPT1wKXtmb3IoZys9bDtlW2clbF0uc2tpcDspZy09eDtmb3IoO2VbcCVsXS5za2lwOylwKz14O2clbCE9PXAlbCYmKGMucHVzaCh7c3RhcnQ6ZyVsLGVuZDpwJWwsbG9vcDptLHN0eWxlOmJ9KSxoPWIsZD1wJWwpfX1mb3IoY29uc3QgZyBvZiB0KXtkPWE/ZDpnLnN0YXJ0O2xldCBwPWVbZCVsXSxtO2Zvcih1PWQrMTt1PD1nLmVuZDt1Kyspe2NvbnN0IGI9ZVt1JWxdO209ZXMobi5zZXRDb250ZXh0KEh0KHMse3R5cGU6InNlZ21lbnQiLHAwOnAscDE6YixwMERhdGFJbmRleDoodS0xKSVsLHAxRGF0YUluZGV4OnUlbCxkYXRhc2V0SW5kZXg6cn0pKSksTmEobSxoKSYmZihkLHUtMSxnLmxvb3AsaCkscD1iLGg9bX1kPHUtMSYmZihkLHUtMSxnLmxvb3AsaCl9cmV0dXJuIGN9ZnVuY3Rpb24gZXMoaSl7cmV0dXJue2JhY2tncm91bmRDb2xvcjppLmJhY2tncm91bmRDb2xvcixib3JkZXJDYXBTdHlsZTppLmJvcmRlckNhcFN0eWxlLGJvcmRlckRhc2g6aS5ib3JkZXJEYXNoLGJvcmRlckRhc2hPZmZzZXQ6aS5ib3JkZXJEYXNoT2Zmc2V0LGJvcmRlckpvaW5TdHlsZTppLmJvcmRlckpvaW5TdHlsZSxib3JkZXJXaWR0aDppLmJvcmRlcldpZHRoLGJvcmRlckNvbG9yOmkuYm9yZGVyQ29sb3J9fWZ1bmN0aW9uIE5hKGksdCl7aWYoIXQpcmV0dXJuITE7Y29uc3QgZT1bXSxuPWZ1bmN0aW9uKHMsbyl7cmV0dXJuIE1pKG8pPyhlLmluY2x1ZGVzKG8pfHxlLnB1c2gobyksZS5pbmRleE9mKG8pKTpvfTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaSxuKSE9PUpTT04uc3RyaW5naWZ5KHQsbil9LyohCiAqIENoYXJ0LmpzIHY0LjQuMwogKiBodHRwczovL3d3dy5jaGFydGpzLm9yZwogKiAoYykgMjAyNCBDaGFydC5qcyBDb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlCiAqL2NsYXNzIFZhe2NvbnN0cnVjdG9yKCl7dGhpcy5fcmVxdWVzdD1udWxsLHRoaXMuX2NoYXJ0cz1uZXcgTWFwLHRoaXMuX3J1bm5pbmc9ITEsdGhpcy5fbGFzdERhdGU9dm9pZCAwfV9ub3RpZnkodCxlLG4scyl7Y29uc3Qgbz1lLmxpc3RlbmVyc1tzXSxyPWUuZHVyYXRpb247by5mb3JFYWNoKGE9PmEoe2NoYXJ0OnQsaW5pdGlhbDplLmluaXRpYWwsbnVtU3RlcHM6cixjdXJyZW50U3RlcDpNYXRoLm1pbihuLWUuc3RhcnQscil9KSl9X3JlZnJlc2goKXt0aGlzLl9yZXF1ZXN0fHwodGhpcy5fcnVubmluZz0hMCx0aGlzLl9yZXF1ZXN0PVRuLmNhbGwod2luZG93LCgpPT57dGhpcy5fdXBkYXRlKCksdGhpcy5fcmVxdWVzdD1udWxsLHRoaXMuX3J1bm5pbmcmJnRoaXMuX3JlZnJlc2goKX0pKX1fdXBkYXRlKHQ9RGF0ZS5ub3coKSl7bGV0IGU9MDt0aGlzLl9jaGFydHMuZm9yRWFjaCgobixzKT0+e2lmKCFuLnJ1bm5pbmd8fCFuLml0ZW1zLmxlbmd0aClyZXR1cm47Y29uc3Qgbz1uLml0ZW1zO2xldCByPW8ubGVuZ3RoLTEsYT0hMSxsO2Zvcig7cj49MDstLXIpbD1vW3JdLGwuX2FjdGl2ZT8obC5fdG90YWw+bi5kdXJhdGlvbiYmKG4uZHVyYXRpb249bC5fdG90YWwpLGwudGljayh0KSxhPSEwKToob1tyXT1vW28ubGVuZ3RoLTFdLG8ucG9wKCkpO2EmJihzLmRyYXcoKSx0aGlzLl9ub3RpZnkocyxuLHQsInByb2dyZXNzIikpLG8ubGVuZ3RofHwobi5ydW5uaW5nPSExLHRoaXMuX25vdGlmeShzLG4sdCwiY29tcGxldGUiKSxuLmluaXRpYWw9ITEpLGUrPW8ubGVuZ3RofSksdGhpcy5fbGFzdERhdGU9dCxlPT09MCYmKHRoaXMuX3J1bm5pbmc9ITEpfV9nZXRBbmltcyh0KXtjb25zdCBlPXRoaXMuX2NoYXJ0cztsZXQgbj1lLmdldCh0KTtyZXR1cm4gbnx8KG49e3J1bm5pbmc6ITEsaW5pdGlhbDohMCxpdGVtczpbXSxsaXN0ZW5lcnM6e2NvbXBsZXRlOltdLHByb2dyZXNzOltdfX0sZS5zZXQodCxuKSksbn1saXN0ZW4odCxlLG4pe3RoaXMuX2dldEFuaW1zKHQpLmxpc3RlbmVyc1tlXS5wdXNoKG4pfWFkZCh0LGUpeyFlfHwhZS5sZW5ndGh8fHRoaXMuX2dldEFuaW1zKHQpLml0ZW1zLnB1c2goLi4uZSl9aGFzKHQpe3JldHVybiB0aGlzLl9nZXRBbmltcyh0KS5pdGVtcy5sZW5ndGg+MH1zdGFydCh0KXtjb25zdCBlPXRoaXMuX2NoYXJ0cy5nZXQodCk7ZSYmKGUucnVubmluZz0hMCxlLnN0YXJ0PURhdGUubm93KCksZS5kdXJhdGlvbj1lLml0ZW1zLnJlZHVjZSgobixzKT0+TWF0aC5tYXgobixzLl9kdXJhdGlvbiksMCksdGhpcy5fcmVmcmVzaCgpKX1ydW5uaW5nKHQpe2lmKCF0aGlzLl9ydW5uaW5nKXJldHVybiExO2NvbnN0IGU9dGhpcy5fY2hhcnRzLmdldCh0KTtyZXR1cm4hKCFlfHwhZS5ydW5uaW5nfHwhZS5pdGVtcy5sZW5ndGgpfXN0b3AodCl7Y29uc3QgZT10aGlzLl9jaGFydHMuZ2V0KHQpO2lmKCFlfHwhZS5pdGVtcy5sZW5ndGgpcmV0dXJuO2NvbnN0IG49ZS5pdGVtcztsZXQgcz1uLmxlbmd0aC0xO2Zvcig7cz49MDstLXMpbltzXS5jYW5jZWwoKTtlLml0ZW1zPVtdLHRoaXMuX25vdGlmeSh0LGUsRGF0ZS5ub3coKSwiY29tcGxldGUiKX1yZW1vdmUodCl7cmV0dXJuIHRoaXMuX2NoYXJ0cy5kZWxldGUodCl9fXZhciBndD1uZXcgVmE7Y29uc3QgaXM9InRyYW5zcGFyZW50IixZYT17Ym9vbGVhbihpLHQsZSl7cmV0dXJuIGU+LjU/dDppfSxjb2xvcihpLHQsZSl7Y29uc3Qgbj1JbihpfHxpcykscz1uLnZhbGlkJiZJbih0fHxpcyk7cmV0dXJuIHMmJnMudmFsaWQ/cy5taXgobixlKS5oZXhTdHJpbmcoKTp0fSxudW1iZXIoaSx0LGUpe3JldHVybiBpKyh0LWkpKmV9fTtjbGFzcyAkYXtjb25zdHJ1Y3Rvcih0LGUsbixzKXtjb25zdCBvPWVbbl07cz1MZShbdC50byxzLG8sdC5mcm9tXSk7Y29uc3Qgcj1MZShbdC5mcm9tLG8sc10pO3RoaXMuX2FjdGl2ZT0hMCx0aGlzLl9mbj10LmZufHxZYVt0LnR5cGV8fHR5cGVvZiByXSx0aGlzLl9lYXNpbmc9ZWVbdC5lYXNpbmddfHxlZS5saW5lYXIsdGhpcy5fc3RhcnQ9TWF0aC5mbG9vcihEYXRlLm5vdygpKyh0LmRlbGF5fHwwKSksdGhpcy5fZHVyYXRpb249dGhpcy5fdG90YWw9TWF0aC5mbG9vcih0LmR1cmF0aW9uKSx0aGlzLl9sb29wPSEhdC5sb29wLHRoaXMuX3RhcmdldD1lLHRoaXMuX3Byb3A9bix0aGlzLl9mcm9tPXIsdGhpcy5fdG89cyx0aGlzLl9wcm9taXNlcz12b2lkIDB9YWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX11cGRhdGUodCxlLG4pe2lmKHRoaXMuX2FjdGl2ZSl7dGhpcy5fbm90aWZ5KCExKTtjb25zdCBzPXRoaXMuX3RhcmdldFt0aGlzLl9wcm9wXSxvPW4tdGhpcy5fc3RhcnQscj10aGlzLl9kdXJhdGlvbi1vO3RoaXMuX3N0YXJ0PW4sdGhpcy5fZHVyYXRpb249TWF0aC5mbG9vcihNYXRoLm1heChyLHQuZHVyYXRpb24pKSx0aGlzLl90b3RhbCs9byx0aGlzLl9sb29wPSEhdC5sb29wLHRoaXMuX3RvPUxlKFt0LnRvLGUscyx0LmZyb21dKSx0aGlzLl9mcm9tPUxlKFt0LmZyb20scyxlXSl9fWNhbmNlbCgpe3RoaXMuX2FjdGl2ZSYmKHRoaXMudGljayhEYXRlLm5vdygpKSx0aGlzLl9hY3RpdmU9ITEsdGhpcy5fbm90aWZ5KCExKSl9dGljayh0KXtjb25zdCBlPXQtdGhpcy5fc3RhcnQsbj10aGlzLl9kdXJhdGlvbixzPXRoaXMuX3Byb3Asbz10aGlzLl9mcm9tLHI9dGhpcy5fbG9vcCxhPXRoaXMuX3RvO2xldCBsO2lmKHRoaXMuX2FjdGl2ZT1vIT09YSYmKHJ8fGU8biksIXRoaXMuX2FjdGl2ZSl7dGhpcy5fdGFyZ2V0W3NdPWEsdGhpcy5fbm90aWZ5KCEwKTtyZXR1cm59aWYoZTwwKXt0aGlzLl90YXJnZXRbc109bztyZXR1cm59bD1lL24lMixsPXImJmw+MT8yLWw6bCxsPXRoaXMuX2Vhc2luZyhNYXRoLm1pbigxLE1hdGgubWF4KDAsbCkpKSx0aGlzLl90YXJnZXRbc109dGhpcy5fZm4obyxhLGwpfXdhaXQoKXtjb25zdCB0PXRoaXMuX3Byb21pc2VzfHwodGhpcy5fcHJvbWlzZXM9W10pO3JldHVybiBuZXcgUHJvbWlzZSgoZSxuKT0+e3QucHVzaCh7cmVzOmUscmVqOm59KX0pfV9ub3RpZnkodCl7Y29uc3QgZT10PyJyZXMiOiJyZWoiLG49dGhpcy5fcHJvbWlzZXN8fFtdO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKW5bc11bZV0oKX19Y2xhc3MgbnN7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jaGFydD10LHRoaXMuX3Byb3BlcnRpZXM9bmV3IE1hcCx0aGlzLmNvbmZpZ3VyZShlKX1jb25maWd1cmUodCl7aWYoIU8odCkpcmV0dXJuO2NvbnN0IGU9T2JqZWN0LmtleXMoRS5hbmltYXRpb24pLG49dGhpcy5fcHJvcGVydGllcztPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKHM9Pntjb25zdCBvPXRbc107aWYoIU8obykpcmV0dXJuO2NvbnN0IHI9e307Zm9yKGNvbnN0IGEgb2YgZSlyW2FdPW9bYV07KHooby5wcm9wZXJ0aWVzKSYmby5wcm9wZXJ0aWVzfHxbc10pLmZvckVhY2goYT0+eyhhPT09c3x8IW4uaGFzKGEpKSYmbi5zZXQoYSxyKX0pfSl9X2FuaW1hdGVPcHRpb25zKHQsZSl7Y29uc3Qgbj1lLm9wdGlvbnMscz1VYSh0LG4pO2lmKCFzKXJldHVybltdO2NvbnN0IG89dGhpcy5fY3JlYXRlQW5pbWF0aW9ucyhzLG4pO3JldHVybiBuLiRzaGFyZWQmJlhhKHQub3B0aW9ucy4kYW5pbWF0aW9ucyxuKS50aGVuKCgpPT57dC5vcHRpb25zPW59LCgpPT57fSksb31fY3JlYXRlQW5pbWF0aW9ucyh0LGUpe2NvbnN0IG49dGhpcy5fcHJvcGVydGllcyxzPVtdLG89dC4kYW5pbWF0aW9uc3x8KHQuJGFuaW1hdGlvbnM9e30pLHI9T2JqZWN0LmtleXMoZSksYT1EYXRlLm5vdygpO2xldCBsO2ZvcihsPXIubGVuZ3RoLTE7bD49MDstLWwpe2NvbnN0IGM9cltsXTtpZihjLmNoYXJBdCgwKT09PSIkIiljb250aW51ZTtpZihjPT09Im9wdGlvbnMiKXtzLnB1c2goLi4udGhpcy5fYW5pbWF0ZU9wdGlvbnModCxlKSk7Y29udGludWV9Y29uc3QgaD1lW2NdO2xldCBkPW9bY107Y29uc3QgdT1uLmdldChjKTtpZihkKWlmKHUmJmQuYWN0aXZlKCkpe2QudXBkYXRlKHUsaCxhKTtjb250aW51ZX1lbHNlIGQuY2FuY2VsKCk7aWYoIXV8fCF1LmR1cmF0aW9uKXt0W2NdPWg7Y29udGludWV9b1tjXT1kPW5ldyAkYSh1LHQsYyxoKSxzLnB1c2goZCl9cmV0dXJuIHN9dXBkYXRlKHQsZSl7aWYodGhpcy5fcHJvcGVydGllcy5zaXplPT09MCl7T2JqZWN0LmFzc2lnbih0LGUpO3JldHVybn1jb25zdCBuPXRoaXMuX2NyZWF0ZUFuaW1hdGlvbnModCxlKTtpZihuLmxlbmd0aClyZXR1cm4gZ3QuYWRkKHRoaXMuX2NoYXJ0LG4pLCEwfX1mdW5jdGlvbiBYYShpLHQpe2NvbnN0IGU9W10sbj1PYmplY3Qua2V5cyh0KTtmb3IobGV0IHM9MDtzPG4ubGVuZ3RoO3MrKyl7Y29uc3Qgbz1pW25bc11dO28mJm8uYWN0aXZlKCkmJmUucHVzaChvLndhaXQoKSl9cmV0dXJuIFByb21pc2UuYWxsKGUpfWZ1bmN0aW9uIFVhKGksdCl7aWYoIXQpcmV0dXJuO2xldCBlPWkub3B0aW9ucztpZighZSl7aS5vcHRpb25zPXQ7cmV0dXJufXJldHVybiBlLiRzaGFyZWQmJihpLm9wdGlvbnM9ZT1PYmplY3QuYXNzaWduKHt9LGUseyRzaGFyZWQ6ITEsJGFuaW1hdGlvbnM6e319KSksZX1mdW5jdGlvbiBzcyhpLHQpe2NvbnN0IGU9aSYmaS5vcHRpb25zfHx7fSxuPWUucmV2ZXJzZSxzPWUubWluPT09dm9pZCAwP3Q6MCxvPWUubWF4PT09dm9pZCAwP3Q6MDtyZXR1cm57c3RhcnQ6bj9vOnMsZW5kOm4/czpvfX1mdW5jdGlvbiBLYShpLHQsZSl7aWYoZT09PSExKXJldHVybiExO2NvbnN0IG49c3MoaSxlKSxzPXNzKHQsZSk7cmV0dXJue3RvcDpzLmVuZCxyaWdodDpuLmVuZCxib3R0b206cy5zdGFydCxsZWZ0Om4uc3RhcnR9fWZ1bmN0aW9uIHFhKGkpe2xldCB0LGUsbixzO3JldHVybiBPKGkpPyh0PWkudG9wLGU9aS5yaWdodCxuPWkuYm90dG9tLHM9aS5sZWZ0KTp0PWU9bj1zPWkse3RvcDp0LHJpZ2h0OmUsYm90dG9tOm4sbGVmdDpzLGRpc2FibGVkOmk9PT0hMX19ZnVuY3Rpb24gb3MoaSx0KXtjb25zdCBlPVtdLG49aS5fZ2V0U29ydGVkRGF0YXNldE1ldGFzKHQpO2xldCBzLG87Zm9yKHM9MCxvPW4ubGVuZ3RoO3M8bzsrK3MpZS5wdXNoKG5bc10uaW5kZXgpO3JldHVybiBlfWZ1bmN0aW9uIHJzKGksdCxlLG49e30pe2NvbnN0IHM9aS5rZXlzLG89bi5tb2RlPT09InNpbmdsZSI7bGV0IHIsYSxsLGM7aWYodCE9PW51bGwpe2ZvcihyPTAsYT1zLmxlbmd0aDtyPGE7KytyKXtpZihsPStzW3JdLGw9PT1lKXtpZihuLmFsbCljb250aW51ZTticmVha31jPWkudmFsdWVzW2xdLFUoYykmJihvfHx0PT09MHx8aHQodCk9PT1odChjKSkmJih0Kz1jKX1yZXR1cm4gdH19ZnVuY3Rpb24gR2EoaSx0KXtjb25zdHtpU2NhbGU6ZSx2U2NhbGU6bn09dCxzPWUuYXhpcz09PSJ4Ij8ieCI6InkiLG89bi5heGlzPT09IngiPyJ4IjoieSIscj1PYmplY3Qua2V5cyhpKSxhPW5ldyBBcnJheShyLmxlbmd0aCk7bGV0IGwsYyxoO2ZvcihsPTAsYz1yLmxlbmd0aDtsPGM7KytsKWg9cltsXSxhW2xdPXtbc106aCxbb106aVtoXX07cmV0dXJuIGF9ZnVuY3Rpb24gYXMoaSx0KXtjb25zdCBlPWkmJmkub3B0aW9ucy5zdGFja2VkO3JldHVybiBlfHxlPT09dm9pZCAwJiZ0LnN0YWNrIT09dm9pZCAwfWZ1bmN0aW9uIEphKGksdCxlKXtyZXR1cm5gJHtpLmlkfS4ke3QuaWR9LiR7ZS5zdGFja3x8ZS50eXBlfWB9ZnVuY3Rpb24gWmEoaSl7Y29uc3R7bWluOnQsbWF4OmUsbWluRGVmaW5lZDpuLG1heERlZmluZWQ6c309aS5nZXRVc2VyQm91bmRzKCk7cmV0dXJue21pbjpuP3Q6TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLG1heDpzP2U6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfX1mdW5jdGlvbiBRYShpLHQsZSl7Y29uc3Qgbj1pW3RdfHwoaVt0XT17fSk7cmV0dXJuIG5bZV18fChuW2VdPXt9KX1mdW5jdGlvbiBscyhpLHQsZSxuKXtmb3IoY29uc3QgcyBvZiB0LmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKG4pLnJldmVyc2UoKSl7Y29uc3Qgbz1pW3MuaW5kZXhdO2lmKGUmJm8+MHx8IWUmJm88MClyZXR1cm4gcy5pbmRleH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBjcyhpLHQpe2NvbnN0e2NoYXJ0OmUsX2NhY2hlZE1ldGE6bn09aSxzPWUuX3N0YWNrc3x8KGUuX3N0YWNrcz17fSkse2lTY2FsZTpvLHZTY2FsZTpyLGluZGV4OmF9PW4sbD1vLmF4aXMsYz1yLmF4aXMsaD1KYShvLHIsbiksZD10Lmxlbmd0aDtsZXQgdTtmb3IobGV0IGY9MDtmPGQ7KytmKXtjb25zdCBnPXRbZl0se1tsXTpwLFtjXTptfT1nLGI9Zy5fc3RhY2tzfHwoZy5fc3RhY2tzPXt9KTt1PWJbY109UWEocyxoLHApLHVbYV09bSx1Ll90b3A9bHModSxyLCEwLG4udHlwZSksdS5fYm90dG9tPWxzKHUsciwhMSxuLnR5cGUpO2NvbnN0IHg9dS5fdmlzdWFsVmFsdWVzfHwodS5fdmlzdWFsVmFsdWVzPXt9KTt4W2FdPW19fWZ1bmN0aW9uIHppKGksdCl7Y29uc3QgZT1pLnNjYWxlcztyZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKG49PmVbbl0uYXhpcz09PXQpLnNoaWZ0KCl9ZnVuY3Rpb24gdGwoaSx0KXtyZXR1cm4gSHQoaSx7YWN0aXZlOiExLGRhdGFzZXQ6dm9pZCAwLGRhdGFzZXRJbmRleDp0LGluZGV4OnQsbW9kZToiZGVmYXVsdCIsdHlwZToiZGF0YXNldCJ9KX1mdW5jdGlvbiBlbChpLHQsZSl7cmV0dXJuIEh0KGkse2FjdGl2ZTohMSxkYXRhSW5kZXg6dCxwYXJzZWQ6dm9pZCAwLHJhdzp2b2lkIDAsZWxlbWVudDplLGluZGV4OnQsbW9kZToiZGVmYXVsdCIsdHlwZToiZGF0YSJ9KX1mdW5jdGlvbiBvZShpLHQpe2NvbnN0IGU9aS5jb250cm9sbGVyLmluZGV4LG49aS52U2NhbGUmJmkudlNjYWxlLmF4aXM7aWYobil7dD10fHxpLl9wYXJzZWQ7Zm9yKGNvbnN0IHMgb2YgdCl7Y29uc3Qgbz1zLl9zdGFja3M7aWYoIW98fG9bbl09PT12b2lkIDB8fG9bbl1bZV09PT12b2lkIDApcmV0dXJuO2RlbGV0ZSBvW25dW2VdLG9bbl0uX3Zpc3VhbFZhbHVlcyE9PXZvaWQgMCYmb1tuXS5fdmlzdWFsVmFsdWVzW2VdIT09dm9pZCAwJiZkZWxldGUgb1tuXS5fdmlzdWFsVmFsdWVzW2VdfX19Y29uc3QgRWk9aT0+aT09PSJyZXNldCJ8fGk9PT0ibm9uZSIsaHM9KGksdCk9PnQ/aTpPYmplY3QuYXNzaWduKHt9LGkpLGlsPShpLHQsZSk9PmkmJiF0LmhpZGRlbiYmdC5fc3RhY2tlZCYme2tleXM6b3MoZSwhMCksdmFsdWVzOm51bGx9O2NsYXNzIEF0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jaGFydD10LHRoaXMuX2N0eD10LmN0eCx0aGlzLmluZGV4PWUsdGhpcy5fY2FjaGVkRGF0YU9wdHM9e30sdGhpcy5fY2FjaGVkTWV0YT10aGlzLmdldE1ldGEoKSx0aGlzLl90eXBlPXRoaXMuX2NhY2hlZE1ldGEudHlwZSx0aGlzLm9wdGlvbnM9dm9pZCAwLHRoaXMuX3BhcnNpbmc9ITEsdGhpcy5fZGF0YT12b2lkIDAsdGhpcy5fb2JqZWN0RGF0YT12b2lkIDAsdGhpcy5fc2hhcmVkT3B0aW9ucz12b2lkIDAsdGhpcy5fZHJhd1N0YXJ0PXZvaWQgMCx0aGlzLl9kcmF3Q291bnQ9dm9pZCAwLHRoaXMuZW5hYmxlT3B0aW9uU2hhcmluZz0hMSx0aGlzLnN1cHBvcnRzRGVjaW1hdGlvbj0hMSx0aGlzLiRjb250ZXh0PXZvaWQgMCx0aGlzLl9zeW5jTGlzdD1bXSx0aGlzLmRhdGFzZXRFbGVtZW50VHlwZT1uZXcudGFyZ2V0LmRhdGFzZXRFbGVtZW50VHlwZSx0aGlzLmRhdGFFbGVtZW50VHlwZT1uZXcudGFyZ2V0LmRhdGFFbGVtZW50VHlwZSx0aGlzLmluaXRpYWxpemUoKX1pbml0aWFsaXplKCl7Y29uc3QgdD10aGlzLl9jYWNoZWRNZXRhO3RoaXMuY29uZmlndXJlKCksdGhpcy5saW5rU2NhbGVzKCksdC5fc3RhY2tlZD1hcyh0LnZTY2FsZSx0KSx0aGlzLmFkZEVsZW1lbnRzKCksdGhpcy5vcHRpb25zLmZpbGwmJiF0aGlzLmNoYXJ0LmlzUGx1Z2luRW5hYmxlZCgiZmlsbGVyIikmJmNvbnNvbGUud2FybigiVHJpZWQgdG8gdXNlIHRoZSAnZmlsbCcgb3B0aW9uIHdpdGhvdXQgdGhlICdGaWxsZXInIHBsdWdpbiBlbmFibGVkLiBQbGVhc2UgaW1wb3J0IGFuZCByZWdpc3RlciB0aGUgJ0ZpbGxlcicgcGx1Z2luIGFuZCBtYWtlIHN1cmUgaXQgaXMgbm90IGRpc2FibGVkIGluIHRoZSBvcHRpb25zIil9dXBkYXRlSW5kZXgodCl7dGhpcy5pbmRleCE9PXQmJm9lKHRoaXMuX2NhY2hlZE1ldGEpLHRoaXMuaW5kZXg9dH1saW5rU2NhbGVzKCl7Y29uc3QgdD10aGlzLmNoYXJ0LGU9dGhpcy5fY2FjaGVkTWV0YSxuPXRoaXMuZ2V0RGF0YXNldCgpLHM9KGQsdSxmLGcpPT5kPT09IngiP3U6ZD09PSJyIj9nOmYsbz1lLnhBeGlzSUQ9UChuLnhBeGlzSUQsemkodCwieCIpKSxyPWUueUF4aXNJRD1QKG4ueUF4aXNJRCx6aSh0LCJ5IikpLGE9ZS5yQXhpc0lEPVAobi5yQXhpc0lELHppKHQsInIiKSksbD1lLmluZGV4QXhpcyxjPWUuaUF4aXNJRD1zKGwsbyxyLGEpLGg9ZS52QXhpc0lEPXMobCxyLG8sYSk7ZS54U2NhbGU9dGhpcy5nZXRTY2FsZUZvcklkKG8pLGUueVNjYWxlPXRoaXMuZ2V0U2NhbGVGb3JJZChyKSxlLnJTY2FsZT10aGlzLmdldFNjYWxlRm9ySWQoYSksZS5pU2NhbGU9dGhpcy5nZXRTY2FsZUZvcklkKGMpLGUudlNjYWxlPXRoaXMuZ2V0U2NhbGVGb3JJZChoKX1nZXREYXRhc2V0KCl7cmV0dXJuIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0aGlzLmluZGV4XX1nZXRNZXRhKCl7cmV0dXJuIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEodGhpcy5pbmRleCl9Z2V0U2NhbGVGb3JJZCh0KXtyZXR1cm4gdGhpcy5jaGFydC5zY2FsZXNbdF19X2dldE90aGVyU2NhbGUodCl7Y29uc3QgZT10aGlzLl9jYWNoZWRNZXRhO3JldHVybiB0PT09ZS5pU2NhbGU/ZS52U2NhbGU6ZS5pU2NhbGV9cmVzZXQoKXt0aGlzLl91cGRhdGUoInJlc2V0Iil9X2Rlc3Ryb3koKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGE7dGhpcy5fZGF0YSYmT24odGhpcy5fZGF0YSx0aGlzKSx0Ll9zdGFja2VkJiZvZSh0KX1fZGF0YUNoZWNrKCl7Y29uc3QgdD10aGlzLmdldERhdGFzZXQoKSxlPXQuZGF0YXx8KHQuZGF0YT1bXSksbj10aGlzLl9kYXRhO2lmKE8oZSkpe2NvbnN0IHM9dGhpcy5fY2FjaGVkTWV0YTt0aGlzLl9kYXRhPUdhKGUscyl9ZWxzZSBpZihuIT09ZSl7aWYobil7T24obix0aGlzKTtjb25zdCBzPXRoaXMuX2NhY2hlZE1ldGE7b2Uocykscy5fcGFyc2VkPVtdfWUmJk9iamVjdC5pc0V4dGVuc2libGUoZSkmJnpyKGUsdGhpcyksdGhpcy5fc3luY0xpc3Q9W10sdGhpcy5fZGF0YT1lfX1hZGRFbGVtZW50cygpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YTt0aGlzLl9kYXRhQ2hlY2soKSx0aGlzLmRhdGFzZXRFbGVtZW50VHlwZSYmKHQuZGF0YXNldD1uZXcgdGhpcy5kYXRhc2V0RWxlbWVudFR5cGUpfWJ1aWxkT3JVcGRhdGVFbGVtZW50cyh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEsbj10aGlzLmdldERhdGFzZXQoKTtsZXQgcz0hMTt0aGlzLl9kYXRhQ2hlY2soKTtjb25zdCBvPWUuX3N0YWNrZWQ7ZS5fc3RhY2tlZD1hcyhlLnZTY2FsZSxlKSxlLnN0YWNrIT09bi5zdGFjayYmKHM9ITAsb2UoZSksZS5zdGFjaz1uLnN0YWNrKSx0aGlzLl9yZXN5bmNFbGVtZW50cyh0KSwoc3x8byE9PWUuX3N0YWNrZWQpJiZjcyh0aGlzLGUuX3BhcnNlZCl9Y29uZmlndXJlKCl7Y29uc3QgdD10aGlzLmNoYXJ0LmNvbmZpZyxlPXQuZGF0YXNldFNjb3BlS2V5cyh0aGlzLl90eXBlKSxuPXQuZ2V0T3B0aW9uU2NvcGVzKHRoaXMuZ2V0RGF0YXNldCgpLGUsITApO3RoaXMub3B0aW9ucz10LmNyZWF0ZVJlc29sdmVyKG4sdGhpcy5nZXRDb250ZXh0KCkpLHRoaXMuX3BhcnNpbmc9dGhpcy5vcHRpb25zLnBhcnNpbmcsdGhpcy5fY2FjaGVkRGF0YU9wdHM9e319cGFyc2UodCxlKXtjb25zdHtfY2FjaGVkTWV0YTpuLF9kYXRhOnN9PXRoaXMse2lTY2FsZTpvLF9zdGFja2VkOnJ9PW4sYT1vLmF4aXM7bGV0IGw9dD09PTAmJmU9PT1zLmxlbmd0aD8hMDpuLl9zb3J0ZWQsYz10PjAmJm4uX3BhcnNlZFt0LTFdLGgsZCx1O2lmKHRoaXMuX3BhcnNpbmc9PT0hMSluLl9wYXJzZWQ9cyxuLl9zb3J0ZWQ9ITAsdT1zO2Vsc2V7eihzW3RdKT91PXRoaXMucGFyc2VBcnJheURhdGEobixzLHQsZSk6TyhzW3RdKT91PXRoaXMucGFyc2VPYmplY3REYXRhKG4scyx0LGUpOnU9dGhpcy5wYXJzZVByaW1pdGl2ZURhdGEobixzLHQsZSk7Y29uc3QgZj0oKT0+ZFthXT09PW51bGx8fGMmJmRbYV08Y1thXTtmb3IoaD0wO2g8ZTsrK2gpbi5fcGFyc2VkW2grdF09ZD11W2hdLGwmJihmKCkmJihsPSExKSxjPWQpO24uX3NvcnRlZD1sfXImJmNzKHRoaXMsdSl9cGFyc2VQcmltaXRpdmVEYXRhKHQsZSxuLHMpe2NvbnN0e2lTY2FsZTpvLHZTY2FsZTpyfT10LGE9by5heGlzLGw9ci5heGlzLGM9by5nZXRMYWJlbHMoKSxoPW89PT1yLGQ9bmV3IEFycmF5KHMpO2xldCB1LGYsZztmb3IodT0wLGY9czt1PGY7Kyt1KWc9dStuLGRbdV09e1thXTpofHxvLnBhcnNlKGNbZ10sZyksW2xdOnIucGFyc2UoZVtnXSxnKX07cmV0dXJuIGR9cGFyc2VBcnJheURhdGEodCxlLG4scyl7Y29uc3R7eFNjYWxlOm8seVNjYWxlOnJ9PXQsYT1uZXcgQXJyYXkocyk7bGV0IGwsYyxoLGQ7Zm9yKGw9MCxjPXM7bDxjOysrbCloPWwrbixkPWVbaF0sYVtsXT17eDpvLnBhcnNlKGRbMF0saCkseTpyLnBhcnNlKGRbMV0saCl9O3JldHVybiBhfXBhcnNlT2JqZWN0RGF0YSh0LGUsbixzKXtjb25zdHt4U2NhbGU6byx5U2NhbGU6cn09dCx7eEF4aXNLZXk6YT0ieCIseUF4aXNLZXk6bD0ieSJ9PXRoaXMuX3BhcnNpbmcsYz1uZXcgQXJyYXkocyk7bGV0IGgsZCx1LGY7Zm9yKGg9MCxkPXM7aDxkOysraCl1PWgrbixmPWVbdV0sY1toXT17eDpvLnBhcnNlKE10KGYsYSksdSkseTpyLnBhcnNlKE10KGYsbCksdSl9O3JldHVybiBjfWdldFBhcnNlZCh0KXtyZXR1cm4gdGhpcy5fY2FjaGVkTWV0YS5fcGFyc2VkW3RdfWdldERhdGFFbGVtZW50KHQpe3JldHVybiB0aGlzLl9jYWNoZWRNZXRhLmRhdGFbdF19YXBwbHlTdGFjayh0LGUsbil7Y29uc3Qgcz10aGlzLmNoYXJ0LG89dGhpcy5fY2FjaGVkTWV0YSxyPWVbdC5heGlzXSxhPXtrZXlzOm9zKHMsITApLHZhbHVlczplLl9zdGFja3NbdC5heGlzXS5fdmlzdWFsVmFsdWVzfTtyZXR1cm4gcnMoYSxyLG8uaW5kZXgse21vZGU6bn0pfXVwZGF0ZVJhbmdlRnJvbVBhcnNlZCh0LGUsbixzKXtjb25zdCBvPW5bZS5heGlzXTtsZXQgcj1vPT09bnVsbD9OYU46bztjb25zdCBhPXMmJm4uX3N0YWNrc1tlLmF4aXNdO3MmJmEmJihzLnZhbHVlcz1hLHI9cnMocyxvLHRoaXMuX2NhY2hlZE1ldGEuaW5kZXgpKSx0Lm1pbj1NYXRoLm1pbih0Lm1pbixyKSx0Lm1heD1NYXRoLm1heCh0Lm1heCxyKX1nZXRNaW5NYXgodCxlKXtjb25zdCBuPXRoaXMuX2NhY2hlZE1ldGEscz1uLl9wYXJzZWQsbz1uLl9zb3J0ZWQmJnQ9PT1uLmlTY2FsZSxyPXMubGVuZ3RoLGE9dGhpcy5fZ2V0T3RoZXJTY2FsZSh0KSxsPWlsKGUsbix0aGlzLmNoYXJ0KSxjPXttaW46TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1heDpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFl9LHttaW46aCxtYXg6ZH09WmEoYSk7bGV0IHUsZjtmdW5jdGlvbiBnKCl7Zj1zW3VdO2NvbnN0IHA9ZlthLmF4aXNdO3JldHVybiFVKGZbdC5heGlzXSl8fGg+cHx8ZDxwfWZvcih1PTA7dTxyJiYhKCFnKCkmJih0aGlzLnVwZGF0ZVJhbmdlRnJvbVBhcnNlZChjLHQsZixsKSxvKSk7Kyt1KTtpZihvKXtmb3IodT1yLTE7dT49MDstLXUpaWYoIWcoKSl7dGhpcy51cGRhdGVSYW5nZUZyb21QYXJzZWQoYyx0LGYsbCk7YnJlYWt9fXJldHVybiBjfWdldEFsbFBhcnNlZFZhbHVlcyh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEuX3BhcnNlZCxuPVtdO2xldCBzLG8scjtmb3Iocz0wLG89ZS5sZW5ndGg7czxvOysrcylyPWVbc11bdC5heGlzXSxVKHIpJiZuLnB1c2gocik7cmV0dXJuIG59Z2V0TWF4T3ZlcmZsb3coKXtyZXR1cm4hMX1nZXRMYWJlbEFuZFZhbHVlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSxuPWUuaVNjYWxlLHM9ZS52U2NhbGUsbz10aGlzLmdldFBhcnNlZCh0KTtyZXR1cm57bGFiZWw6bj8iIituLmdldExhYmVsRm9yVmFsdWUob1tuLmF4aXNdKToiIix2YWx1ZTpzPyIiK3MuZ2V0TGFiZWxGb3JWYWx1ZShvW3MuYXhpc10pOiIifX1fdXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YTt0aGlzLnVwZGF0ZSh0fHwiZGVmYXVsdCIpLGUuX2NsaXA9cWEoUCh0aGlzLm9wdGlvbnMuY2xpcCxLYShlLnhTY2FsZSxlLnlTY2FsZSx0aGlzLmdldE1heE92ZXJmbG93KCkpKSl9dXBkYXRlKHQpe31kcmF3KCl7Y29uc3QgdD10aGlzLl9jdHgsZT10aGlzLmNoYXJ0LG49dGhpcy5fY2FjaGVkTWV0YSxzPW4uZGF0YXx8W10sbz1lLmNoYXJ0QXJlYSxyPVtdLGE9dGhpcy5fZHJhd1N0YXJ0fHwwLGw9dGhpcy5fZHJhd0NvdW50fHxzLmxlbmd0aC1hLGM9dGhpcy5vcHRpb25zLmRyYXdBY3RpdmVFbGVtZW50c09uVG9wO2xldCBoO2ZvcihuLmRhdGFzZXQmJm4uZGF0YXNldC5kcmF3KHQsbyxhLGwpLGg9YTtoPGErbDsrK2gpe2NvbnN0IGQ9c1toXTtkLmhpZGRlbnx8KGQuYWN0aXZlJiZjP3IucHVzaChkKTpkLmRyYXcodCxvKSl9Zm9yKGg9MDtoPHIubGVuZ3RoOysraClyW2hdLmRyYXcodCxvKX1nZXRTdHlsZSh0LGUpe2NvbnN0IG49ZT8iYWN0aXZlIjoiZGVmYXVsdCI7cmV0dXJuIHQ9PT12b2lkIDAmJnRoaXMuX2NhY2hlZE1ldGEuZGF0YXNldD90aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnMobik6dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHR8fDAsbil9Z2V0Q29udGV4dCh0LGUsbil7Y29uc3Qgcz10aGlzLmdldERhdGFzZXQoKTtsZXQgbztpZih0Pj0wJiZ0PHRoaXMuX2NhY2hlZE1ldGEuZGF0YS5sZW5ndGgpe2NvbnN0IHI9dGhpcy5fY2FjaGVkTWV0YS5kYXRhW3RdO289ci4kY29udGV4dHx8KHIuJGNvbnRleHQ9ZWwodGhpcy5nZXRDb250ZXh0KCksdCxyKSksby5wYXJzZWQ9dGhpcy5nZXRQYXJzZWQodCksby5yYXc9cy5kYXRhW3RdLG8uaW5kZXg9by5kYXRhSW5kZXg9dH1lbHNlIG89dGhpcy4kY29udGV4dHx8KHRoaXMuJGNvbnRleHQ9dGwodGhpcy5jaGFydC5nZXRDb250ZXh0KCksdGhpcy5pbmRleCkpLG8uZGF0YXNldD1zLG8uaW5kZXg9by5kYXRhc2V0SW5kZXg9dGhpcy5pbmRleDtyZXR1cm4gby5hY3RpdmU9ISFlLG8ubW9kZT1uLG99cmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyh0KXtyZXR1cm4gdGhpcy5fcmVzb2x2ZUVsZW1lbnRPcHRpb25zKHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlLmlkLHQpfXJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnModCxlKXtyZXR1cm4gdGhpcy5fcmVzb2x2ZUVsZW1lbnRPcHRpb25zKHRoaXMuZGF0YUVsZW1lbnRUeXBlLmlkLGUsdCl9X3Jlc29sdmVFbGVtZW50T3B0aW9ucyh0LGU9ImRlZmF1bHQiLG4pe2NvbnN0IHM9ZT09PSJhY3RpdmUiLG89dGhpcy5fY2FjaGVkRGF0YU9wdHMscj10KyItIitlLGE9b1tyXSxsPXRoaXMuZW5hYmxlT3B0aW9uU2hhcmluZyYmSyhuKTtpZihhKXJldHVybiBocyhhLGwpO2NvbnN0IGM9dGhpcy5jaGFydC5jb25maWcsaD1jLmRhdGFzZXRFbGVtZW50U2NvcGVLZXlzKHRoaXMuX3R5cGUsdCksZD1zP1tgJHt0fUhvdmVyYCwiaG92ZXIiLHQsIiJdOlt0LCIiXSx1PWMuZ2V0T3B0aW9uU2NvcGVzKHRoaXMuZ2V0RGF0YXNldCgpLGgpLGY9T2JqZWN0LmtleXMoRS5lbGVtZW50c1t0XSksZz0oKT0+dGhpcy5nZXRDb250ZXh0KG4scyxlKSxwPWMucmVzb2x2ZU5hbWVkT3B0aW9ucyh1LGYsZyxkKTtyZXR1cm4gcC4kc2hhcmVkJiYocC4kc2hhcmVkPWwsb1tyXT1PYmplY3QuZnJlZXplKGhzKHAsbCkpKSxwfV9yZXNvbHZlQW5pbWF0aW9ucyh0LGUsbil7Y29uc3Qgcz10aGlzLmNoYXJ0LG89dGhpcy5fY2FjaGVkRGF0YU9wdHMscj1gYW5pbWF0aW9uLSR7ZX1gLGE9b1tyXTtpZihhKXJldHVybiBhO2xldCBsO2lmKHMub3B0aW9ucy5hbmltYXRpb24hPT0hMSl7Y29uc3QgaD10aGlzLmNoYXJ0LmNvbmZpZyxkPWguZGF0YXNldEFuaW1hdGlvblNjb3BlS2V5cyh0aGlzLl90eXBlLGUpLHU9aC5nZXRPcHRpb25TY29wZXModGhpcy5nZXREYXRhc2V0KCksZCk7bD1oLmNyZWF0ZVJlc29sdmVyKHUsdGhpcy5nZXRDb250ZXh0KHQsbixlKSl9Y29uc3QgYz1uZXcgbnMocyxsJiZsLmFuaW1hdGlvbnMpO3JldHVybiBsJiZsLl9jYWNoZWFibGUmJihvW3JdPU9iamVjdC5mcmVlemUoYykpLGN9Z2V0U2hhcmVkT3B0aW9ucyh0KXtpZih0LiRzaGFyZWQpcmV0dXJuIHRoaXMuX3NoYXJlZE9wdGlvbnN8fCh0aGlzLl9zaGFyZWRPcHRpb25zPU9iamVjdC5hc3NpZ24oe30sdCkpfWluY2x1ZGVPcHRpb25zKHQsZSl7cmV0dXJuIWV8fEVpKHQpfHx0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWR9X2dldFNoYXJlZE9wdGlvbnModCxlKXtjb25zdCBuPXRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyh0LGUpLHM9dGhpcy5fc2hhcmVkT3B0aW9ucyxvPXRoaXMuZ2V0U2hhcmVkT3B0aW9ucyhuKSxyPXRoaXMuaW5jbHVkZU9wdGlvbnMoZSxvKXx8byE9PXM7cmV0dXJuIHRoaXMudXBkYXRlU2hhcmVkT3B0aW9ucyhvLGUsbikse3NoYXJlZE9wdGlvbnM6byxpbmNsdWRlT3B0aW9uczpyfX11cGRhdGVFbGVtZW50KHQsZSxuLHMpe0VpKHMpP09iamVjdC5hc3NpZ24odCxuKTp0aGlzLl9yZXNvbHZlQW5pbWF0aW9ucyhlLHMpLnVwZGF0ZSh0LG4pfXVwZGF0ZVNoYXJlZE9wdGlvbnModCxlLG4pe3QmJiFFaShlKSYmdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnModm9pZCAwLGUpLnVwZGF0ZSh0LG4pfV9zZXRTdHlsZSh0LGUsbixzKXt0LmFjdGl2ZT1zO2NvbnN0IG89dGhpcy5nZXRTdHlsZShlLHMpO3RoaXMuX3Jlc29sdmVBbmltYXRpb25zKGUsbixzKS51cGRhdGUodCx7b3B0aW9uczohcyYmdGhpcy5nZXRTaGFyZWRPcHRpb25zKG8pfHxvfSl9cmVtb3ZlSG92ZXJTdHlsZSh0LGUsbil7dGhpcy5fc2V0U3R5bGUodCxuLCJhY3RpdmUiLCExKX1zZXRIb3ZlclN0eWxlKHQsZSxuKXt0aGlzLl9zZXRTdHlsZSh0LG4sImFjdGl2ZSIsITApfV9yZW1vdmVEYXRhc2V0SG92ZXJTdHlsZSgpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YS5kYXRhc2V0O3QmJnRoaXMuX3NldFN0eWxlKHQsdm9pZCAwLCJhY3RpdmUiLCExKX1fc2V0RGF0YXNldEhvdmVyU3R5bGUoKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGEuZGF0YXNldDt0JiZ0aGlzLl9zZXRTdHlsZSh0LHZvaWQgMCwiYWN0aXZlIiwhMCl9X3Jlc3luY0VsZW1lbnRzKHQpe2NvbnN0IGU9dGhpcy5fZGF0YSxuPXRoaXMuX2NhY2hlZE1ldGEuZGF0YTtmb3IoY29uc3RbYSxsLGNdb2YgdGhpcy5fc3luY0xpc3QpdGhpc1thXShsLGMpO3RoaXMuX3N5bmNMaXN0PVtdO2NvbnN0IHM9bi5sZW5ndGgsbz1lLmxlbmd0aCxyPU1hdGgubWluKG8scyk7ciYmdGhpcy5wYXJzZSgwLHIpLG8+cz90aGlzLl9pbnNlcnRFbGVtZW50cyhzLG8tcyx0KTpvPHMmJnRoaXMuX3JlbW92ZUVsZW1lbnRzKG8scy1vKX1faW5zZXJ0RWxlbWVudHModCxlLG49ITApe2NvbnN0IHM9dGhpcy5fY2FjaGVkTWV0YSxvPXMuZGF0YSxyPXQrZTtsZXQgYTtjb25zdCBsPWM9Pntmb3IoYy5sZW5ndGgrPWUsYT1jLmxlbmd0aC0xO2E+PXI7YS0tKWNbYV09Y1thLWVdfTtmb3IobChvKSxhPXQ7YTxyOysrYSlvW2FdPW5ldyB0aGlzLmRhdGFFbGVtZW50VHlwZTt0aGlzLl9wYXJzaW5nJiZsKHMuX3BhcnNlZCksdGhpcy5wYXJzZSh0LGUpLG4mJnRoaXMudXBkYXRlRWxlbWVudHMobyx0LGUsInJlc2V0Iil9dXBkYXRlRWxlbWVudHModCxlLG4scyl7fV9yZW1vdmVFbGVtZW50cyh0LGUpe2NvbnN0IG49dGhpcy5fY2FjaGVkTWV0YTtpZih0aGlzLl9wYXJzaW5nKXtjb25zdCBzPW4uX3BhcnNlZC5zcGxpY2UodCxlKTtuLl9zdGFja2VkJiZvZShuLHMpfW4uZGF0YS5zcGxpY2UodCxlKX1fc3luYyh0KXtpZih0aGlzLl9wYXJzaW5nKXRoaXMuX3N5bmNMaXN0LnB1c2godCk7ZWxzZXtjb25zdFtlLG4sc109dDt0aGlzW2VdKG4scyl9dGhpcy5jaGFydC5fZGF0YUNoYW5nZXMucHVzaChbdGhpcy5pbmRleCwuLi50XSl9X29uRGF0YVB1c2goKXtjb25zdCB0PWFyZ3VtZW50cy5sZW5ndGg7dGhpcy5fc3luYyhbIl9pbnNlcnRFbGVtZW50cyIsdGhpcy5nZXREYXRhc2V0KCkuZGF0YS5sZW5ndGgtdCx0XSl9X29uRGF0YVBvcCgpe3RoaXMuX3N5bmMoWyJfcmVtb3ZlRWxlbWVudHMiLHRoaXMuX2NhY2hlZE1ldGEuZGF0YS5sZW5ndGgtMSwxXSl9X29uRGF0YVNoaWZ0KCl7dGhpcy5fc3luYyhbIl9yZW1vdmVFbGVtZW50cyIsMCwxXSl9X29uRGF0YVNwbGljZSh0LGUpe2UmJnRoaXMuX3N5bmMoWyJfcmVtb3ZlRWxlbWVudHMiLHQsZV0pO2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aC0yO24mJnRoaXMuX3N5bmMoWyJfaW5zZXJ0RWxlbWVudHMiLHQsbl0pfV9vbkRhdGFVbnNoaWZ0KCl7dGhpcy5fc3luYyhbIl9pbnNlcnRFbGVtZW50cyIsMCxhcmd1bWVudHMubGVuZ3RoXSl9fVMoQXQsImRlZmF1bHRzIix7fSksUyhBdCwiZGF0YXNldEVsZW1lbnRUeXBlIixudWxsKSxTKEF0LCJkYXRhRWxlbWVudFR5cGUiLG51bGwpO2Z1bmN0aW9uIG5sKGksdCl7aWYoIWkuX2NhY2hlLiRiYXIpe2NvbnN0IGU9aS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0KTtsZXQgbj1bXTtmb3IobGV0IHM9MCxvPWUubGVuZ3RoO3M8bztzKyspbj1uLmNvbmNhdChlW3NdLmNvbnRyb2xsZXIuZ2V0QWxsUGFyc2VkVmFsdWVzKGkpKTtpLl9jYWNoZS4kYmFyPUNuKG4uc29ydCgocyxvKT0+cy1vKSl9cmV0dXJuIGkuX2NhY2hlLiRiYXJ9ZnVuY3Rpb24gc2woaSl7Y29uc3QgdD1pLmlTY2FsZSxlPW5sKHQsaS50eXBlKTtsZXQgbj10Ll9sZW5ndGgscyxvLHIsYTtjb25zdCBsPSgpPT57cj09PTMyNzY3fHxyPT09LTMyNzY4fHwoSyhhKSYmKG49TWF0aC5taW4obixNYXRoLmFicyhyLWEpfHxuKSksYT1yKX07Zm9yKHM9MCxvPWUubGVuZ3RoO3M8bzsrK3Mpcj10LmdldFBpeGVsRm9yVmFsdWUoZVtzXSksbCgpO2ZvcihhPXZvaWQgMCxzPTAsbz10LnRpY2tzLmxlbmd0aDtzPG87KytzKXI9dC5nZXRQaXhlbEZvclRpY2socyksbCgpO3JldHVybiBufWZ1bmN0aW9uIG9sKGksdCxlLG4pe2NvbnN0IHM9ZS5iYXJUaGlja25lc3M7bGV0IG8scjtyZXR1cm4gSShzKT8obz10Lm1pbiplLmNhdGVnb3J5UGVyY2VudGFnZSxyPWUuYmFyUGVyY2VudGFnZSk6KG89cypuLHI9MSkse2NodW5rOm8vbixyYXRpbzpyLHN0YXJ0OnQucGl4ZWxzW2ldLW8vMn19ZnVuY3Rpb24gcmwoaSx0LGUsbil7Y29uc3Qgcz10LnBpeGVscyxvPXNbaV07bGV0IHI9aT4wP3NbaS0xXTpudWxsLGE9aTxzLmxlbmd0aC0xP3NbaSsxXTpudWxsO2NvbnN0IGw9ZS5jYXRlZ29yeVBlcmNlbnRhZ2U7cj09PW51bGwmJihyPW8tKGE9PT1udWxsP3QuZW5kLXQuc3RhcnQ6YS1vKSksYT09PW51bGwmJihhPW8rby1yKTtjb25zdCBjPW8tKG8tTWF0aC5taW4ocixhKSkvMipsO3JldHVybntjaHVuazpNYXRoLmFicyhhLXIpLzIqbC9uLHJhdGlvOmUuYmFyUGVyY2VudGFnZSxzdGFydDpjfX1mdW5jdGlvbiBhbChpLHQsZSxuKXtjb25zdCBzPWUucGFyc2UoaVswXSxuKSxvPWUucGFyc2UoaVsxXSxuKSxyPU1hdGgubWluKHMsbyksYT1NYXRoLm1heChzLG8pO2xldCBsPXIsYz1hO01hdGguYWJzKHIpPk1hdGguYWJzKGEpJiYobD1hLGM9ciksdFtlLmF4aXNdPWMsdC5fY3VzdG9tPXtiYXJTdGFydDpsLGJhckVuZDpjLHN0YXJ0OnMsZW5kOm8sbWluOnIsbWF4OmF9fWZ1bmN0aW9uIGRzKGksdCxlLG4pe3JldHVybiB6KGkpP2FsKGksdCxlLG4pOnRbZS5heGlzXT1lLnBhcnNlKGksbiksdH1mdW5jdGlvbiB1cyhpLHQsZSxuKXtjb25zdCBzPWkuaVNjYWxlLG89aS52U2NhbGUscj1zLmdldExhYmVscygpLGE9cz09PW8sbD1bXTtsZXQgYyxoLGQsdTtmb3IoYz1lLGg9ZStuO2M8aDsrK2MpdT10W2NdLGQ9e30sZFtzLmF4aXNdPWF8fHMucGFyc2UocltjXSxjKSxsLnB1c2goZHModSxkLG8sYykpO3JldHVybiBsfWZ1bmN0aW9uIEZpKGkpe3JldHVybiBpJiZpLmJhclN0YXJ0IT09dm9pZCAwJiZpLmJhckVuZCE9PXZvaWQgMH1mdW5jdGlvbiBsbChpLHQsZSl7cmV0dXJuIGkhPT0wP2h0KGkpOih0LmlzSG9yaXpvbnRhbCgpPzE6LTEpKih0Lm1pbj49ZT8xOi0xKX1mdW5jdGlvbiBjbChpKXtsZXQgdCxlLG4scyxvO3JldHVybiBpLmhvcml6b250YWw/KHQ9aS5iYXNlPmkueCxlPSJsZWZ0IixuPSJyaWdodCIpOih0PWkuYmFzZTxpLnksZT0iYm90dG9tIixuPSJ0b3AiKSx0PyhzPSJlbmQiLG89InN0YXJ0Iik6KHM9InN0YXJ0IixvPSJlbmQiKSx7c3RhcnQ6ZSxlbmQ6bixyZXZlcnNlOnQsdG9wOnMsYm90dG9tOm99fWZ1bmN0aW9uIGhsKGksdCxlLG4pe2xldCBzPXQuYm9yZGVyU2tpcHBlZDtjb25zdCBvPXt9O2lmKCFzKXtpLmJvcmRlclNraXBwZWQ9bztyZXR1cm59aWYocz09PSEwKXtpLmJvcmRlclNraXBwZWQ9e3RvcDohMCxyaWdodDohMCxib3R0b206ITAsbGVmdDohMH07cmV0dXJufWNvbnN0e3N0YXJ0OnIsZW5kOmEscmV2ZXJzZTpsLHRvcDpjLGJvdHRvbTpofT1jbChpKTtzPT09Im1pZGRsZSImJmUmJihpLmVuYWJsZUJvcmRlclJhZGl1cz0hMCwoZS5fdG9wfHwwKT09PW4/cz1jOihlLl9ib3R0b218fDApPT09bj9zPWg6KG9bZnMoaCxyLGEsbCldPSEwLHM9YykpLG9bZnMocyxyLGEsbCldPSEwLGkuYm9yZGVyU2tpcHBlZD1vfWZ1bmN0aW9uIGZzKGksdCxlLG4pe3JldHVybiBuPyhpPWRsKGksdCxlKSxpPWdzKGksZSx0KSk6aT1ncyhpLHQsZSksaX1mdW5jdGlvbiBkbChpLHQsZSl7cmV0dXJuIGk9PT10P2U6aT09PWU/dDppfWZ1bmN0aW9uIGdzKGksdCxlKXtyZXR1cm4gaT09PSJzdGFydCI/dDppPT09ImVuZCI/ZTppfWZ1bmN0aW9uIHVsKGkse2luZmxhdGVBbW91bnQ6dH0sZSl7aS5pbmZsYXRlQW1vdW50PXQ9PT0iYXV0byI/ZT09PTE/LjMzOjA6dH1jbGFzcyBXZSBleHRlbmRzIEF0e3BhcnNlUHJpbWl0aXZlRGF0YSh0LGUsbixzKXtyZXR1cm4gdXModCxlLG4scyl9cGFyc2VBcnJheURhdGEodCxlLG4scyl7cmV0dXJuIHVzKHQsZSxuLHMpfXBhcnNlT2JqZWN0RGF0YSh0LGUsbixzKXtjb25zdHtpU2NhbGU6byx2U2NhbGU6cn09dCx7eEF4aXNLZXk6YT0ieCIseUF4aXNLZXk6bD0ieSJ9PXRoaXMuX3BhcnNpbmcsYz1vLmF4aXM9PT0ieCI/YTpsLGg9ci5heGlzPT09IngiP2E6bCxkPVtdO2xldCB1LGYsZyxwO2Zvcih1PW4sZj1uK3M7dTxmOysrdSlwPWVbdV0sZz17fSxnW28uYXhpc109by5wYXJzZShNdChwLGMpLHUpLGQucHVzaChkcyhNdChwLGgpLGcscix1KSk7cmV0dXJuIGR9dXBkYXRlUmFuZ2VGcm9tUGFyc2VkKHQsZSxuLHMpe3N1cGVyLnVwZGF0ZVJhbmdlRnJvbVBhcnNlZCh0LGUsbixzKTtjb25zdCBvPW4uX2N1c3RvbTtvJiZlPT09dGhpcy5fY2FjaGVkTWV0YS52U2NhbGUmJih0Lm1pbj1NYXRoLm1pbih0Lm1pbixvLm1pbiksdC5tYXg9TWF0aC5tYXgodC5tYXgsby5tYXgpKX1nZXRNYXhPdmVyZmxvdygpe3JldHVybiAwfWdldExhYmVsQW5kVmFsdWUodCl7Y29uc3QgZT10aGlzLl9jYWNoZWRNZXRhLHtpU2NhbGU6bix2U2NhbGU6c309ZSxvPXRoaXMuZ2V0UGFyc2VkKHQpLHI9by5fY3VzdG9tLGE9Rmkocik/IlsiK3Iuc3RhcnQrIiwgIityLmVuZCsiXSI6IiIrcy5nZXRMYWJlbEZvclZhbHVlKG9bcy5heGlzXSk7cmV0dXJue2xhYmVsOiIiK24uZ2V0TGFiZWxGb3JWYWx1ZShvW24uYXhpc10pLHZhbHVlOmF9fWluaXRpYWxpemUoKXt0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmc9ITAsc3VwZXIuaW5pdGlhbGl6ZSgpO2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YTt0LnN0YWNrPXRoaXMuZ2V0RGF0YXNldCgpLnN0YWNrfXVwZGF0ZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGE7dGhpcy51cGRhdGVFbGVtZW50cyhlLmRhdGEsMCxlLmRhdGEubGVuZ3RoLHQpfXVwZGF0ZUVsZW1lbnRzKHQsZSxuLHMpe2NvbnN0IG89cz09PSJyZXNldCIse2luZGV4OnIsX2NhY2hlZE1ldGE6e3ZTY2FsZTphfX09dGhpcyxsPWEuZ2V0QmFzZVBpeGVsKCksYz1hLmlzSG9yaXpvbnRhbCgpLGg9dGhpcy5fZ2V0UnVsZXIoKSx7c2hhcmVkT3B0aW9uczpkLGluY2x1ZGVPcHRpb25zOnV9PXRoaXMuX2dldFNoYXJlZE9wdGlvbnMoZSxzKTtmb3IobGV0IGY9ZTtmPGUrbjtmKyspe2NvbnN0IGc9dGhpcy5nZXRQYXJzZWQoZikscD1vfHxJKGdbYS5heGlzXSk/e2Jhc2U6bCxoZWFkOmx9OnRoaXMuX2NhbGN1bGF0ZUJhclZhbHVlUGl4ZWxzKGYpLG09dGhpcy5fY2FsY3VsYXRlQmFySW5kZXhQaXhlbHMoZixoKSxiPShnLl9zdGFja3N8fHt9KVthLmF4aXNdLHg9e2hvcml6b250YWw6YyxiYXNlOnAuYmFzZSxlbmFibGVCb3JkZXJSYWRpdXM6IWJ8fEZpKGcuX2N1c3RvbSl8fHI9PT1iLl90b3B8fHI9PT1iLl9ib3R0b20seDpjP3AuaGVhZDptLmNlbnRlcix5OmM/bS5jZW50ZXI6cC5oZWFkLGhlaWdodDpjP20uc2l6ZTpNYXRoLmFicyhwLnNpemUpLHdpZHRoOmM/TWF0aC5hYnMocC5zaXplKTptLnNpemV9O3UmJih4Lm9wdGlvbnM9ZHx8dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGYsdFtmXS5hY3RpdmU/ImFjdGl2ZSI6cykpO2NvbnN0IHk9eC5vcHRpb25zfHx0W2ZdLm9wdGlvbnM7aGwoeCx5LGIsciksdWwoeCx5LGgucmF0aW8pLHRoaXMudXBkYXRlRWxlbWVudCh0W2ZdLGYseCxzKX19X2dldFN0YWNrcyh0LGUpe2NvbnN0e2lTY2FsZTpufT10aGlzLl9jYWNoZWRNZXRhLHM9bi5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0aGlzLl90eXBlKS5maWx0ZXIobD0+bC5jb250cm9sbGVyLm9wdGlvbnMuZ3JvdXBlZCksbz1uLm9wdGlvbnMuc3RhY2tlZCxyPVtdLGE9bD0+e2NvbnN0IGM9bC5jb250cm9sbGVyLmdldFBhcnNlZChlKSxoPWMmJmNbbC52U2NhbGUuYXhpc107aWYoSShoKXx8aXNOYU4oaCkpcmV0dXJuITB9O2Zvcihjb25zdCBsIG9mIHMpaWYoIShlIT09dm9pZCAwJiZhKGwpKSYmKChvPT09ITF8fHIuaW5kZXhPZihsLnN0YWNrKT09PS0xfHxvPT09dm9pZCAwJiZsLnN0YWNrPT09dm9pZCAwKSYmci5wdXNoKGwuc3RhY2spLGwuaW5kZXg9PT10KSlicmVhaztyZXR1cm4gci5sZW5ndGh8fHIucHVzaCh2b2lkIDApLHJ9X2dldFN0YWNrQ291bnQodCl7cmV0dXJuIHRoaXMuX2dldFN0YWNrcyh2b2lkIDAsdCkubGVuZ3RofV9nZXRTdGFja0luZGV4KHQsZSxuKXtjb25zdCBzPXRoaXMuX2dldFN0YWNrcyh0LG4pLG89ZSE9PXZvaWQgMD9zLmluZGV4T2YoZSk6LTE7cmV0dXJuIG89PT0tMT9zLmxlbmd0aC0xOm99X2dldFJ1bGVyKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMsZT10aGlzLl9jYWNoZWRNZXRhLG49ZS5pU2NhbGUscz1bXTtsZXQgbyxyO2ZvcihvPTAscj1lLmRhdGEubGVuZ3RoO288cjsrK28pcy5wdXNoKG4uZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldFBhcnNlZChvKVtuLmF4aXNdLG8pKTtjb25zdCBhPXQuYmFyVGhpY2tuZXNzO3JldHVybnttaW46YXx8c2woZSkscGl4ZWxzOnMsc3RhcnQ6bi5fc3RhcnRQaXhlbCxlbmQ6bi5fZW5kUGl4ZWwsc3RhY2tDb3VudDp0aGlzLl9nZXRTdGFja0NvdW50KCksc2NhbGU6bixncm91cGVkOnQuZ3JvdXBlZCxyYXRpbzphPzE6dC5jYXRlZ29yeVBlcmNlbnRhZ2UqdC5iYXJQZXJjZW50YWdlfX1fY2FsY3VsYXRlQmFyVmFsdWVQaXhlbHModCl7Y29uc3R7X2NhY2hlZE1ldGE6e3ZTY2FsZTplLF9zdGFja2VkOm4saW5kZXg6c30sb3B0aW9uczp7YmFzZTpvLG1pbkJhckxlbmd0aDpyfX09dGhpcyxhPW98fDAsbD10aGlzLmdldFBhcnNlZCh0KSxjPWwuX2N1c3RvbSxoPUZpKGMpO2xldCBkPWxbZS5heGlzXSx1PTAsZj1uP3RoaXMuYXBwbHlTdGFjayhlLGwsbik6ZCxnLHA7ZiE9PWQmJih1PWYtZCxmPWQpLGgmJihkPWMuYmFyU3RhcnQsZj1jLmJhckVuZC1jLmJhclN0YXJ0LGQhPT0wJiZodChkKSE9PWh0KGMuYmFyRW5kKSYmKHU9MCksdSs9ZCk7Y29uc3QgbT0hSShvKSYmIWg/bzp1O2xldCBiPWUuZ2V0UGl4ZWxGb3JWYWx1ZShtKTtpZih0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KHQpP2c9ZS5nZXRQaXhlbEZvclZhbHVlKHUrZik6Zz1iLHA9Zy1iLE1hdGguYWJzKHApPHIpe3A9bGwocCxlLGEpKnIsZD09PWEmJihiLT1wLzIpO2NvbnN0IHg9ZS5nZXRQaXhlbEZvckRlY2ltYWwoMCkseT1lLmdldFBpeGVsRm9yRGVjaW1hbCgxKSxNPU1hdGgubWluKHgseSksXz1NYXRoLm1heCh4LHkpO2I9TWF0aC5tYXgoTWF0aC5taW4oYixfKSxNKSxnPWIrcCxuJiYhaCYmKGwuX3N0YWNrc1tlLmF4aXNdLl92aXN1YWxWYWx1ZXNbc109ZS5nZXRWYWx1ZUZvclBpeGVsKGcpLWUuZ2V0VmFsdWVGb3JQaXhlbChiKSl9aWYoYj09PWUuZ2V0UGl4ZWxGb3JWYWx1ZShhKSl7Y29uc3QgeD1odChwKSplLmdldExpbmVXaWR0aEZvclZhbHVlKGEpLzI7Yis9eCxwLT14fXJldHVybntzaXplOnAsYmFzZTpiLGhlYWQ6ZyxjZW50ZXI6ZytwLzJ9fV9jYWxjdWxhdGVCYXJJbmRleFBpeGVscyh0LGUpe2NvbnN0IG49ZS5zY2FsZSxzPXRoaXMub3B0aW9ucyxvPXMuc2tpcE51bGwscj1QKHMubWF4QmFyVGhpY2tuZXNzLDEvMCk7bGV0IGEsbDtpZihlLmdyb3VwZWQpe2NvbnN0IGM9bz90aGlzLl9nZXRTdGFja0NvdW50KHQpOmUuc3RhY2tDb3VudCxoPXMuYmFyVGhpY2tuZXNzPT09ImZsZXgiP3JsKHQsZSxzLGMpOm9sKHQsZSxzLGMpLGQ9dGhpcy5fZ2V0U3RhY2tJbmRleCh0aGlzLmluZGV4LHRoaXMuX2NhY2hlZE1ldGEuc3RhY2ssbz90OnZvaWQgMCk7YT1oLnN0YXJ0K2guY2h1bmsqZCtoLmNodW5rLzIsbD1NYXRoLm1pbihyLGguY2h1bmsqaC5yYXRpbyl9ZWxzZSBhPW4uZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldFBhcnNlZCh0KVtuLmF4aXNdLHQpLGw9TWF0aC5taW4ocixlLm1pbiplLnJhdGlvKTtyZXR1cm57YmFzZTphLWwvMixoZWFkOmErbC8yLGNlbnRlcjphLHNpemU6bH19ZHJhdygpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YSxlPXQudlNjYWxlLG49dC5kYXRhLHM9bi5sZW5ndGg7bGV0IG89MDtmb3IoO288czsrK28pdGhpcy5nZXRQYXJzZWQobylbZS5heGlzXSE9PW51bGwmJiFuW29dLmhpZGRlbiYmbltvXS5kcmF3KHRoaXMuX2N0eCl9fVMoV2UsImlkIiwiYmFyIiksUyhXZSwiZGVmYXVsdHMiLHtkYXRhc2V0RWxlbWVudFR5cGU6ITEsZGF0YUVsZW1lbnRUeXBlOiJiYXIiLGNhdGVnb3J5UGVyY2VudGFnZTouOCxiYXJQZXJjZW50YWdlOi45LGdyb3VwZWQ6ITAsYW5pbWF0aW9uczp7bnVtYmVyczp7dHlwZToibnVtYmVyIixwcm9wZXJ0aWVzOlsieCIsInkiLCJiYXNlIiwid2lkdGgiLCJoZWlnaHQiXX19fSksUyhXZSwib3ZlcnJpZGVzIix7c2NhbGVzOntfaW5kZXhfOnt0eXBlOiJjYXRlZ29yeSIsb2Zmc2V0OiEwLGdyaWQ6e29mZnNldDohMH19LF92YWx1ZV86e3R5cGU6ImxpbmVhciIsYmVnaW5BdFplcm86ITB9fX0pO2Z1bmN0aW9uIGZsKGksdCxlKXtsZXQgbj0xLHM9MSxvPTAscj0wO2lmKHQ8Qil7Y29uc3QgYT1pLGw9YSt0LGM9TWF0aC5jb3MoYSksaD1NYXRoLnNpbihhKSxkPU1hdGguY29zKGwpLHU9TWF0aC5zaW4obCksZj0oeSxNLF8pPT5DZSh5LGEsbCwhMCk/MTpNYXRoLm1heChNLE0qZSxfLF8qZSksZz0oeSxNLF8pPT5DZSh5LGEsbCwhMCk/LTE6TWF0aC5taW4oTSxNKmUsXyxfKmUpLHA9ZigwLGMsZCksbT1mKEgsaCx1KSxiPWcoVCxjLGQpLHg9ZyhUK0gsaCx1KTtuPShwLWIpLzIscz0obS14KS8yLG89LShwK2IpLzIscj0tKG0reCkvMn1yZXR1cm57cmF0aW9YOm4scmF0aW9ZOnMsb2Zmc2V0WDpvLG9mZnNldFk6cn19Y2xhc3MgcmUgZXh0ZW5kcyBBdHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5lbmFibGVPcHRpb25TaGFyaW5nPSEwLHRoaXMuaW5uZXJSYWRpdXM9dm9pZCAwLHRoaXMub3V0ZXJSYWRpdXM9dm9pZCAwLHRoaXMub2Zmc2V0WD12b2lkIDAsdGhpcy5vZmZzZXRZPXZvaWQgMH1saW5rU2NhbGVzKCl7fXBhcnNlKHQsZSl7Y29uc3Qgbj10aGlzLmdldERhdGFzZXQoKS5kYXRhLHM9dGhpcy5fY2FjaGVkTWV0YTtpZih0aGlzLl9wYXJzaW5nPT09ITEpcy5fcGFyc2VkPW47ZWxzZXtsZXQgbz1sPT4rbltsXTtpZihPKG5bdF0pKXtjb25zdHtrZXk6bD0idmFsdWUifT10aGlzLl9wYXJzaW5nO289Yz0+K010KG5bY10sbCl9bGV0IHIsYTtmb3Iocj10LGE9dCtlO3I8YTsrK3Ipcy5fcGFyc2VkW3JdPW8ocil9fV9nZXRSb3RhdGlvbigpe3JldHVybiBXKHRoaXMub3B0aW9ucy5yb3RhdGlvbi05MCl9X2dldENpcmN1bWZlcmVuY2UoKXtyZXR1cm4gVyh0aGlzLm9wdGlvbnMuY2lyY3VtZmVyZW5jZSl9X2dldFJvdGF0aW9uRXh0ZW50cygpe2xldCB0PUIsZT0tQjtmb3IobGV0IG49MDtuPHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cy5sZW5ndGg7KytuKWlmKHRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShuKSYmdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShuKS50eXBlPT09dGhpcy5fdHlwZSl7Y29uc3Qgcz10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKG4pLmNvbnRyb2xsZXIsbz1zLl9nZXRSb3RhdGlvbigpLHI9cy5fZ2V0Q2lyY3VtZmVyZW5jZSgpO3Q9TWF0aC5taW4odCxvKSxlPU1hdGgubWF4KGUsbytyKX1yZXR1cm57cm90YXRpb246dCxjaXJjdW1mZXJlbmNlOmUtdH19dXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5jaGFydCx7Y2hhcnRBcmVhOm59PWUscz10aGlzLl9jYWNoZWRNZXRhLG89cy5kYXRhLHI9dGhpcy5nZXRNYXhCb3JkZXJXaWR0aCgpK3RoaXMuZ2V0TWF4T2Zmc2V0KG8pK3RoaXMub3B0aW9ucy5zcGFjaW5nLGE9TWF0aC5tYXgoKE1hdGgubWluKG4ud2lkdGgsbi5oZWlnaHQpLXIpLzIsMCksbD1NYXRoLm1pbih3cih0aGlzLm9wdGlvbnMuY3V0b3V0LGEpLDEpLGM9dGhpcy5fZ2V0UmluZ1dlaWdodCh0aGlzLmluZGV4KSx7Y2lyY3VtZmVyZW5jZTpoLHJvdGF0aW9uOmR9PXRoaXMuX2dldFJvdGF0aW9uRXh0ZW50cygpLHtyYXRpb1g6dSxyYXRpb1k6ZixvZmZzZXRYOmcsb2Zmc2V0WTpwfT1mbChkLGgsbCksbT0obi53aWR0aC1yKS91LGI9KG4uaGVpZ2h0LXIpL2YseD1NYXRoLm1heChNYXRoLm1pbihtLGIpLzIsMCkseT1fbih0aGlzLm9wdGlvbnMucmFkaXVzLHgpLE09TWF0aC5tYXgoeSpsLDApLF89KHktTSkvdGhpcy5fZ2V0VmlzaWJsZURhdGFzZXRXZWlnaHRUb3RhbCgpO3RoaXMub2Zmc2V0WD1nKnksdGhpcy5vZmZzZXRZPXAqeSxzLnRvdGFsPXRoaXMuY2FsY3VsYXRlVG90YWwoKSx0aGlzLm91dGVyUmFkaXVzPXktXyp0aGlzLl9nZXRSaW5nV2VpZ2h0T2Zmc2V0KHRoaXMuaW5kZXgpLHRoaXMuaW5uZXJSYWRpdXM9TWF0aC5tYXgodGhpcy5vdXRlclJhZGl1cy1fKmMsMCksdGhpcy51cGRhdGVFbGVtZW50cyhvLDAsby5sZW5ndGgsdCl9X2NpcmN1bWZlcmVuY2UodCxlKXtjb25zdCBuPXRoaXMub3B0aW9ucyxzPXRoaXMuX2NhY2hlZE1ldGEsbz10aGlzLl9nZXRDaXJjdW1mZXJlbmNlKCk7cmV0dXJuIGUmJm4uYW5pbWF0aW9uLmFuaW1hdGVSb3RhdGV8fCF0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KHQpfHxzLl9wYXJzZWRbdF09PT1udWxsfHxzLmRhdGFbdF0uaGlkZGVuPzA6dGhpcy5jYWxjdWxhdGVDaXJjdW1mZXJlbmNlKHMuX3BhcnNlZFt0XSpvL0IpfXVwZGF0ZUVsZW1lbnRzKHQsZSxuLHMpe2NvbnN0IG89cz09PSJyZXNldCIscj10aGlzLmNoYXJ0LGE9ci5jaGFydEFyZWEsYz1yLm9wdGlvbnMuYW5pbWF0aW9uLGg9KGEubGVmdCthLnJpZ2h0KS8yLGQ9KGEudG9wK2EuYm90dG9tKS8yLHU9byYmYy5hbmltYXRlU2NhbGUsZj11PzA6dGhpcy5pbm5lclJhZGl1cyxnPXU/MDp0aGlzLm91dGVyUmFkaXVzLHtzaGFyZWRPcHRpb25zOnAsaW5jbHVkZU9wdGlvbnM6bX09dGhpcy5fZ2V0U2hhcmVkT3B0aW9ucyhlLHMpO2xldCBiPXRoaXMuX2dldFJvdGF0aW9uKCkseDtmb3IoeD0wO3g8ZTsrK3gpYis9dGhpcy5fY2lyY3VtZmVyZW5jZSh4LG8pO2Zvcih4PWU7eDxlK247Kyt4KXtjb25zdCB5PXRoaXMuX2NpcmN1bWZlcmVuY2UoeCxvKSxNPXRbeF0sXz17eDpoK3RoaXMub2Zmc2V0WCx5OmQrdGhpcy5vZmZzZXRZLHN0YXJ0QW5nbGU6YixlbmRBbmdsZTpiK3ksY2lyY3VtZmVyZW5jZTp5LG91dGVyUmFkaXVzOmcsaW5uZXJSYWRpdXM6Zn07bSYmKF8ub3B0aW9ucz1wfHx0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoeCxNLmFjdGl2ZT8iYWN0aXZlIjpzKSksYis9eSx0aGlzLnVwZGF0ZUVsZW1lbnQoTSx4LF8scyl9fWNhbGN1bGF0ZVRvdGFsKCl7Y29uc3QgdD10aGlzLl9jYWNoZWRNZXRhLGU9dC5kYXRhO2xldCBuPTAscztmb3Iocz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCBvPXQuX3BhcnNlZFtzXTtvIT09bnVsbCYmIWlzTmFOKG8pJiZ0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KHMpJiYhZVtzXS5oaWRkZW4mJihuKz1NYXRoLmFicyhvKSl9cmV0dXJuIG59Y2FsY3VsYXRlQ2lyY3VtZmVyZW5jZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEudG90YWw7cmV0dXJuIGU+MCYmIWlzTmFOKHQpP0IqKE1hdGguYWJzKHQpL2UpOjB9Z2V0TGFiZWxBbmRWYWx1ZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEsbj10aGlzLmNoYXJ0LHM9bi5kYXRhLmxhYmVsc3x8W10sbz12aShlLl9wYXJzZWRbdF0sbi5vcHRpb25zLmxvY2FsZSk7cmV0dXJue2xhYmVsOnNbdF18fCIiLHZhbHVlOm99fWdldE1heEJvcmRlcldpZHRoKHQpe2xldCBlPTA7Y29uc3Qgbj10aGlzLmNoYXJ0O2xldCBzLG8scixhLGw7aWYoIXQpe2ZvcihzPTAsbz1uLmRhdGEuZGF0YXNldHMubGVuZ3RoO3M8bzsrK3MpaWYobi5pc0RhdGFzZXRWaXNpYmxlKHMpKXtyPW4uZ2V0RGF0YXNldE1ldGEocyksdD1yLmRhdGEsYT1yLmNvbnRyb2xsZXI7YnJlYWt9fWlmKCF0KXJldHVybiAwO2ZvcihzPTAsbz10Lmxlbmd0aDtzPG87KytzKWw9YS5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHMpLGwuYm9yZGVyQWxpZ24hPT0iaW5uZXIiJiYoZT1NYXRoLm1heChlLGwuYm9yZGVyV2lkdGh8fDAsbC5ob3ZlckJvcmRlcldpZHRofHwwKSk7cmV0dXJuIGV9Z2V0TWF4T2Zmc2V0KHQpe2xldCBlPTA7Zm9yKGxldCBuPTAscz10Lmxlbmd0aDtuPHM7KytuKXtjb25zdCBvPXRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhuKTtlPU1hdGgubWF4KGUsby5vZmZzZXR8fDAsby5ob3Zlck9mZnNldHx8MCl9cmV0dXJuIGV9X2dldFJpbmdXZWlnaHRPZmZzZXQodCl7bGV0IGU9MDtmb3IobGV0IG49MDtuPHQ7KytuKXRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShuKSYmKGUrPXRoaXMuX2dldFJpbmdXZWlnaHQobikpO3JldHVybiBlfV9nZXRSaW5nV2VpZ2h0KHQpe3JldHVybiBNYXRoLm1heChQKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0XS53ZWlnaHQsMSksMCl9X2dldFZpc2libGVEYXRhc2V0V2VpZ2h0VG90YWwoKXtyZXR1cm4gdGhpcy5fZ2V0UmluZ1dlaWdodE9mZnNldCh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMubGVuZ3RoKXx8MX19UyhyZSwiaWQiLCJkb3VnaG51dCIpLFMocmUsImRlZmF1bHRzIix7ZGF0YXNldEVsZW1lbnRUeXBlOiExLGRhdGFFbGVtZW50VHlwZToiYXJjIixhbmltYXRpb246e2FuaW1hdGVSb3RhdGU6ITAsYW5pbWF0ZVNjYWxlOiExfSxhbmltYXRpb25zOntudW1iZXJzOnt0eXBlOiJudW1iZXIiLHByb3BlcnRpZXM6WyJjaXJjdW1mZXJlbmNlIiwiZW5kQW5nbGUiLCJpbm5lclJhZGl1cyIsIm91dGVyUmFkaXVzIiwic3RhcnRBbmdsZSIsIngiLCJ5Iiwib2Zmc2V0IiwiYm9yZGVyV2lkdGgiLCJzcGFjaW5nIl19fSxjdXRvdXQ6IjUwJSIscm90YXRpb246MCxjaXJjdW1mZXJlbmNlOjM2MCxyYWRpdXM6IjEwMCUiLHNwYWNpbmc6MCxpbmRleEF4aXM6InIifSksUyhyZSwiZGVzY3JpcHRvcnMiLHtfc2NyaXB0YWJsZTp0PT50IT09InNwYWNpbmciLF9pbmRleGFibGU6dD0+dCE9PSJzcGFjaW5nIiYmIXQuc3RhcnRzV2l0aCgiYm9yZGVyRGFzaCIpJiYhdC5zdGFydHNXaXRoKCJob3ZlckJvcmRlckRhc2giKX0pLFMocmUsIm92ZXJyaWRlcyIse2FzcGVjdFJhdGlvOjEscGx1Z2luczp7bGVnZW5kOntsYWJlbHM6e2dlbmVyYXRlTGFiZWxzKHQpe2NvbnN0IGU9dC5kYXRhO2lmKGUubGFiZWxzLmxlbmd0aCYmZS5kYXRhc2V0cy5sZW5ndGgpe2NvbnN0e2xhYmVsczp7cG9pbnRTdHlsZTpuLGNvbG9yOnN9fT10LmxlZ2VuZC5vcHRpb25zO3JldHVybiBlLmxhYmVscy5tYXAoKG8scik9Pntjb25zdCBsPXQuZ2V0RGF0YXNldE1ldGEoMCkuY29udHJvbGxlci5nZXRTdHlsZShyKTtyZXR1cm57dGV4dDpvLGZpbGxTdHlsZTpsLmJhY2tncm91bmRDb2xvcixzdHJva2VTdHlsZTpsLmJvcmRlckNvbG9yLGZvbnRDb2xvcjpzLGxpbmVXaWR0aDpsLmJvcmRlcldpZHRoLHBvaW50U3R5bGU6bixoaWRkZW46IXQuZ2V0RGF0YVZpc2liaWxpdHkociksaW5kZXg6cn19KX1yZXR1cm5bXX19LG9uQ2xpY2sodCxlLG4pe24uY2hhcnQudG9nZ2xlRGF0YVZpc2liaWxpdHkoZS5pbmRleCksbi5jaGFydC51cGRhdGUoKX19fX0pO2NsYXNzIEJlIGV4dGVuZHMgQXR7aW5pdGlhbGl6ZSgpe3RoaXMuZW5hYmxlT3B0aW9uU2hhcmluZz0hMCx0aGlzLnN1cHBvcnRzRGVjaW1hdGlvbj0hMCxzdXBlci5pbml0aWFsaXplKCl9dXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSx7ZGF0YXNldDpuLGRhdGE6cz1bXSxfZGF0YXNldDpvfT1lLHI9dGhpcy5jaGFydC5fYW5pbWF0aW9uc0Rpc2FibGVkO2xldHtzdGFydDphLGNvdW50Omx9PVdyKGUscyxyKTt0aGlzLl9kcmF3U3RhcnQ9YSx0aGlzLl9kcmF3Q291bnQ9bCxCcihlKSYmKGE9MCxsPXMubGVuZ3RoKSxuLl9jaGFydD10aGlzLmNoYXJ0LG4uX2RhdGFzZXRJbmRleD10aGlzLmluZGV4LG4uX2RlY2ltYXRlZD0hIW8uX2RlY2ltYXRlZCxuLnBvaW50cz1zO2NvbnN0IGM9dGhpcy5yZXNvbHZlRGF0YXNldEVsZW1lbnRPcHRpb25zKHQpO3RoaXMub3B0aW9ucy5zaG93TGluZXx8KGMuYm9yZGVyV2lkdGg9MCksYy5zZWdtZW50PXRoaXMub3B0aW9ucy5zZWdtZW50LHRoaXMudXBkYXRlRWxlbWVudChuLHZvaWQgMCx7YW5pbWF0ZWQ6IXIsb3B0aW9uczpjfSx0KSx0aGlzLnVwZGF0ZUVsZW1lbnRzKHMsYSxsLHQpfXVwZGF0ZUVsZW1lbnRzKHQsZSxuLHMpe2NvbnN0IG89cz09PSJyZXNldCIse2lTY2FsZTpyLHZTY2FsZTphLF9zdGFja2VkOmwsX2RhdGFzZXQ6Y309dGhpcy5fY2FjaGVkTWV0YSx7c2hhcmVkT3B0aW9uczpoLGluY2x1ZGVPcHRpb25zOmR9PXRoaXMuX2dldFNoYXJlZE9wdGlvbnMoZSxzKSx1PXIuYXhpcyxmPWEuYXhpcyx7c3BhbkdhcHM6ZyxzZWdtZW50OnB9PXRoaXMub3B0aW9ucyxtPWt0KGcpP2c6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGI9dGhpcy5jaGFydC5fYW5pbWF0aW9uc0Rpc2FibGVkfHxvfHxzPT09Im5vbmUiLHg9ZStuLHk9dC5sZW5ndGg7bGV0IE09ZT4wJiZ0aGlzLmdldFBhcnNlZChlLTEpO2ZvcihsZXQgXz0wO188eTsrK18pe2NvbnN0IHY9dFtfXSxrPWI/djp7fTtpZihfPGV8fF8+PXgpe2suc2tpcD0hMDtjb250aW51ZX1jb25zdCB3PXRoaXMuZ2V0UGFyc2VkKF8pLEQ9SSh3W2ZdKSxBPWtbdV09ci5nZXRQaXhlbEZvclZhbHVlKHdbdV0sXyksQz1rW2ZdPW98fEQ/YS5nZXRCYXNlUGl4ZWwoKTphLmdldFBpeGVsRm9yVmFsdWUobD90aGlzLmFwcGx5U3RhY2soYSx3LGwpOndbZl0sXyk7ay5za2lwPWlzTmFOKEEpfHxpc05hTihDKXx8RCxrLnN0b3A9Xz4wJiZNYXRoLmFicyh3W3VdLU1bdV0pPm0scCYmKGsucGFyc2VkPXcsay5yYXc9Yy5kYXRhW19dKSxkJiYoay5vcHRpb25zPWh8fHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhfLHYuYWN0aXZlPyJhY3RpdmUiOnMpKSxifHx0aGlzLnVwZGF0ZUVsZW1lbnQodixfLGsscyksTT13fX1nZXRNYXhPdmVyZmxvdygpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YSxlPXQuZGF0YXNldCxuPWUub3B0aW9ucyYmZS5vcHRpb25zLmJvcmRlcldpZHRofHwwLHM9dC5kYXRhfHxbXTtpZighcy5sZW5ndGgpcmV0dXJuIG47Y29uc3Qgbz1zWzBdLnNpemUodGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKDApKSxyPXNbcy5sZW5ndGgtMV0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMocy5sZW5ndGgtMSkpO3JldHVybiBNYXRoLm1heChuLG8scikvMn1kcmF3KCl7Y29uc3QgdD10aGlzLl9jYWNoZWRNZXRhO3QuZGF0YXNldC51cGRhdGVDb250cm9sUG9pbnRzKHRoaXMuY2hhcnQuY2hhcnRBcmVhLHQuaVNjYWxlLmF4aXMpLHN1cGVyLmRyYXcoKX19UyhCZSwiaWQiLCJsaW5lIiksUyhCZSwiZGVmYXVsdHMiLHtkYXRhc2V0RWxlbWVudFR5cGU6ImxpbmUiLGRhdGFFbGVtZW50VHlwZToicG9pbnQiLHNob3dMaW5lOiEwLHNwYW5HYXBzOiExfSksUyhCZSwib3ZlcnJpZGVzIix7c2NhbGVzOntfaW5kZXhfOnt0eXBlOiJjYXRlZ29yeSJ9LF92YWx1ZV86e3R5cGU6ImxpbmVhciJ9fX0pO2Z1bmN0aW9uIFJ0KCl7dGhyb3cgbmV3IEVycm9yKCJUaGlzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQ6IENoZWNrIHRoYXQgYSBjb21wbGV0ZSBkYXRlIGFkYXB0ZXIgaXMgcHJvdmlkZWQuIil9Y2xhc3MgV2l7Y29uc3RydWN0b3IodCl7Uyh0aGlzLCJvcHRpb25zIik7dGhpcy5vcHRpb25zPXR8fHt9fXN0YXRpYyBvdmVycmlkZSh0KXtPYmplY3QuYXNzaWduKFdpLnByb3RvdHlwZSx0KX1pbml0KCl7fWZvcm1hdHMoKXtyZXR1cm4gUnQoKX1wYXJzZSgpe3JldHVybiBSdCgpfWZvcm1hdCgpe3JldHVybiBSdCgpfWFkZCgpe3JldHVybiBSdCgpfWRpZmYoKXtyZXR1cm4gUnQoKX1zdGFydE9mKCl7cmV0dXJuIFJ0KCl9ZW5kT2YoKXtyZXR1cm4gUnQoKX19dmFyIGdsPXtfZGF0ZTpXaX07ZnVuY3Rpb24gcGwoaSx0LGUsbil7Y29uc3R7Y29udHJvbGxlcjpzLGRhdGE6byxfc29ydGVkOnJ9PWksYT1zLl9jYWNoZWRNZXRhLmlTY2FsZTtpZihhJiZ0PT09YS5heGlzJiZ0IT09InIiJiZyJiZvLmxlbmd0aCl7Y29uc3QgbD1hLl9yZXZlcnNlUGl4ZWxzP0xyOlN0O2lmKG4pe2lmKHMuX3NoYXJlZE9wdGlvbnMpe2NvbnN0IGM9b1swXSxoPXR5cGVvZiBjLmdldFJhbmdlPT0iZnVuY3Rpb24iJiZjLmdldFJhbmdlKHQpO2lmKGgpe2NvbnN0IGQ9bChvLHQsZS1oKSx1PWwobyx0LGUraCk7cmV0dXJue2xvOmQubG8saGk6dS5oaX19fX1lbHNlIHJldHVybiBsKG8sdCxlKX1yZXR1cm57bG86MCxoaTpvLmxlbmd0aC0xfX1mdW5jdGlvbiBhZShpLHQsZSxuLHMpe2NvbnN0IG89aS5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCkscj1lW3RdO2ZvcihsZXQgYT0wLGw9by5sZW5ndGg7YTxsOysrYSl7Y29uc3R7aW5kZXg6YyxkYXRhOmh9PW9bYV0se2xvOmQsaGk6dX09cGwob1thXSx0LHIscyk7Zm9yKGxldCBmPWQ7Zjw9dTsrK2Ype2NvbnN0IGc9aFtmXTtnLnNraXB8fG4oZyxjLGYpfX19ZnVuY3Rpb24gbWwoaSl7Y29uc3QgdD1pLmluZGV4T2YoIngiKSE9PS0xLGU9aS5pbmRleE9mKCJ5IikhPT0tMTtyZXR1cm4gZnVuY3Rpb24obixzKXtjb25zdCBvPXQ/TWF0aC5hYnMobi54LXMueCk6MCxyPWU/TWF0aC5hYnMobi55LXMueSk6MDtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KG8sMikrTWF0aC5wb3cociwyKSl9fWZ1bmN0aW9uIEJpKGksdCxlLG4scyl7Y29uc3Qgbz1bXTtyZXR1cm4hcyYmIWkuaXNQb2ludEluQXJlYSh0KXx8YWUoaSxlLHQsZnVuY3Rpb24oYSxsLGMpeyFzJiYhbmUoYSxpLmNoYXJ0QXJlYSwwKXx8YS5pblJhbmdlKHQueCx0LnksbikmJm8ucHVzaCh7ZWxlbWVudDphLGRhdGFzZXRJbmRleDpsLGluZGV4OmN9KX0sITApLG99ZnVuY3Rpb24gYmwoaSx0LGUsbil7bGV0IHM9W107ZnVuY3Rpb24gbyhyLGEsbCl7Y29uc3R7c3RhcnRBbmdsZTpjLGVuZEFuZ2xlOmh9PXIuZ2V0UHJvcHMoWyJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiXSxuKSx7YW5nbGU6ZH09X2kocix7eDp0LngseTp0Lnl9KTtDZShkLGMsaCkmJnMucHVzaCh7ZWxlbWVudDpyLGRhdGFzZXRJbmRleDphLGluZGV4Omx9KX1yZXR1cm4gYWUoaSxlLHQsbyksc31mdW5jdGlvbiB4bChpLHQsZSxuLHMsbyl7bGV0IHI9W107Y29uc3QgYT1tbChlKTtsZXQgbD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7ZnVuY3Rpb24gYyhoLGQsdSl7Y29uc3QgZj1oLmluUmFuZ2UodC54LHQueSxzKTtpZihuJiYhZilyZXR1cm47Y29uc3QgZz1oLmdldENlbnRlclBvaW50KHMpO2lmKCEoISFvfHxpLmlzUG9pbnRJbkFyZWEoZykpJiYhZilyZXR1cm47Y29uc3QgbT1hKHQsZyk7bTxsPyhyPVt7ZWxlbWVudDpoLGRhdGFzZXRJbmRleDpkLGluZGV4OnV9XSxsPW0pOm09PT1sJiZyLnB1c2goe2VsZW1lbnQ6aCxkYXRhc2V0SW5kZXg6ZCxpbmRleDp1fSl9cmV0dXJuIGFlKGksZSx0LGMpLHJ9ZnVuY3Rpb24gSGkoaSx0LGUsbixzLG8pe3JldHVybiFvJiYhaS5pc1BvaW50SW5BcmVhKHQpP1tdOmU9PT0iciImJiFuP2JsKGksdCxlLHMpOnhsKGksdCxlLG4scyxvKX1mdW5jdGlvbiBwcyhpLHQsZSxuLHMpe2NvbnN0IG89W10scj1lPT09IngiPyJpblhSYW5nZSI6ImluWVJhbmdlIjtsZXQgYT0hMTtyZXR1cm4gYWUoaSxlLHQsKGwsYyxoKT0+e2xbcl0odFtlXSxzKSYmKG8ucHVzaCh7ZWxlbWVudDpsLGRhdGFzZXRJbmRleDpjLGluZGV4Omh9KSxhPWF8fGwuaW5SYW5nZSh0LngsdC55LHMpKX0pLG4mJiFhP1tdOm99dmFyIF9sPXtldmFsdWF0ZUludGVyYWN0aW9uSXRlbXM6YWUsbW9kZXM6e2luZGV4KGksdCxlLG4pe2NvbnN0IHM9Q3QodCxpKSxvPWUuYXhpc3x8IngiLHI9ZS5pbmNsdWRlSW52aXNpYmxlfHwhMSxhPWUuaW50ZXJzZWN0P0JpKGkscyxvLG4scik6SGkoaSxzLG8sITEsbixyKSxsPVtdO3JldHVybiBhLmxlbmd0aD8oaS5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCkuZm9yRWFjaChjPT57Y29uc3QgaD1hWzBdLmluZGV4LGQ9Yy5kYXRhW2hdO2QmJiFkLnNraXAmJmwucHVzaCh7ZWxlbWVudDpkLGRhdGFzZXRJbmRleDpjLmluZGV4LGluZGV4Omh9KX0pLGwpOltdfSxkYXRhc2V0KGksdCxlLG4pe2NvbnN0IHM9Q3QodCxpKSxvPWUuYXhpc3x8Inh5IixyPWUuaW5jbHVkZUludmlzaWJsZXx8ITE7bGV0IGE9ZS5pbnRlcnNlY3Q/QmkoaSxzLG8sbixyKTpIaShpLHMsbywhMSxuLHIpO2lmKGEubGVuZ3RoPjApe2NvbnN0IGw9YVswXS5kYXRhc2V0SW5kZXgsYz1pLmdldERhdGFzZXRNZXRhKGwpLmRhdGE7YT1bXTtmb3IobGV0IGg9MDtoPGMubGVuZ3RoOysraClhLnB1c2goe2VsZW1lbnQ6Y1toXSxkYXRhc2V0SW5kZXg6bCxpbmRleDpofSl9cmV0dXJuIGF9LHBvaW50KGksdCxlLG4pe2NvbnN0IHM9Q3QodCxpKSxvPWUuYXhpc3x8Inh5IixyPWUuaW5jbHVkZUludmlzaWJsZXx8ITE7cmV0dXJuIEJpKGkscyxvLG4scil9LG5lYXJlc3QoaSx0LGUsbil7Y29uc3Qgcz1DdCh0LGkpLG89ZS5heGlzfHwieHkiLHI9ZS5pbmNsdWRlSW52aXNpYmxlfHwhMTtyZXR1cm4gSGkoaSxzLG8sZS5pbnRlcnNlY3QsbixyKX0seChpLHQsZSxuKXtjb25zdCBzPUN0KHQsaSk7cmV0dXJuIHBzKGkscywieCIsZS5pbnRlcnNlY3Qsbil9LHkoaSx0LGUsbil7Y29uc3Qgcz1DdCh0LGkpO3JldHVybiBwcyhpLHMsInkiLGUuaW50ZXJzZWN0LG4pfX19O2NvbnN0IG1zPVsibGVmdCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIl07ZnVuY3Rpb24gbGUoaSx0KXtyZXR1cm4gaS5maWx0ZXIoZT0+ZS5wb3M9PT10KX1mdW5jdGlvbiBicyhpLHQpe3JldHVybiBpLmZpbHRlcihlPT5tcy5pbmRleE9mKGUucG9zKT09PS0xJiZlLmJveC5heGlzPT09dCl9ZnVuY3Rpb24gY2UoaSx0KXtyZXR1cm4gaS5zb3J0KChlLG4pPT57Y29uc3Qgcz10P246ZSxvPXQ/ZTpuO3JldHVybiBzLndlaWdodD09PW8ud2VpZ2h0P3MuaW5kZXgtby5pbmRleDpzLndlaWdodC1vLndlaWdodH0pfWZ1bmN0aW9uIHlsKGkpe2NvbnN0IHQ9W107bGV0IGUsbixzLG8scixhO2ZvcihlPTAsbj0oaXx8W10pLmxlbmd0aDtlPG47KytlKXM9aVtlXSx7cG9zaXRpb246byxvcHRpb25zOntzdGFjazpyLHN0YWNrV2VpZ2h0OmE9MX19PXMsdC5wdXNoKHtpbmRleDplLGJveDpzLHBvczpvLGhvcml6b250YWw6cy5pc0hvcml6b250YWwoKSx3ZWlnaHQ6cy53ZWlnaHQsc3RhY2s6ciYmbytyLHN0YWNrV2VpZ2h0OmF9KTtyZXR1cm4gdH1mdW5jdGlvbiB3bChpKXtjb25zdCB0PXt9O2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0e3N0YWNrOm4scG9zOnMsc3RhY2tXZWlnaHQ6b309ZTtpZighbnx8IW1zLmluY2x1ZGVzKHMpKWNvbnRpbnVlO2NvbnN0IHI9dFtuXXx8KHRbbl09e2NvdW50OjAscGxhY2VkOjAsd2VpZ2h0OjAsc2l6ZTowfSk7ci5jb3VudCsrLHIud2VpZ2h0Kz1vfXJldHVybiB0fWZ1bmN0aW9uIE1sKGksdCl7Y29uc3QgZT13bChpKSx7dkJveE1heFdpZHRoOm4saEJveE1heEhlaWdodDpzfT10O2xldCBvLHIsYTtmb3Iobz0wLHI9aS5sZW5ndGg7bzxyOysrbyl7YT1pW29dO2NvbnN0e2Z1bGxTaXplOmx9PWEuYm94LGM9ZVthLnN0YWNrXSxoPWMmJmEuc3RhY2tXZWlnaHQvYy53ZWlnaHQ7YS5ob3Jpem9udGFsPyhhLndpZHRoPWg/aCpuOmwmJnQuYXZhaWxhYmxlV2lkdGgsYS5oZWlnaHQ9cyk6KGEud2lkdGg9bixhLmhlaWdodD1oP2gqczpsJiZ0LmF2YWlsYWJsZUhlaWdodCl9cmV0dXJuIGV9ZnVuY3Rpb24ga2woaSl7Y29uc3QgdD15bChpKSxlPWNlKHQuZmlsdGVyKGM9PmMuYm94LmZ1bGxTaXplKSwhMCksbj1jZShsZSh0LCJsZWZ0IiksITApLHM9Y2UobGUodCwicmlnaHQiKSksbz1jZShsZSh0LCJ0b3AiKSwhMCkscj1jZShsZSh0LCJib3R0b20iKSksYT1icyh0LCJ4IiksbD1icyh0LCJ5Iik7cmV0dXJue2Z1bGxTaXplOmUsbGVmdEFuZFRvcDpuLmNvbmNhdChvKSxyaWdodEFuZEJvdHRvbTpzLmNvbmNhdChsKS5jb25jYXQocikuY29uY2F0KGEpLGNoYXJ0QXJlYTpsZSh0LCJjaGFydEFyZWEiKSx2ZXJ0aWNhbDpuLmNvbmNhdChzKS5jb25jYXQobCksaG9yaXpvbnRhbDpvLmNvbmNhdChyKS5jb25jYXQoYSl9fWZ1bmN0aW9uIHhzKGksdCxlLG4pe3JldHVybiBNYXRoLm1heChpW2VdLHRbZV0pK01hdGgubWF4KGlbbl0sdFtuXSl9ZnVuY3Rpb24gX3MoaSx0KXtpLnRvcD1NYXRoLm1heChpLnRvcCx0LnRvcCksaS5sZWZ0PU1hdGgubWF4KGkubGVmdCx0LmxlZnQpLGkuYm90dG9tPU1hdGgubWF4KGkuYm90dG9tLHQuYm90dG9tKSxpLnJpZ2h0PU1hdGgubWF4KGkucmlnaHQsdC5yaWdodCl9ZnVuY3Rpb24gdmwoaSx0LGUsbil7Y29uc3R7cG9zOnMsYm94Om99PWUscj1pLm1heFBhZGRpbmc7aWYoIU8ocykpe2Uuc2l6ZSYmKGlbc10tPWUuc2l6ZSk7Y29uc3QgZD1uW2Uuc3RhY2tdfHx7c2l6ZTowLGNvdW50OjF9O2Quc2l6ZT1NYXRoLm1heChkLnNpemUsZS5ob3Jpem9udGFsP28uaGVpZ2h0Om8ud2lkdGgpLGUuc2l6ZT1kLnNpemUvZC5jb3VudCxpW3NdKz1lLnNpemV9by5nZXRQYWRkaW5nJiZfcyhyLG8uZ2V0UGFkZGluZygpKTtjb25zdCBhPU1hdGgubWF4KDAsdC5vdXRlcldpZHRoLXhzKHIsaSwibGVmdCIsInJpZ2h0IikpLGw9TWF0aC5tYXgoMCx0Lm91dGVySGVpZ2h0LXhzKHIsaSwidG9wIiwiYm90dG9tIikpLGM9YSE9PWkudyxoPWwhPT1pLmg7cmV0dXJuIGkudz1hLGkuaD1sLGUuaG9yaXpvbnRhbD97c2FtZTpjLG90aGVyOmh9OntzYW1lOmgsb3RoZXI6Y319ZnVuY3Rpb24gU2woaSl7Y29uc3QgdD1pLm1heFBhZGRpbmc7ZnVuY3Rpb24gZShuKXtjb25zdCBzPU1hdGgubWF4KHRbbl0taVtuXSwwKTtyZXR1cm4gaVtuXSs9cyxzfWkueSs9ZSgidG9wIiksaS54Kz1lKCJsZWZ0IiksZSgicmlnaHQiKSxlKCJib3R0b20iKX1mdW5jdGlvbiBQbChpLHQpe2NvbnN0IGU9dC5tYXhQYWRkaW5nO2Z1bmN0aW9uIG4ocyl7Y29uc3Qgbz17bGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjB9O3JldHVybiBzLmZvckVhY2gocj0+e29bcl09TWF0aC5tYXgodFtyXSxlW3JdKX0pLG99cmV0dXJuIG4oaT9bImxlZnQiLCJyaWdodCJdOlsidG9wIiwiYm90dG9tIl0pfWZ1bmN0aW9uIGhlKGksdCxlLG4pe2NvbnN0IHM9W107bGV0IG8scixhLGwsYyxoO2ZvcihvPTAscj1pLmxlbmd0aCxjPTA7bzxyOysrbyl7YT1pW29dLGw9YS5ib3gsbC51cGRhdGUoYS53aWR0aHx8dC53LGEuaGVpZ2h0fHx0LmgsUGwoYS5ob3Jpem9udGFsLHQpKTtjb25zdHtzYW1lOmQsb3RoZXI6dX09dmwodCxlLGEsbik7Y3w9ZCYmcy5sZW5ndGgsaD1ofHx1LGwuZnVsbFNpemV8fHMucHVzaChhKX1yZXR1cm4gYyYmaGUocyx0LGUsbil8fGh9ZnVuY3Rpb24gSGUoaSx0LGUsbixzKXtpLnRvcD1lLGkubGVmdD10LGkucmlnaHQ9dCtuLGkuYm90dG9tPWUrcyxpLndpZHRoPW4saS5oZWlnaHQ9c31mdW5jdGlvbiB5cyhpLHQsZSxuKXtjb25zdCBzPWUucGFkZGluZztsZXR7eDpvLHk6cn09dDtmb3IoY29uc3QgYSBvZiBpKXtjb25zdCBsPWEuYm94LGM9blthLnN0YWNrXXx8e2NvdW50OjEscGxhY2VkOjAsd2VpZ2h0OjF9LGg9YS5zdGFja1dlaWdodC9jLndlaWdodHx8MTtpZihhLmhvcml6b250YWwpe2NvbnN0IGQ9dC53KmgsdT1jLnNpemV8fGwuaGVpZ2h0O0soYy5zdGFydCkmJihyPWMuc3RhcnQpLGwuZnVsbFNpemU/SGUobCxzLmxlZnQscixlLm91dGVyV2lkdGgtcy5yaWdodC1zLmxlZnQsdSk6SGUobCx0LmxlZnQrYy5wbGFjZWQscixkLHUpLGMuc3RhcnQ9cixjLnBsYWNlZCs9ZCxyPWwuYm90dG9tfWVsc2V7Y29uc3QgZD10LmgqaCx1PWMuc2l6ZXx8bC53aWR0aDtLKGMuc3RhcnQpJiYobz1jLnN0YXJ0KSxsLmZ1bGxTaXplP0hlKGwsbyxzLnRvcCx1LGUub3V0ZXJIZWlnaHQtcy5ib3R0b20tcy50b3ApOkhlKGwsbyx0LnRvcCtjLnBsYWNlZCx1LGQpLGMuc3RhcnQ9byxjLnBsYWNlZCs9ZCxvPWwucmlnaHR9fXQueD1vLHQueT1yfXZhciBzdD17YWRkQm94KGksdCl7aS5ib3hlc3x8KGkuYm94ZXM9W10pLHQuZnVsbFNpemU9dC5mdWxsU2l6ZXx8ITEsdC5wb3NpdGlvbj10LnBvc2l0aW9ufHwidG9wIix0LndlaWdodD10LndlaWdodHx8MCx0Ll9sYXllcnM9dC5fbGF5ZXJzfHxmdW5jdGlvbigpe3JldHVyblt7ejowLGRyYXcoZSl7dC5kcmF3KGUpfX1dfSxpLmJveGVzLnB1c2godCl9LHJlbW92ZUJveChpLHQpe2NvbnN0IGU9aS5ib3hlcz9pLmJveGVzLmluZGV4T2YodCk6LTE7ZSE9PS0xJiZpLmJveGVzLnNwbGljZShlLDEpfSxjb25maWd1cmUoaSx0LGUpe3QuZnVsbFNpemU9ZS5mdWxsU2l6ZSx0LnBvc2l0aW9uPWUucG9zaXRpb24sdC53ZWlnaHQ9ZS53ZWlnaHR9LHVwZGF0ZShpLHQsZSxuKXtpZighaSlyZXR1cm47Y29uc3Qgcz1RKGkub3B0aW9ucy5sYXlvdXQucGFkZGluZyksbz1NYXRoLm1heCh0LXMud2lkdGgsMCkscj1NYXRoLm1heChlLXMuaGVpZ2h0LDApLGE9a2woaS5ib3hlcyksbD1hLnZlcnRpY2FsLGM9YS5ob3Jpem9udGFsO1koaS5ib3hlcyxwPT57dHlwZW9mIHAuYmVmb3JlTGF5b3V0PT0iZnVuY3Rpb24iJiZwLmJlZm9yZUxheW91dCgpfSk7Y29uc3QgaD1sLnJlZHVjZSgocCxtKT0+bS5ib3gub3B0aW9ucyYmbS5ib3gub3B0aW9ucy5kaXNwbGF5PT09ITE/cDpwKzEsMCl8fDEsZD1PYmplY3QuZnJlZXplKHtvdXRlcldpZHRoOnQsb3V0ZXJIZWlnaHQ6ZSxwYWRkaW5nOnMsYXZhaWxhYmxlV2lkdGg6byxhdmFpbGFibGVIZWlnaHQ6cix2Qm94TWF4V2lkdGg6by8yL2gsaEJveE1heEhlaWdodDpyLzJ9KSx1PU9iamVjdC5hc3NpZ24oe30scyk7X3ModSxRKG4pKTtjb25zdCBmPU9iamVjdC5hc3NpZ24oe21heFBhZGRpbmc6dSx3Om8saDpyLHg6cy5sZWZ0LHk6cy50b3B9LHMpLGc9TWwobC5jb25jYXQoYyksZCk7aGUoYS5mdWxsU2l6ZSxmLGQsZyksaGUobCxmLGQsZyksaGUoYyxmLGQsZykmJmhlKGwsZixkLGcpLFNsKGYpLHlzKGEubGVmdEFuZFRvcCxmLGQsZyksZi54Kz1mLncsZi55Kz1mLmgseXMoYS5yaWdodEFuZEJvdHRvbSxmLGQsZyksaS5jaGFydEFyZWE9e2xlZnQ6Zi5sZWZ0LHRvcDpmLnRvcCxyaWdodDpmLmxlZnQrZi53LGJvdHRvbTpmLnRvcCtmLmgsaGVpZ2h0OmYuaCx3aWR0aDpmLnd9LFkoYS5jaGFydEFyZWEscD0+e2NvbnN0IG09cC5ib3g7T2JqZWN0LmFzc2lnbihtLGkuY2hhcnRBcmVhKSxtLnVwZGF0ZShmLncsZi5oLHtsZWZ0OjAsdG9wOjAscmlnaHQ6MCxib3R0b206MH0pfSl9fTtjbGFzcyB3c3thY3F1aXJlQ29udGV4dCh0LGUpe31yZWxlYXNlQ29udGV4dCh0KXtyZXR1cm4hMX1hZGRFdmVudExpc3RlbmVyKHQsZSxuKXt9cmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsbil7fWdldERldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gMX1nZXRNYXhpbXVtU2l6ZSh0LGUsbixzKXtyZXR1cm4gZT1NYXRoLm1heCgwLGV8fHQud2lkdGgpLG49bnx8dC5oZWlnaHQse3dpZHRoOmUsaGVpZ2h0Ok1hdGgubWF4KDAscz9NYXRoLmZsb29yKGUvcyk6bil9fWlzQXR0YWNoZWQodCl7cmV0dXJuITB9dXBkYXRlQ29uZmlnKHQpe319Y2xhc3MgRGwgZXh0ZW5kcyB3c3thY3F1aXJlQ29udGV4dCh0KXtyZXR1cm4gdCYmdC5nZXRDb250ZXh0JiZ0LmdldENvbnRleHQoIjJkIil8fG51bGx9dXBkYXRlQ29uZmlnKHQpe3Qub3B0aW9ucy5hbmltYXRpb249ITF9fWNvbnN0IGplPSIkY2hhcnRqcyIsT2w9e3RvdWNoc3RhcnQ6Im1vdXNlZG93biIsdG91Y2htb3ZlOiJtb3VzZW1vdmUiLHRvdWNoZW5kOiJtb3VzZXVwIixwb2ludGVyZW50ZXI6Im1vdXNlZW50ZXIiLHBvaW50ZXJkb3duOiJtb3VzZWRvd24iLHBvaW50ZXJtb3ZlOiJtb3VzZW1vdmUiLHBvaW50ZXJ1cDoibW91c2V1cCIscG9pbnRlcmxlYXZlOiJtb3VzZW91dCIscG9pbnRlcm91dDoibW91c2VvdXQifSxNcz1pPT5pPT09bnVsbHx8aT09PSIiO2Z1bmN0aW9uIENsKGksdCl7Y29uc3QgZT1pLnN0eWxlLG49aS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpLHM9aS5nZXRBdHRyaWJ1dGUoIndpZHRoIik7aWYoaVtqZV09e2luaXRpYWw6e2hlaWdodDpuLHdpZHRoOnMsc3R5bGU6e2Rpc3BsYXk6ZS5kaXNwbGF5LGhlaWdodDplLmhlaWdodCx3aWR0aDplLndpZHRofX19LGUuZGlzcGxheT1lLmRpc3BsYXl8fCJibG9jayIsZS5ib3hTaXppbmc9ZS5ib3hTaXppbmd8fCJib3JkZXItYm94IixNcyhzKSl7Y29uc3Qgbz1KbihpLCJ3aWR0aCIpO28hPT12b2lkIDAmJihpLndpZHRoPW8pfWlmKE1zKG4pKWlmKGkuc3R5bGUuaGVpZ2h0PT09IiIpaS5oZWlnaHQ9aS53aWR0aC8odHx8Mik7ZWxzZXtjb25zdCBvPUpuKGksImhlaWdodCIpO28hPT12b2lkIDAmJihpLmhlaWdodD1vKX1yZXR1cm4gaX1jb25zdCBrcz1PYT97cGFzc2l2ZTohMH06ITE7ZnVuY3Rpb24gVGwoaSx0LGUpe2kmJmkuYWRkRXZlbnRMaXN0ZW5lcih0LGUsa3MpfWZ1bmN0aW9uIEFsKGksdCxlKXtpJiZpLmNhbnZhcyYmaS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsa3MpfWZ1bmN0aW9uIFJsKGksdCl7Y29uc3QgZT1PbFtpLnR5cGVdfHxpLnR5cGUse3g6bix5OnN9PUN0KGksdCk7cmV0dXJue3R5cGU6ZSxjaGFydDp0LG5hdGl2ZTppLHg6biE9PXZvaWQgMD9uOm51bGwseTpzIT09dm9pZCAwP3M6bnVsbH19ZnVuY3Rpb24gTmUoaSx0KXtmb3IoY29uc3QgZSBvZiBpKWlmKGU9PT10fHxlLmNvbnRhaW5zKHQpKXJldHVybiEwfWZ1bmN0aW9uIExsKGksdCxlKXtjb25zdCBuPWkuY2FudmFzLHM9bmV3IE11dGF0aW9uT2JzZXJ2ZXIobz0+e2xldCByPSExO2Zvcihjb25zdCBhIG9mIG8pcj1yfHxOZShhLmFkZGVkTm9kZXMsbikscj1yJiYhTmUoYS5yZW1vdmVkTm9kZXMsbik7ciYmZSgpfSk7cmV0dXJuIHMub2JzZXJ2ZShkb2N1bWVudCx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxzfWZ1bmN0aW9uIElsKGksdCxlKXtjb25zdCBuPWkuY2FudmFzLHM9bmV3IE11dGF0aW9uT2JzZXJ2ZXIobz0+e2xldCByPSExO2Zvcihjb25zdCBhIG9mIG8pcj1yfHxOZShhLnJlbW92ZWROb2RlcyxuKSxyPXImJiFOZShhLmFkZGVkTm9kZXMsbik7ciYmZSgpfSk7cmV0dXJuIHMub2JzZXJ2ZShkb2N1bWVudCx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxzfWNvbnN0IGRlPW5ldyBNYXA7bGV0IHZzPTA7ZnVuY3Rpb24gU3MoKXtjb25zdCBpPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO2khPT12cyYmKHZzPWksZGUuZm9yRWFjaCgodCxlKT0+e2UuY3VycmVudERldmljZVBpeGVsUmF0aW8hPT1pJiZ0KCl9KSl9ZnVuY3Rpb24gemwoaSx0KXtkZS5zaXplfHx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixTcyksZGUuc2V0KGksdCl9ZnVuY3Rpb24gRWwoaSl7ZGUuZGVsZXRlKGkpLGRlLnNpemV8fHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLFNzKX1mdW5jdGlvbiBGbChpLHQsZSl7Y29uc3Qgbj1pLmNhbnZhcyxzPW4mJkxpKG4pO2lmKCFzKXJldHVybjtjb25zdCBvPUFuKChhLGwpPT57Y29uc3QgYz1zLmNsaWVudFdpZHRoO2UoYSxsKSxjPHMuY2xpZW50V2lkdGgmJmUoKX0sd2luZG93KSxyPW5ldyBSZXNpemVPYnNlcnZlcihhPT57Y29uc3QgbD1hWzBdLGM9bC5jb250ZW50UmVjdC53aWR0aCxoPWwuY29udGVudFJlY3QuaGVpZ2h0O2M9PT0wJiZoPT09MHx8byhjLGgpfSk7cmV0dXJuIHIub2JzZXJ2ZShzKSx6bChpLG8pLHJ9ZnVuY3Rpb24gamkoaSx0LGUpe2UmJmUuZGlzY29ubmVjdCgpLHQ9PT0icmVzaXplIiYmRWwoaSl9ZnVuY3Rpb24gV2woaSx0LGUpe2NvbnN0IG49aS5jYW52YXMscz1BbihvPT57aS5jdHghPT1udWxsJiZlKFJsKG8saSkpfSxpKTtyZXR1cm4gVGwobix0LHMpLHN9Y2xhc3MgQmwgZXh0ZW5kcyB3c3thY3F1aXJlQ29udGV4dCh0LGUpe2NvbnN0IG49dCYmdC5nZXRDb250ZXh0JiZ0LmdldENvbnRleHQoIjJkIik7cmV0dXJuIG4mJm4uY2FudmFzPT09dD8oQ2wodCxlKSxuKTpudWxsfXJlbGVhc2VDb250ZXh0KHQpe2NvbnN0IGU9dC5jYW52YXM7aWYoIWVbamVdKXJldHVybiExO2NvbnN0IG49ZVtqZV0uaW5pdGlhbDtbImhlaWdodCIsIndpZHRoIl0uZm9yRWFjaChvPT57Y29uc3Qgcj1uW29dO0kocik/ZS5yZW1vdmVBdHRyaWJ1dGUobyk6ZS5zZXRBdHRyaWJ1dGUobyxyKX0pO2NvbnN0IHM9bi5zdHlsZXx8e307cmV0dXJuIE9iamVjdC5rZXlzKHMpLmZvckVhY2gobz0+e2Uuc3R5bGVbb109c1tvXX0pLGUud2lkdGg9ZS53aWR0aCxkZWxldGUgZVtqZV0sITB9YWRkRXZlbnRMaXN0ZW5lcih0LGUsbil7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHQsZSk7Y29uc3Qgcz10LiRwcm94aWVzfHwodC4kcHJveGllcz17fSkscj17YXR0YWNoOkxsLGRldGFjaDpJbCxyZXNpemU6Rmx9W2VdfHxXbDtzW2VdPXIodCxlLG4pfXJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKXtjb25zdCBuPXQuJHByb3hpZXN8fCh0LiRwcm94aWVzPXt9KSxzPW5bZV07aWYoIXMpcmV0dXJuOyh7YXR0YWNoOmppLGRldGFjaDpqaSxyZXNpemU6aml9W2VdfHxBbCkodCxlLHMpLG5bZV09dm9pZCAwfWdldERldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW99Z2V0TWF4aW11bVNpemUodCxlLG4scyl7cmV0dXJuIERhKHQsZSxuLHMpfWlzQXR0YWNoZWQodCl7Y29uc3QgZT10JiZMaSh0KTtyZXR1cm4hIShlJiZlLmlzQ29ubmVjdGVkKX19ZnVuY3Rpb24gSGwoaSl7cmV0dXJuIVJpKCl8fHR5cGVvZiBPZmZzY3JlZW5DYW52YXM8InUiJiZpIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzP0RsOkJsfWNsYXNzIFh7Y29uc3RydWN0b3IoKXtTKHRoaXMsIngiKTtTKHRoaXMsInkiKTtTKHRoaXMsImFjdGl2ZSIsITEpO1ModGhpcywib3B0aW9ucyIpO1ModGhpcywiJGFuaW1hdGlvbnMiKX10b29sdGlwUG9zaXRpb24odCl7Y29uc3R7eDplLHk6bn09dGhpcy5nZXRQcm9wcyhbIngiLCJ5Il0sdCk7cmV0dXJue3g6ZSx5Om59fWhhc1ZhbHVlKCl7cmV0dXJuIGt0KHRoaXMueCkmJmt0KHRoaXMueSl9Z2V0UHJvcHModCxlKXtjb25zdCBuPXRoaXMuJGFuaW1hdGlvbnM7aWYoIWV8fCFuKXJldHVybiB0aGlzO2NvbnN0IHM9e307cmV0dXJuIHQuZm9yRWFjaChvPT57c1tvXT1uW29dJiZuW29dLmFjdGl2ZSgpP25bb10uX3RvOnRoaXNbb119KSxzfX1TKFgsImRlZmF1bHRzIix7fSksUyhYLCJkZWZhdWx0Um91dGVzIik7ZnVuY3Rpb24gamwoaSx0KXtjb25zdCBlPWkub3B0aW9ucy50aWNrcyxuPU5sKGkpLHM9TWF0aC5taW4oZS5tYXhUaWNrc0xpbWl0fHxuLG4pLG89ZS5tYWpvci5lbmFibGVkP1lsKHQpOltdLHI9by5sZW5ndGgsYT1vWzBdLGw9b1tyLTFdLGM9W107aWYocj5zKXJldHVybiAkbCh0LGMsbyxyL3MpLGM7Y29uc3QgaD1WbChvLHQscyk7aWYocj4wKXtsZXQgZCx1O2NvbnN0IGY9cj4xP01hdGgucm91bmQoKGwtYSkvKHItMSkpOm51bGw7Zm9yKFZlKHQsYyxoLEkoZik/MDphLWYsYSksZD0wLHU9ci0xO2Q8dTtkKyspVmUodCxjLGgsb1tkXSxvW2QrMV0pO3JldHVybiBWZSh0LGMsaCxsLEkoZik/dC5sZW5ndGg6bCtmKSxjfXJldHVybiBWZSh0LGMsaCksY31mdW5jdGlvbiBObChpKXtjb25zdCB0PWkub3B0aW9ucy5vZmZzZXQsZT1pLl90aWNrU2l6ZSgpLG49aS5fbGVuZ3RoL2UrKHQ/MDoxKSxzPWkuX21heExlbmd0aC9lO3JldHVybiBNYXRoLmZsb29yKE1hdGgubWluKG4scykpfWZ1bmN0aW9uIFZsKGksdCxlKXtjb25zdCBuPVhsKGkpLHM9dC5sZW5ndGgvZTtpZighbilyZXR1cm4gTWF0aC5tYXgocywxKTtjb25zdCBvPU9yKG4pO2ZvcihsZXQgcj0wLGE9by5sZW5ndGgtMTtyPGE7cisrKXtjb25zdCBsPW9bcl07aWYobD5zKXJldHVybiBsfXJldHVybiBNYXRoLm1heChzLDEpfWZ1bmN0aW9uIFlsKGkpe2NvbnN0IHQ9W107bGV0IGUsbjtmb3IoZT0wLG49aS5sZW5ndGg7ZTxuO2UrKylpW2VdLm1ham9yJiZ0LnB1c2goZSk7cmV0dXJuIHR9ZnVuY3Rpb24gJGwoaSx0LGUsbil7bGV0IHM9MCxvPWVbMF0scjtmb3Iobj1NYXRoLmNlaWwobikscj0wO3I8aS5sZW5ndGg7cisrKXI9PT1vJiYodC5wdXNoKGlbcl0pLHMrKyxvPWVbcypuXSl9ZnVuY3Rpb24gVmUoaSx0LGUsbixzKXtjb25zdCBvPVAobiwwKSxyPU1hdGgubWluKFAocyxpLmxlbmd0aCksaS5sZW5ndGgpO2xldCBhPTAsbCxjLGg7Zm9yKGU9TWF0aC5jZWlsKGUpLHMmJihsPXMtbixlPWwvTWF0aC5mbG9vcihsL2UpKSxoPW87aDwwOylhKyssaD1NYXRoLnJvdW5kKG8rYSplKTtmb3IoYz1NYXRoLm1heChvLDApO2M8cjtjKyspYz09PWgmJih0LnB1c2goaVtjXSksYSsrLGg9TWF0aC5yb3VuZChvK2EqZSkpfWZ1bmN0aW9uIFhsKGkpe2NvbnN0IHQ9aS5sZW5ndGg7bGV0IGUsbjtpZih0PDIpcmV0dXJuITE7Zm9yKG49aVswXSxlPTE7ZTx0OysrZSlpZihpW2VdLWlbZS0xXSE9PW4pcmV0dXJuITE7cmV0dXJuIG59Y29uc3QgVWw9aT0+aT09PSJsZWZ0Ij8icmlnaHQiOmk9PT0icmlnaHQiPyJsZWZ0IjppLFBzPShpLHQsZSk9PnQ9PT0idG9wInx8dD09PSJsZWZ0Ij9pW3RdK2U6aVt0XS1lLERzPShpLHQpPT5NYXRoLm1pbih0fHxpLGkpO2Z1bmN0aW9uIE9zKGksdCl7Y29uc3QgZT1bXSxuPWkubGVuZ3RoL3Qscz1pLmxlbmd0aDtsZXQgbz0wO2Zvcig7bzxzO28rPW4pZS5wdXNoKGlbTWF0aC5mbG9vcihvKV0pO3JldHVybiBlfWZ1bmN0aW9uIEtsKGksdCxlKXtjb25zdCBuPWkudGlja3MubGVuZ3RoLHM9TWF0aC5taW4odCxuLTEpLG89aS5fc3RhcnRQaXhlbCxyPWkuX2VuZFBpeGVsLGE9MWUtNjtsZXQgbD1pLmdldFBpeGVsRm9yVGljayhzKSxjO2lmKCEoZSYmKG49PT0xP2M9TWF0aC5tYXgobC1vLHItbCk6dD09PTA/Yz0oaS5nZXRQaXhlbEZvclRpY2soMSktbCkvMjpjPShsLWkuZ2V0UGl4ZWxGb3JUaWNrKHMtMSkpLzIsbCs9czx0P2M6LWMsbDxvLWF8fGw+cithKSkpcmV0dXJuIGx9ZnVuY3Rpb24gcWwoaSx0KXtZKGksZT0+e2NvbnN0IG49ZS5nYyxzPW4ubGVuZ3RoLzI7bGV0IG87aWYocz50KXtmb3Iobz0wO288czsrK28pZGVsZXRlIGUuZGF0YVtuW29dXTtuLnNwbGljZSgwLHMpfX0pfWZ1bmN0aW9uIHVlKGkpe3JldHVybiBpLmRyYXdUaWNrcz9pLnRpY2tMZW5ndGg6MH1mdW5jdGlvbiBDcyhpLHQpe2lmKCFpLmRpc3BsYXkpcmV0dXJuIDA7Y29uc3QgZT1udChpLmZvbnQsdCksbj1RKGkucGFkZGluZyk7cmV0dXJuKHooaS50ZXh0KT9pLnRleHQubGVuZ3RoOjEpKmUubGluZUhlaWdodCtuLmhlaWdodH1mdW5jdGlvbiBHbChpLHQpe3JldHVybiBIdChpLHtzY2FsZTp0LHR5cGU6InNjYWxlIn0pfWZ1bmN0aW9uIEpsKGksdCxlKXtyZXR1cm4gSHQoaSx7dGljazplLGluZGV4OnQsdHlwZToidGljayJ9KX1mdW5jdGlvbiBabChpLHQsZSl7bGV0IG49d2koaSk7cmV0dXJuKGUmJnQhPT0icmlnaHQifHwhZSYmdD09PSJyaWdodCIpJiYobj1VbChuKSksbn1mdW5jdGlvbiBRbChpLHQsZSxuKXtjb25zdHt0b3A6cyxsZWZ0Om8sYm90dG9tOnIscmlnaHQ6YSxjaGFydDpsfT1pLHtjaGFydEFyZWE6YyxzY2FsZXM6aH09bDtsZXQgZD0wLHUsZixnO2NvbnN0IHA9ci1zLG09YS1vO2lmKGkuaXNIb3Jpem9udGFsKCkpe2lmKGY9JChuLG8sYSksTyhlKSl7Y29uc3QgYj1PYmplY3Qua2V5cyhlKVswXSx4PWVbYl07Zz1oW2JdLmdldFBpeGVsRm9yVmFsdWUoeCkrcC10fWVsc2UgZT09PSJjZW50ZXIiP2c9KGMuYm90dG9tK2MudG9wKS8yK3AtdDpnPVBzKGksZSx0KTt1PWEtb31lbHNle2lmKE8oZSkpe2NvbnN0IGI9T2JqZWN0LmtleXMoZSlbMF0seD1lW2JdO2Y9aFtiXS5nZXRQaXhlbEZvclZhbHVlKHgpLW0rdH1lbHNlIGU9PT0iY2VudGVyIj9mPShjLmxlZnQrYy5yaWdodCkvMi1tK3Q6Zj1QcyhpLGUsdCk7Zz0kKG4scixzKSxkPWU9PT0ibGVmdCI/LUg6SH1yZXR1cm57dGl0bGVYOmYsdGl0bGVZOmcsbWF4V2lkdGg6dSxyb3RhdGlvbjpkfX1jbGFzcyBWdCBleHRlbmRzIFh7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmlkPXQuaWQsdGhpcy50eXBlPXQudHlwZSx0aGlzLm9wdGlvbnM9dm9pZCAwLHRoaXMuY3R4PXQuY3R4LHRoaXMuY2hhcnQ9dC5jaGFydCx0aGlzLnRvcD12b2lkIDAsdGhpcy5ib3R0b209dm9pZCAwLHRoaXMubGVmdD12b2lkIDAsdGhpcy5yaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5oZWlnaHQ9dm9pZCAwLHRoaXMuX21hcmdpbnM9e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfSx0aGlzLm1heFdpZHRoPXZvaWQgMCx0aGlzLm1heEhlaWdodD12b2lkIDAsdGhpcy5wYWRkaW5nVG9wPXZvaWQgMCx0aGlzLnBhZGRpbmdCb3R0b209dm9pZCAwLHRoaXMucGFkZGluZ0xlZnQ9dm9pZCAwLHRoaXMucGFkZGluZ1JpZ2h0PXZvaWQgMCx0aGlzLmF4aXM9dm9pZCAwLHRoaXMubGFiZWxSb3RhdGlvbj12b2lkIDAsdGhpcy5taW49dm9pZCAwLHRoaXMubWF4PXZvaWQgMCx0aGlzLl9yYW5nZT12b2lkIDAsdGhpcy50aWNrcz1bXSx0aGlzLl9ncmlkTGluZUl0ZW1zPW51bGwsdGhpcy5fbGFiZWxJdGVtcz1udWxsLHRoaXMuX2xhYmVsU2l6ZXM9bnVsbCx0aGlzLl9sZW5ndGg9MCx0aGlzLl9tYXhMZW5ndGg9MCx0aGlzLl9sb25nZXN0VGV4dENhY2hlPXt9LHRoaXMuX3N0YXJ0UGl4ZWw9dm9pZCAwLHRoaXMuX2VuZFBpeGVsPXZvaWQgMCx0aGlzLl9yZXZlcnNlUGl4ZWxzPSExLHRoaXMuX3VzZXJNYXg9dm9pZCAwLHRoaXMuX3VzZXJNaW49dm9pZCAwLHRoaXMuX3N1Z2dlc3RlZE1heD12b2lkIDAsdGhpcy5fc3VnZ2VzdGVkTWluPXZvaWQgMCx0aGlzLl90aWNrc0xlbmd0aD0wLHRoaXMuX2JvcmRlclZhbHVlPTAsdGhpcy5fY2FjaGU9e30sdGhpcy5fZGF0YUxpbWl0c0NhY2hlZD0hMSx0aGlzLiRjb250ZXh0PXZvaWQgMH1pbml0KHQpe3RoaXMub3B0aW9ucz10LnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpLHRoaXMuYXhpcz10LmF4aXMsdGhpcy5fdXNlck1pbj10aGlzLnBhcnNlKHQubWluKSx0aGlzLl91c2VyTWF4PXRoaXMucGFyc2UodC5tYXgpLHRoaXMuX3N1Z2dlc3RlZE1pbj10aGlzLnBhcnNlKHQuc3VnZ2VzdGVkTWluKSx0aGlzLl9zdWdnZXN0ZWRNYXg9dGhpcy5wYXJzZSh0LnN1Z2dlc3RlZE1heCl9cGFyc2UodCxlKXtyZXR1cm4gdH1nZXRVc2VyQm91bmRzKCl7bGV0e191c2VyTWluOnQsX3VzZXJNYXg6ZSxfc3VnZ2VzdGVkTWluOm4sX3N1Z2dlc3RlZE1heDpzfT10aGlzO3JldHVybiB0PWN0KHQsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSxlPWN0KGUsTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSxuPWN0KG4sTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSxzPWN0KHMsTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSx7bWluOmN0KHQsbiksbWF4OmN0KGUscyksbWluRGVmaW5lZDpVKHQpLG1heERlZmluZWQ6VShlKX19Z2V0TWluTWF4KHQpe2xldHttaW46ZSxtYXg6bixtaW5EZWZpbmVkOnMsbWF4RGVmaW5lZDpvfT10aGlzLmdldFVzZXJCb3VuZHMoKSxyO2lmKHMmJm8pcmV0dXJue21pbjplLG1heDpufTtjb25zdCBhPXRoaXMuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXMoKTtmb3IobGV0IGw9MCxjPWEubGVuZ3RoO2w8YzsrK2wpcj1hW2xdLmNvbnRyb2xsZXIuZ2V0TWluTWF4KHRoaXMsdCksc3x8KGU9TWF0aC5taW4oZSxyLm1pbikpLG98fChuPU1hdGgubWF4KG4sci5tYXgpKTtyZXR1cm4gZT1vJiZlPm4/bjplLG49cyYmZT5uP2U6bix7bWluOmN0KGUsY3QobixlKSksbWF4OmN0KG4sY3QoZSxuKSl9fWdldFBhZGRpbmcoKXtyZXR1cm57bGVmdDp0aGlzLnBhZGRpbmdMZWZ0fHwwLHRvcDp0aGlzLnBhZGRpbmdUb3B8fDAscmlnaHQ6dGhpcy5wYWRkaW5nUmlnaHR8fDAsYm90dG9tOnRoaXMucGFkZGluZ0JvdHRvbXx8MH19Z2V0VGlja3MoKXtyZXR1cm4gdGhpcy50aWNrc31nZXRMYWJlbHMoKXtjb25zdCB0PXRoaXMuY2hhcnQuZGF0YTtyZXR1cm4gdGhpcy5vcHRpb25zLmxhYmVsc3x8KHRoaXMuaXNIb3Jpem9udGFsKCk/dC54TGFiZWxzOnQueUxhYmVscyl8fHQubGFiZWxzfHxbXX1nZXRMYWJlbEl0ZW1zKHQ9dGhpcy5jaGFydC5jaGFydEFyZWEpe3JldHVybiB0aGlzLl9sYWJlbEl0ZW1zfHwodGhpcy5fbGFiZWxJdGVtcz10aGlzLl9jb21wdXRlTGFiZWxJdGVtcyh0KSl9YmVmb3JlTGF5b3V0KCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fZGF0YUxpbWl0c0NhY2hlZD0hMX1iZWZvcmVVcGRhdGUoKXtMKHRoaXMub3B0aW9ucy5iZWZvcmVVcGRhdGUsW3RoaXNdKX11cGRhdGUodCxlLG4pe2NvbnN0e2JlZ2luQXRaZXJvOnMsZ3JhY2U6byx0aWNrczpyfT10aGlzLm9wdGlvbnMsYT1yLnNhbXBsZVNpemU7dGhpcy5iZWZvcmVVcGRhdGUoKSx0aGlzLm1heFdpZHRoPXQsdGhpcy5tYXhIZWlnaHQ9ZSx0aGlzLl9tYXJnaW5zPW49T2JqZWN0LmFzc2lnbih7bGVmdDowLHJpZ2h0OjAsdG9wOjAsYm90dG9tOjB9LG4pLHRoaXMudGlja3M9bnVsbCx0aGlzLl9sYWJlbFNpemVzPW51bGwsdGhpcy5fZ3JpZExpbmVJdGVtcz1udWxsLHRoaXMuX2xhYmVsSXRlbXM9bnVsbCx0aGlzLmJlZm9yZVNldERpbWVuc2lvbnMoKSx0aGlzLnNldERpbWVuc2lvbnMoKSx0aGlzLmFmdGVyU2V0RGltZW5zaW9ucygpLHRoaXMuX21heExlbmd0aD10aGlzLmlzSG9yaXpvbnRhbCgpP3RoaXMud2lkdGgrbi5sZWZ0K24ucmlnaHQ6dGhpcy5oZWlnaHQrbi50b3Arbi5ib3R0b20sdGhpcy5fZGF0YUxpbWl0c0NhY2hlZHx8KHRoaXMuYmVmb3JlRGF0YUxpbWl0cygpLHRoaXMuZGV0ZXJtaW5lRGF0YUxpbWl0cygpLHRoaXMuYWZ0ZXJEYXRhTGltaXRzKCksdGhpcy5fcmFuZ2U9b2EodGhpcyxvLHMpLHRoaXMuX2RhdGFMaW1pdHNDYWNoZWQ9ITApLHRoaXMuYmVmb3JlQnVpbGRUaWNrcygpLHRoaXMudGlja3M9dGhpcy5idWlsZFRpY2tzKCl8fFtdLHRoaXMuYWZ0ZXJCdWlsZFRpY2tzKCk7Y29uc3QgbD1hPHRoaXMudGlja3MubGVuZ3RoO3RoaXMuX2NvbnZlcnRUaWNrc1RvTGFiZWxzKGw/T3ModGhpcy50aWNrcyxhKTp0aGlzLnRpY2tzKSx0aGlzLmNvbmZpZ3VyZSgpLHRoaXMuYmVmb3JlQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpLHRoaXMuY2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpLHRoaXMuYWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCksci5kaXNwbGF5JiYoci5hdXRvU2tpcHx8ci5zb3VyY2U9PT0iYXV0byIpJiYodGhpcy50aWNrcz1qbCh0aGlzLHRoaXMudGlja3MpLHRoaXMuX2xhYmVsU2l6ZXM9bnVsbCx0aGlzLmFmdGVyQXV0b1NraXAoKSksbCYmdGhpcy5fY29udmVydFRpY2tzVG9MYWJlbHModGhpcy50aWNrcyksdGhpcy5iZWZvcmVGaXQoKSx0aGlzLmZpdCgpLHRoaXMuYWZ0ZXJGaXQoKSx0aGlzLmFmdGVyVXBkYXRlKCl9Y29uZmlndXJlKCl7bGV0IHQ9dGhpcy5vcHRpb25zLnJldmVyc2UsZSxuO3RoaXMuaXNIb3Jpem9udGFsKCk/KGU9dGhpcy5sZWZ0LG49dGhpcy5yaWdodCk6KGU9dGhpcy50b3Asbj10aGlzLmJvdHRvbSx0PSF0KSx0aGlzLl9zdGFydFBpeGVsPWUsdGhpcy5fZW5kUGl4ZWw9bix0aGlzLl9yZXZlcnNlUGl4ZWxzPXQsdGhpcy5fbGVuZ3RoPW4tZSx0aGlzLl9hbGlnblRvUGl4ZWxzPXRoaXMub3B0aW9ucy5hbGlnblRvUGl4ZWxzfWFmdGVyVXBkYXRlKCl7TCh0aGlzLm9wdGlvbnMuYWZ0ZXJVcGRhdGUsW3RoaXNdKX1iZWZvcmVTZXREaW1lbnNpb25zKCl7TCh0aGlzLm9wdGlvbnMuYmVmb3JlU2V0RGltZW5zaW9ucyxbdGhpc10pfXNldERpbWVuc2lvbnMoKXt0aGlzLmlzSG9yaXpvbnRhbCgpPyh0aGlzLndpZHRoPXRoaXMubWF4V2lkdGgsdGhpcy5sZWZ0PTAsdGhpcy5yaWdodD10aGlzLndpZHRoKToodGhpcy5oZWlnaHQ9dGhpcy5tYXhIZWlnaHQsdGhpcy50b3A9MCx0aGlzLmJvdHRvbT10aGlzLmhlaWdodCksdGhpcy5wYWRkaW5nTGVmdD0wLHRoaXMucGFkZGluZ1RvcD0wLHRoaXMucGFkZGluZ1JpZ2h0PTAsdGhpcy5wYWRkaW5nQm90dG9tPTB9YWZ0ZXJTZXREaW1lbnNpb25zKCl7TCh0aGlzLm9wdGlvbnMuYWZ0ZXJTZXREaW1lbnNpb25zLFt0aGlzXSl9X2NhbGxIb29rcyh0KXt0aGlzLmNoYXJ0Lm5vdGlmeVBsdWdpbnModCx0aGlzLmdldENvbnRleHQoKSksTCh0aGlzLm9wdGlvbnNbdF0sW3RoaXNdKX1iZWZvcmVEYXRhTGltaXRzKCl7dGhpcy5fY2FsbEhvb2tzKCJiZWZvcmVEYXRhTGltaXRzIil9ZGV0ZXJtaW5lRGF0YUxpbWl0cygpe31hZnRlckRhdGFMaW1pdHMoKXt0aGlzLl9jYWxsSG9va3MoImFmdGVyRGF0YUxpbWl0cyIpfWJlZm9yZUJ1aWxkVGlja3MoKXt0aGlzLl9jYWxsSG9va3MoImJlZm9yZUJ1aWxkVGlja3MiKX1idWlsZFRpY2tzKCl7cmV0dXJuW119YWZ0ZXJCdWlsZFRpY2tzKCl7dGhpcy5fY2FsbEhvb2tzKCJhZnRlckJ1aWxkVGlja3MiKX1iZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24oKXtMKHRoaXMub3B0aW9ucy5iZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24sW3RoaXNdKX1nZW5lcmF0ZVRpY2tMYWJlbHModCl7Y29uc3QgZT10aGlzLm9wdGlvbnMudGlja3M7bGV0IG4scyxvO2ZvcihuPTAscz10Lmxlbmd0aDtuPHM7bisrKW89dFtuXSxvLmxhYmVsPUwoZS5jYWxsYmFjayxbby52YWx1ZSxuLHRdLHRoaXMpfWFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uKCl7TCh0aGlzLm9wdGlvbnMuYWZ0ZXJUaWNrVG9MYWJlbENvbnZlcnNpb24sW3RoaXNdKX1iZWZvcmVDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCl7TCh0aGlzLm9wdGlvbnMuYmVmb3JlQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbixbdGhpc10pfWNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXQudGlja3Msbj1Ecyh0aGlzLnRpY2tzLmxlbmd0aCx0LnRpY2tzLm1heFRpY2tzTGltaXQpLHM9ZS5taW5Sb3RhdGlvbnx8MCxvPWUubWF4Um90YXRpb247bGV0IHI9cyxhLGwsYztpZighdGhpcy5faXNWaXNpYmxlKCl8fCFlLmRpc3BsYXl8fHM+PW98fG48PTF8fCF0aGlzLmlzSG9yaXpvbnRhbCgpKXt0aGlzLmxhYmVsUm90YXRpb249cztyZXR1cm59Y29uc3QgaD10aGlzLl9nZXRMYWJlbFNpemVzKCksZD1oLndpZGVzdC53aWR0aCx1PWguaGlnaGVzdC5oZWlnaHQsZj1hdCh0aGlzLmNoYXJ0LndpZHRoLWQsMCx0aGlzLm1heFdpZHRoKTthPXQub2Zmc2V0P3RoaXMubWF4V2lkdGgvbjpmLyhuLTEpLGQrNj5hJiYoYT1mLyhuLSh0Lm9mZnNldD8uNToxKSksbD10aGlzLm1heEhlaWdodC11ZSh0LmdyaWQpLWUucGFkZGluZy1Dcyh0LnRpdGxlLHRoaXMuY2hhcnQub3B0aW9ucy5mb250KSxjPU1hdGguc3FydChkKmQrdSp1KSxyPVNuKE1hdGgubWluKE1hdGguYXNpbihhdCgoaC5oaWdoZXN0LmhlaWdodCs2KS9hLC0xLDEpKSxNYXRoLmFzaW4oYXQobC9jLC0xLDEpKS1NYXRoLmFzaW4oYXQodS9jLC0xLDEpKSkpLHI9TWF0aC5tYXgocyxNYXRoLm1pbihvLHIpKSksdGhpcy5sYWJlbFJvdGF0aW9uPXJ9YWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCl7TCh0aGlzLm9wdGlvbnMuYWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uLFt0aGlzXSl9YWZ0ZXJBdXRvU2tpcCgpe31iZWZvcmVGaXQoKXtMKHRoaXMub3B0aW9ucy5iZWZvcmVGaXQsW3RoaXNdKX1maXQoKXtjb25zdCB0PXt3aWR0aDowLGhlaWdodDowfSx7Y2hhcnQ6ZSxvcHRpb25zOnt0aWNrczpuLHRpdGxlOnMsZ3JpZDpvfX09dGhpcyxyPXRoaXMuX2lzVmlzaWJsZSgpLGE9dGhpcy5pc0hvcml6b250YWwoKTtpZihyKXtjb25zdCBsPUNzKHMsZS5vcHRpb25zLmZvbnQpO2lmKGE/KHQud2lkdGg9dGhpcy5tYXhXaWR0aCx0LmhlaWdodD11ZShvKStsKToodC5oZWlnaHQ9dGhpcy5tYXhIZWlnaHQsdC53aWR0aD11ZShvKStsKSxuLmRpc3BsYXkmJnRoaXMudGlja3MubGVuZ3RoKXtjb25zdHtmaXJzdDpjLGxhc3Q6aCx3aWRlc3Q6ZCxoaWdoZXN0OnV9PXRoaXMuX2dldExhYmVsU2l6ZXMoKSxmPW4ucGFkZGluZyoyLGc9Vyh0aGlzLmxhYmVsUm90YXRpb24pLHA9TWF0aC5jb3MoZyksbT1NYXRoLnNpbihnKTtpZihhKXtjb25zdCBiPW4ubWlycm9yPzA6bSpkLndpZHRoK3AqdS5oZWlnaHQ7dC5oZWlnaHQ9TWF0aC5taW4odGhpcy5tYXhIZWlnaHQsdC5oZWlnaHQrYitmKX1lbHNle2NvbnN0IGI9bi5taXJyb3I/MDpwKmQud2lkdGgrbSp1LmhlaWdodDt0LndpZHRoPU1hdGgubWluKHRoaXMubWF4V2lkdGgsdC53aWR0aCtiK2YpfXRoaXMuX2NhbGN1bGF0ZVBhZGRpbmcoYyxoLG0scCl9fXRoaXMuX2hhbmRsZU1hcmdpbnMoKSxhPyh0aGlzLndpZHRoPXRoaXMuX2xlbmd0aD1lLndpZHRoLXRoaXMuX21hcmdpbnMubGVmdC10aGlzLl9tYXJnaW5zLnJpZ2h0LHRoaXMuaGVpZ2h0PXQuaGVpZ2h0KToodGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuX2xlbmd0aD1lLmhlaWdodC10aGlzLl9tYXJnaW5zLnRvcC10aGlzLl9tYXJnaW5zLmJvdHRvbSl9X2NhbGN1bGF0ZVBhZGRpbmcodCxlLG4scyl7Y29uc3R7dGlja3M6e2FsaWduOm8scGFkZGluZzpyfSxwb3NpdGlvbjphfT10aGlzLm9wdGlvbnMsbD10aGlzLmxhYmVsUm90YXRpb24hPT0wLGM9YSE9PSJ0b3AiJiZ0aGlzLmF4aXM9PT0ieCI7aWYodGhpcy5pc0hvcml6b250YWwoKSl7Y29uc3QgaD10aGlzLmdldFBpeGVsRm9yVGljaygwKS10aGlzLmxlZnQsZD10aGlzLnJpZ2h0LXRoaXMuZ2V0UGl4ZWxGb3JUaWNrKHRoaXMudGlja3MubGVuZ3RoLTEpO2xldCB1PTAsZj0wO2w/Yz8odT1zKnQud2lkdGgsZj1uKmUuaGVpZ2h0KToodT1uKnQuaGVpZ2h0LGY9cyplLndpZHRoKTpvPT09InN0YXJ0Ij9mPWUud2lkdGg6bz09PSJlbmQiP3U9dC53aWR0aDpvIT09ImlubmVyIiYmKHU9dC53aWR0aC8yLGY9ZS53aWR0aC8yKSx0aGlzLnBhZGRpbmdMZWZ0PU1hdGgubWF4KCh1LWgrcikqdGhpcy53aWR0aC8odGhpcy53aWR0aC1oKSwwKSx0aGlzLnBhZGRpbmdSaWdodD1NYXRoLm1heCgoZi1kK3IpKnRoaXMud2lkdGgvKHRoaXMud2lkdGgtZCksMCl9ZWxzZXtsZXQgaD1lLmhlaWdodC8yLGQ9dC5oZWlnaHQvMjtvPT09InN0YXJ0Ij8oaD0wLGQ9dC5oZWlnaHQpOm89PT0iZW5kIiYmKGg9ZS5oZWlnaHQsZD0wKSx0aGlzLnBhZGRpbmdUb3A9aCtyLHRoaXMucGFkZGluZ0JvdHRvbT1kK3J9fV9oYW5kbGVNYXJnaW5zKCl7dGhpcy5fbWFyZ2lucyYmKHRoaXMuX21hcmdpbnMubGVmdD1NYXRoLm1heCh0aGlzLnBhZGRpbmdMZWZ0LHRoaXMuX21hcmdpbnMubGVmdCksdGhpcy5fbWFyZ2lucy50b3A9TWF0aC5tYXgodGhpcy5wYWRkaW5nVG9wLHRoaXMuX21hcmdpbnMudG9wKSx0aGlzLl9tYXJnaW5zLnJpZ2h0PU1hdGgubWF4KHRoaXMucGFkZGluZ1JpZ2h0LHRoaXMuX21hcmdpbnMucmlnaHQpLHRoaXMuX21hcmdpbnMuYm90dG9tPU1hdGgubWF4KHRoaXMucGFkZGluZ0JvdHRvbSx0aGlzLl9tYXJnaW5zLmJvdHRvbSkpfWFmdGVyRml0KCl7TCh0aGlzLm9wdGlvbnMuYWZ0ZXJGaXQsW3RoaXNdKX1pc0hvcml6b250YWwoKXtjb25zdHtheGlzOnQscG9zaXRpb246ZX09dGhpcy5vcHRpb25zO3JldHVybiBlPT09InRvcCJ8fGU9PT0iYm90dG9tInx8dD09PSJ4In1pc0Z1bGxTaXplKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5mdWxsU2l6ZX1fY29udmVydFRpY2tzVG9MYWJlbHModCl7dGhpcy5iZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24oKSx0aGlzLmdlbmVyYXRlVGlja0xhYmVscyh0KTtsZXQgZSxuO2ZvcihlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKUkodFtlXS5sYWJlbCkmJih0LnNwbGljZShlLDEpLG4tLSxlLS0pO3RoaXMuYWZ0ZXJUaWNrVG9MYWJlbENvbnZlcnNpb24oKX1fZ2V0TGFiZWxTaXplcygpe2xldCB0PXRoaXMuX2xhYmVsU2l6ZXM7aWYoIXQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnRpY2tzLnNhbXBsZVNpemU7bGV0IG49dGhpcy50aWNrcztlPG4ubGVuZ3RoJiYobj1PcyhuLGUpKSx0aGlzLl9sYWJlbFNpemVzPXQ9dGhpcy5fY29tcHV0ZUxhYmVsU2l6ZXMobixuLmxlbmd0aCx0aGlzLm9wdGlvbnMudGlja3MubWF4VGlja3NMaW1pdCl9cmV0dXJuIHR9X2NvbXB1dGVMYWJlbFNpemVzKHQsZSxuKXtjb25zdHtjdHg6cyxfbG9uZ2VzdFRleHRDYWNoZTpvfT10aGlzLHI9W10sYT1bXSxsPU1hdGguZmxvb3IoZS9EcyhlLG4pKTtsZXQgYz0wLGg9MCxkLHUsZixnLHAsbSxiLHgseSxNLF87Zm9yKGQ9MDtkPGU7ZCs9bCl7aWYoZz10W2RdLmxhYmVsLHA9dGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucyhkKSxzLmZvbnQ9bT1wLnN0cmluZyxiPW9bbV09b1ttXXx8e2RhdGE6e30sZ2M6W119LHg9cC5saW5lSGVpZ2h0LHk9TT0wLCFJKGcpJiYheihnKSl5PVduKHMsYi5kYXRhLGIuZ2MseSxnKSxNPXg7ZWxzZSBpZih6KGcpKWZvcih1PTAsZj1nLmxlbmd0aDt1PGY7Kyt1KV89Z1t1XSwhSShfKSYmIXooXykmJih5PVduKHMsYi5kYXRhLGIuZ2MseSxfKSxNKz14KTtyLnB1c2goeSksYS5wdXNoKE0pLGM9TWF0aC5tYXgoeSxjKSxoPU1hdGgubWF4KE0saCl9cWwobyxlKTtjb25zdCB2PXIuaW5kZXhPZihjKSxrPWEuaW5kZXhPZihoKSx3PUQ9Pih7d2lkdGg6cltEXXx8MCxoZWlnaHQ6YVtEXXx8MH0pO3JldHVybntmaXJzdDp3KDApLGxhc3Q6dyhlLTEpLHdpZGVzdDp3KHYpLGhpZ2hlc3Q6dyhrKSx3aWR0aHM6cixoZWlnaHRzOmF9fWdldExhYmVsRm9yVmFsdWUodCl7cmV0dXJuIHR9Z2V0UGl4ZWxGb3JWYWx1ZSh0LGUpe3JldHVybiBOYU59Z2V0VmFsdWVGb3JQaXhlbCh0KXt9Z2V0UGl4ZWxGb3JUaWNrKHQpe2NvbnN0IGU9dGhpcy50aWNrcztyZXR1cm4gdDwwfHx0PmUubGVuZ3RoLTE/bnVsbDp0aGlzLmdldFBpeGVsRm9yVmFsdWUoZVt0XS52YWx1ZSl9Z2V0UGl4ZWxGb3JEZWNpbWFsKHQpe3RoaXMuX3JldmVyc2VQaXhlbHMmJih0PTEtdCk7Y29uc3QgZT10aGlzLl9zdGFydFBpeGVsK3QqdGhpcy5fbGVuZ3RoO3JldHVybiBScih0aGlzLl9hbGlnblRvUGl4ZWxzP0R0KHRoaXMuY2hhcnQsZSwwKTplKX1nZXREZWNpbWFsRm9yUGl4ZWwodCl7Y29uc3QgZT0odC10aGlzLl9zdGFydFBpeGVsKS90aGlzLl9sZW5ndGg7cmV0dXJuIHRoaXMuX3JldmVyc2VQaXhlbHM/MS1lOmV9Z2V0QmFzZVBpeGVsKCl7cmV0dXJuIHRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldEJhc2VWYWx1ZSgpKX1nZXRCYXNlVmFsdWUoKXtjb25zdHttaW46dCxtYXg6ZX09dGhpcztyZXR1cm4gdDwwJiZlPDA/ZTp0PjAmJmU+MD90OjB9Z2V0Q29udGV4dCh0KXtjb25zdCBlPXRoaXMudGlja3N8fFtdO2lmKHQ+PTAmJnQ8ZS5sZW5ndGgpe2NvbnN0IG49ZVt0XTtyZXR1cm4gbi4kY29udGV4dHx8KG4uJGNvbnRleHQ9SmwodGhpcy5nZXRDb250ZXh0KCksdCxuKSl9cmV0dXJuIHRoaXMuJGNvbnRleHR8fCh0aGlzLiRjb250ZXh0PUdsKHRoaXMuY2hhcnQuZ2V0Q29udGV4dCgpLHRoaXMpKX1fdGlja1NpemUoKXtjb25zdCB0PXRoaXMub3B0aW9ucy50aWNrcyxlPVcodGhpcy5sYWJlbFJvdGF0aW9uKSxuPU1hdGguYWJzKE1hdGguY29zKGUpKSxzPU1hdGguYWJzKE1hdGguc2luKGUpKSxvPXRoaXMuX2dldExhYmVsU2l6ZXMoKSxyPXQuYXV0b1NraXBQYWRkaW5nfHwwLGE9bz9vLndpZGVzdC53aWR0aCtyOjAsbD1vP28uaGlnaGVzdC5oZWlnaHQrcjowO3JldHVybiB0aGlzLmlzSG9yaXpvbnRhbCgpP2wqbj5hKnM/YS9uOmwvczpsKnM8YSpuP2wvbjphL3N9X2lzVmlzaWJsZSgpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLmRpc3BsYXk7cmV0dXJuIHQhPT0iYXV0byI/ISF0OnRoaXMuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXMoKS5sZW5ndGg+MH1fY29tcHV0ZUdyaWRMaW5lSXRlbXModCl7Y29uc3QgZT10aGlzLmF4aXMsbj10aGlzLmNoYXJ0LHM9dGhpcy5vcHRpb25zLHtncmlkOm8scG9zaXRpb246cixib3JkZXI6YX09cyxsPW8ub2Zmc2V0LGM9dGhpcy5pc0hvcml6b250YWwoKSxkPXRoaXMudGlja3MubGVuZ3RoKyhsPzE6MCksdT11ZShvKSxmPVtdLGc9YS5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKSxwPWcuZGlzcGxheT9nLndpZHRoOjAsbT1wLzIsYj1mdW5jdGlvbihOKXtyZXR1cm4gRHQobixOLHApfTtsZXQgeCx5LE0sXyx2LGssdyxELEEsQyxSLFo7aWYocj09PSJ0b3AiKXg9Yih0aGlzLmJvdHRvbSksaz10aGlzLmJvdHRvbS11LEQ9eC1tLEM9Yih0LnRvcCkrbSxaPXQuYm90dG9tO2Vsc2UgaWYocj09PSJib3R0b20iKXg9Yih0aGlzLnRvcCksQz10LnRvcCxaPWIodC5ib3R0b20pLW0saz14K20sRD10aGlzLnRvcCt1O2Vsc2UgaWYocj09PSJsZWZ0Iil4PWIodGhpcy5yaWdodCksdj10aGlzLnJpZ2h0LXUsdz14LW0sQT1iKHQubGVmdCkrbSxSPXQucmlnaHQ7ZWxzZSBpZihyPT09InJpZ2h0Iil4PWIodGhpcy5sZWZ0KSxBPXQubGVmdCxSPWIodC5yaWdodCktbSx2PXgrbSx3PXRoaXMubGVmdCt1O2Vsc2UgaWYoZT09PSJ4Iil7aWYocj09PSJjZW50ZXIiKXg9YigodC50b3ArdC5ib3R0b20pLzIrLjUpO2Vsc2UgaWYoTyhyKSl7Y29uc3QgTj1PYmplY3Qua2V5cyhyKVswXSxvdD1yW05dO3g9Yih0aGlzLmNoYXJ0LnNjYWxlc1tOXS5nZXRQaXhlbEZvclZhbHVlKG90KSl9Qz10LnRvcCxaPXQuYm90dG9tLGs9eCttLEQ9ayt1fWVsc2UgaWYoZT09PSJ5Iil7aWYocj09PSJjZW50ZXIiKXg9YigodC5sZWZ0K3QucmlnaHQpLzIpO2Vsc2UgaWYoTyhyKSl7Y29uc3QgTj1PYmplY3Qua2V5cyhyKVswXSxvdD1yW05dO3g9Yih0aGlzLmNoYXJ0LnNjYWxlc1tOXS5nZXRQaXhlbEZvclZhbHVlKG90KSl9dj14LW0sdz12LXUsQT10LmxlZnQsUj10LnJpZ2h0fWNvbnN0IHV0PVAocy50aWNrcy5tYXhUaWNrc0xpbWl0LGQpLEY9TWF0aC5tYXgoMSxNYXRoLmNlaWwoZC91dCkpO2Zvcih5PTA7eTxkO3krPUYpe2NvbnN0IE49dGhpcy5nZXRDb250ZXh0KHkpLG90PW8uc2V0Q29udGV4dChOKSxsaT1hLnNldENvbnRleHQoTiksY2k9b3QubGluZVdpZHRoLEt0PW90LmNvbG9yLGhpPWxpLmRhc2h8fFtdLHF0PWxpLmRhc2hPZmZzZXQsd2U9b3QudGlja1dpZHRoLEZ0PW90LnRpY2tDb2xvcixNZT1vdC50aWNrQm9yZGVyRGFzaHx8W10sV3Q9b3QudGlja0JvcmRlckRhc2hPZmZzZXQ7TT1LbCh0aGlzLHksbCksTSE9PXZvaWQgMCYmKF89RHQobixNLGNpKSxjP3Y9dz1BPVI9XzprPUQ9Qz1aPV8sZi5wdXNoKHt0eDE6dix0eTE6ayx0eDI6dyx0eTI6RCx4MTpBLHkxOkMseDI6Uix5MjpaLHdpZHRoOmNpLGNvbG9yOkt0LGJvcmRlckRhc2g6aGksYm9yZGVyRGFzaE9mZnNldDpxdCx0aWNrV2lkdGg6d2UsdGlja0NvbG9yOkZ0LHRpY2tCb3JkZXJEYXNoOk1lLHRpY2tCb3JkZXJEYXNoT2Zmc2V0Old0fSkpfXJldHVybiB0aGlzLl90aWNrc0xlbmd0aD1kLHRoaXMuX2JvcmRlclZhbHVlPXgsZn1fY29tcHV0ZUxhYmVsSXRlbXModCl7Y29uc3QgZT10aGlzLmF4aXMsbj10aGlzLm9wdGlvbnMse3Bvc2l0aW9uOnMsdGlja3M6b309bixyPXRoaXMuaXNIb3Jpem9udGFsKCksYT10aGlzLnRpY2tzLHthbGlnbjpsLGNyb3NzQWxpZ246YyxwYWRkaW5nOmgsbWlycm9yOmR9PW8sdT11ZShuLmdyaWQpLGY9dStoLGc9ZD8taDpmLHA9LVcodGhpcy5sYWJlbFJvdGF0aW9uKSxtPVtdO2xldCBiLHgseSxNLF8sdixrLHcsRCxBLEMsUixaPSJtaWRkbGUiO2lmKHM9PT0idG9wIil2PXRoaXMuYm90dG9tLWcsaz10aGlzLl9nZXRYQXhpc0xhYmVsQWxpZ25tZW50KCk7ZWxzZSBpZihzPT09ImJvdHRvbSIpdj10aGlzLnRvcCtnLGs9dGhpcy5fZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpO2Vsc2UgaWYocz09PSJsZWZ0Iil7Y29uc3QgRj10aGlzLl9nZXRZQXhpc0xhYmVsQWxpZ25tZW50KHUpO2s9Ri50ZXh0QWxpZ24sXz1GLnh9ZWxzZSBpZihzPT09InJpZ2h0Iil7Y29uc3QgRj10aGlzLl9nZXRZQXhpc0xhYmVsQWxpZ25tZW50KHUpO2s9Ri50ZXh0QWxpZ24sXz1GLnh9ZWxzZSBpZihlPT09IngiKXtpZihzPT09ImNlbnRlciIpdj0odC50b3ArdC5ib3R0b20pLzIrZjtlbHNlIGlmKE8ocykpe2NvbnN0IEY9T2JqZWN0LmtleXMocylbMF0sTj1zW0ZdO3Y9dGhpcy5jaGFydC5zY2FsZXNbRl0uZ2V0UGl4ZWxGb3JWYWx1ZShOKStmfWs9dGhpcy5fZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpfWVsc2UgaWYoZT09PSJ5Iil7aWYocz09PSJjZW50ZXIiKV89KHQubGVmdCt0LnJpZ2h0KS8yLWY7ZWxzZSBpZihPKHMpKXtjb25zdCBGPU9iamVjdC5rZXlzKHMpWzBdLE49c1tGXTtfPXRoaXMuY2hhcnQuc2NhbGVzW0ZdLmdldFBpeGVsRm9yVmFsdWUoTil9az10aGlzLl9nZXRZQXhpc0xhYmVsQWxpZ25tZW50KHUpLnRleHRBbGlnbn1lPT09InkiJiYobD09PSJzdGFydCI/Wj0idG9wIjpsPT09ImVuZCImJihaPSJib3R0b20iKSk7Y29uc3QgdXQ9dGhpcy5fZ2V0TGFiZWxTaXplcygpO2ZvcihiPTAseD1hLmxlbmd0aDtiPHg7KytiKXt5PWFbYl0sTT15LmxhYmVsO2NvbnN0IEY9by5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChiKSk7dz10aGlzLmdldFBpeGVsRm9yVGljayhiKStvLmxhYmVsT2Zmc2V0LEQ9dGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucyhiKSxBPUQubGluZUhlaWdodCxDPXooTSk/TS5sZW5ndGg6MTtjb25zdCBOPUMvMixvdD1GLmNvbG9yLGxpPUYudGV4dFN0cm9rZUNvbG9yLGNpPUYudGV4dFN0cm9rZVdpZHRoO2xldCBLdD1rO3I/KF89dyxrPT09ImlubmVyIiYmKGI9PT14LTE/S3Q9dGhpcy5vcHRpb25zLnJldmVyc2U/ImxlZnQiOiJyaWdodCI6Yj09PTA/S3Q9dGhpcy5vcHRpb25zLnJldmVyc2U/InJpZ2h0IjoibGVmdCI6S3Q9ImNlbnRlciIpLHM9PT0idG9wIj9jPT09Im5lYXIifHxwIT09MD9SPS1DKkErQS8yOmM9PT0iY2VudGVyIj9SPS11dC5oaWdoZXN0LmhlaWdodC8yLU4qQStBOlI9LXV0LmhpZ2hlc3QuaGVpZ2h0K0EvMjpjPT09Im5lYXIifHxwIT09MD9SPUEvMjpjPT09ImNlbnRlciI/Uj11dC5oaWdoZXN0LmhlaWdodC8yLU4qQTpSPXV0LmhpZ2hlc3QuaGVpZ2h0LUMqQSxkJiYoUio9LTEpLHAhPT0wJiYhRi5zaG93TGFiZWxCYWNrZHJvcCYmKF8rPUEvMipNYXRoLnNpbihwKSkpOih2PXcsUj0oMS1DKSpBLzIpO2xldCBoaTtpZihGLnNob3dMYWJlbEJhY2tkcm9wKXtjb25zdCBxdD1RKEYuYmFja2Ryb3BQYWRkaW5nKSx3ZT11dC5oZWlnaHRzW2JdLEZ0PXV0LndpZHRoc1tiXTtsZXQgTWU9Ui1xdC50b3AsV3Q9MC1xdC5sZWZ0O3N3aXRjaChaKXtjYXNlIm1pZGRsZSI6TWUtPXdlLzI7YnJlYWs7Y2FzZSJib3R0b20iOk1lLT13ZTticmVha31zd2l0Y2goayl7Y2FzZSJjZW50ZXIiOld0LT1GdC8yO2JyZWFrO2Nhc2UicmlnaHQiOld0LT1GdDticmVhaztjYXNlImlubmVyIjpiPT09eC0xP1d0LT1GdDpiPjAmJihXdC09RnQvMik7YnJlYWt9aGk9e2xlZnQ6V3QsdG9wOk1lLHdpZHRoOkZ0K3F0LndpZHRoLGhlaWdodDp3ZStxdC5oZWlnaHQsY29sb3I6Ri5iYWNrZHJvcENvbG9yfX1tLnB1c2goe2xhYmVsOk0sZm9udDpELHRleHRPZmZzZXQ6UixvcHRpb25zOntyb3RhdGlvbjpwLGNvbG9yOm90LHN0cm9rZUNvbG9yOmxpLHN0cm9rZVdpZHRoOmNpLHRleHRBbGlnbjpLdCx0ZXh0QmFzZWxpbmU6Wix0cmFuc2xhdGlvbjpbXyx2XSxiYWNrZHJvcDpoaX19KX1yZXR1cm4gbX1fZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpe2NvbnN0e3Bvc2l0aW9uOnQsdGlja3M6ZX09dGhpcy5vcHRpb25zO2lmKC1XKHRoaXMubGFiZWxSb3RhdGlvbikpcmV0dXJuIHQ9PT0idG9wIj8ibGVmdCI6InJpZ2h0IjtsZXQgcz0iY2VudGVyIjtyZXR1cm4gZS5hbGlnbj09PSJzdGFydCI/cz0ibGVmdCI6ZS5hbGlnbj09PSJlbmQiP3M9InJpZ2h0IjplLmFsaWduPT09ImlubmVyIiYmKHM9ImlubmVyIiksc31fZ2V0WUF4aXNMYWJlbEFsaWdubWVudCh0KXtjb25zdHtwb3NpdGlvbjplLHRpY2tzOntjcm9zc0FsaWduOm4sbWlycm9yOnMscGFkZGluZzpvfX09dGhpcy5vcHRpb25zLHI9dGhpcy5fZ2V0TGFiZWxTaXplcygpLGE9dCtvLGw9ci53aWRlc3Qud2lkdGg7bGV0IGMsaDtyZXR1cm4gZT09PSJsZWZ0Ij9zPyhoPXRoaXMucmlnaHQrbyxuPT09Im5lYXIiP2M9ImxlZnQiOm49PT0iY2VudGVyIj8oYz0iY2VudGVyIixoKz1sLzIpOihjPSJyaWdodCIsaCs9bCkpOihoPXRoaXMucmlnaHQtYSxuPT09Im5lYXIiP2M9InJpZ2h0IjpuPT09ImNlbnRlciI/KGM9ImNlbnRlciIsaC09bC8yKTooYz0ibGVmdCIsaD10aGlzLmxlZnQpKTplPT09InJpZ2h0Ij9zPyhoPXRoaXMubGVmdCtvLG49PT0ibmVhciI/Yz0icmlnaHQiOm49PT0iY2VudGVyIj8oYz0iY2VudGVyIixoLT1sLzIpOihjPSJsZWZ0IixoLT1sKSk6KGg9dGhpcy5sZWZ0K2Esbj09PSJuZWFyIj9jPSJsZWZ0IjpuPT09ImNlbnRlciI/KGM9ImNlbnRlciIsaCs9bC8yKTooYz0icmlnaHQiLGg9dGhpcy5yaWdodCkpOmM9InJpZ2h0Iix7dGV4dEFsaWduOmMseDpofX1fY29tcHV0ZUxhYmVsQXJlYSgpe2lmKHRoaXMub3B0aW9ucy50aWNrcy5taXJyb3IpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jaGFydCxlPXRoaXMub3B0aW9ucy5wb3NpdGlvbjtpZihlPT09ImxlZnQifHxlPT09InJpZ2h0IilyZXR1cm57dG9wOjAsbGVmdDp0aGlzLmxlZnQsYm90dG9tOnQuaGVpZ2h0LHJpZ2h0OnRoaXMucmlnaHR9O2lmKGU9PT0idG9wInx8ZT09PSJib3R0b20iKXJldHVybnt0b3A6dGhpcy50b3AsbGVmdDowLGJvdHRvbTp0aGlzLmJvdHRvbSxyaWdodDp0LndpZHRofX1kcmF3QmFja2dyb3VuZCgpe2NvbnN0e2N0eDp0LG9wdGlvbnM6e2JhY2tncm91bmRDb2xvcjplfSxsZWZ0Om4sdG9wOnMsd2lkdGg6byxoZWlnaHQ6cn09dGhpcztlJiYodC5zYXZlKCksdC5maWxsU3R5bGU9ZSx0LmZpbGxSZWN0KG4scyxvLHIpLHQucmVzdG9yZSgpKX1nZXRMaW5lV2lkdGhGb3JWYWx1ZSh0KXtjb25zdCBlPXRoaXMub3B0aW9ucy5ncmlkO2lmKCF0aGlzLl9pc1Zpc2libGUoKXx8IWUuZGlzcGxheSlyZXR1cm4gMDtjb25zdCBzPXRoaXMudGlja3MuZmluZEluZGV4KG89Pm8udmFsdWU9PT10KTtyZXR1cm4gcz49MD9lLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KHMpKS5saW5lV2lkdGg6MH1kcmF3R3JpZCh0KXtjb25zdCBlPXRoaXMub3B0aW9ucy5ncmlkLG49dGhpcy5jdHgscz10aGlzLl9ncmlkTGluZUl0ZW1zfHwodGhpcy5fZ3JpZExpbmVJdGVtcz10aGlzLl9jb21wdXRlR3JpZExpbmVJdGVtcyh0KSk7bGV0IG8scjtjb25zdCBhPShsLGMsaCk9PnshaC53aWR0aHx8IWguY29sb3J8fChuLnNhdmUoKSxuLmxpbmVXaWR0aD1oLndpZHRoLG4uc3Ryb2tlU3R5bGU9aC5jb2xvcixuLnNldExpbmVEYXNoKGguYm9yZGVyRGFzaHx8W10pLG4ubGluZURhc2hPZmZzZXQ9aC5ib3JkZXJEYXNoT2Zmc2V0LG4uYmVnaW5QYXRoKCksbi5tb3ZlVG8obC54LGwueSksbi5saW5lVG8oYy54LGMueSksbi5zdHJva2UoKSxuLnJlc3RvcmUoKSl9O2lmKGUuZGlzcGxheSlmb3Iobz0wLHI9cy5sZW5ndGg7bzxyOysrbyl7Y29uc3QgbD1zW29dO2UuZHJhd09uQ2hhcnRBcmVhJiZhKHt4OmwueDEseTpsLnkxfSx7eDpsLngyLHk6bC55Mn0sbCksZS5kcmF3VGlja3MmJmEoe3g6bC50eDEseTpsLnR5MX0se3g6bC50eDIseTpsLnR5Mn0se2NvbG9yOmwudGlja0NvbG9yLHdpZHRoOmwudGlja1dpZHRoLGJvcmRlckRhc2g6bC50aWNrQm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0OmwudGlja0JvcmRlckRhc2hPZmZzZXR9KX19ZHJhd0JvcmRlcigpe2NvbnN0e2NoYXJ0OnQsY3R4OmUsb3B0aW9uczp7Ym9yZGVyOm4sZ3JpZDpzfX09dGhpcyxvPW4uc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSkscj1uLmRpc3BsYXk/by53aWR0aDowO2lmKCFyKXJldHVybjtjb25zdCBhPXMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoMCkpLmxpbmVXaWR0aCxsPXRoaXMuX2JvcmRlclZhbHVlO2xldCBjLGgsZCx1O3RoaXMuaXNIb3Jpem9udGFsKCk/KGM9RHQodCx0aGlzLmxlZnQsciktci8yLGg9RHQodCx0aGlzLnJpZ2h0LGEpK2EvMixkPXU9bCk6KGQ9RHQodCx0aGlzLnRvcCxyKS1yLzIsdT1EdCh0LHRoaXMuYm90dG9tLGEpK2EvMixjPWg9bCksZS5zYXZlKCksZS5saW5lV2lkdGg9by53aWR0aCxlLnN0cm9rZVN0eWxlPW8uY29sb3IsZS5iZWdpblBhdGgoKSxlLm1vdmVUbyhjLGQpLGUubGluZVRvKGgsdSksZS5zdHJva2UoKSxlLnJlc3RvcmUoKX1kcmF3TGFiZWxzKHQpe2lmKCF0aGlzLm9wdGlvbnMudGlja3MuZGlzcGxheSlyZXR1cm47Y29uc3Qgbj10aGlzLmN0eCxzPXRoaXMuX2NvbXB1dGVMYWJlbEFyZWEoKTtzJiZBZShuLHMpO2NvbnN0IG89dGhpcy5nZXRMYWJlbEl0ZW1zKHQpO2Zvcihjb25zdCByIG9mIG8pe2NvbnN0IGE9ci5vcHRpb25zLGw9ci5mb250LGM9ci5sYWJlbCxoPXIudGV4dE9mZnNldDtzZShuLGMsMCxoLGwsYSl9cyYmUmUobil9ZHJhd1RpdGxlKCl7Y29uc3R7Y3R4OnQsb3B0aW9uczp7cG9zaXRpb246ZSx0aXRsZTpuLHJldmVyc2U6c319PXRoaXM7aWYoIW4uZGlzcGxheSlyZXR1cm47Y29uc3Qgbz1udChuLmZvbnQpLHI9UShuLnBhZGRpbmcpLGE9bi5hbGlnbjtsZXQgbD1vLmxpbmVIZWlnaHQvMjtlPT09ImJvdHRvbSJ8fGU9PT0iY2VudGVyInx8TyhlKT8obCs9ci5ib3R0b20seihuLnRleHQpJiYobCs9by5saW5lSGVpZ2h0KihuLnRleHQubGVuZ3RoLTEpKSk6bCs9ci50b3A7Y29uc3R7dGl0bGVYOmMsdGl0bGVZOmgsbWF4V2lkdGg6ZCxyb3RhdGlvbjp1fT1RbCh0aGlzLGwsZSxhKTtzZSh0LG4udGV4dCwwLDAsbyx7Y29sb3I6bi5jb2xvcixtYXhXaWR0aDpkLHJvdGF0aW9uOnUsdGV4dEFsaWduOlpsKGEsZSxzKSx0ZXh0QmFzZWxpbmU6Im1pZGRsZSIsdHJhbnNsYXRpb246W2MsaF19KX1kcmF3KHQpe3RoaXMuX2lzVmlzaWJsZSgpJiYodGhpcy5kcmF3QmFja2dyb3VuZCgpLHRoaXMuZHJhd0dyaWQodCksdGhpcy5kcmF3Qm9yZGVyKCksdGhpcy5kcmF3VGl0bGUoKSx0aGlzLmRyYXdMYWJlbHModCkpfV9sYXllcnMoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXQudGlja3MmJnQudGlja3Muenx8MCxuPVAodC5ncmlkJiZ0LmdyaWQueiwtMSkscz1QKHQuYm9yZGVyJiZ0LmJvcmRlci56LDApO3JldHVybiF0aGlzLl9pc1Zpc2libGUoKXx8dGhpcy5kcmF3IT09VnQucHJvdG90eXBlLmRyYXc/W3t6OmUsZHJhdzpvPT57dGhpcy5kcmF3KG8pfX1dOlt7ejpuLGRyYXc6bz0+e3RoaXMuZHJhd0JhY2tncm91bmQoKSx0aGlzLmRyYXdHcmlkKG8pLHRoaXMuZHJhd1RpdGxlKCl9fSx7ejpzLGRyYXc6KCk9Pnt0aGlzLmRyYXdCb3JkZXIoKX19LHt6OmUsZHJhdzpvPT57dGhpcy5kcmF3TGFiZWxzKG8pfX1dfWdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKHQpe2NvbnN0IGU9dGhpcy5jaGFydC5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCksbj10aGlzLmF4aXMrIkF4aXNJRCIscz1bXTtsZXQgbyxyO2ZvcihvPTAscj1lLmxlbmd0aDtvPHI7KytvKXtjb25zdCBhPWVbb107YVtuXT09PXRoaXMuaWQmJighdHx8YS50eXBlPT09dCkmJnMucHVzaChhKX1yZXR1cm4gc31fcmVzb2x2ZVRpY2tGb250T3B0aW9ucyh0KXtjb25zdCBlPXRoaXMub3B0aW9ucy50aWNrcy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCh0KSk7cmV0dXJuIG50KGUuZm9udCl9X21heERpZ2l0cygpe2NvbnN0IHQ9dGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucygwKS5saW5lSGVpZ2h0O3JldHVybih0aGlzLmlzSG9yaXpvbnRhbCgpP3RoaXMud2lkdGg6dGhpcy5oZWlnaHQpL3R9fWNsYXNzIFlle2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnR5cGU9dCx0aGlzLnNjb3BlPWUsdGhpcy5vdmVycmlkZT1uLHRoaXMuaXRlbXM9T2JqZWN0LmNyZWF0ZShudWxsKX1pc0ZvclR5cGUodCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZi5jYWxsKHRoaXMudHlwZS5wcm90b3R5cGUsdC5wcm90b3R5cGUpfXJlZ2lzdGVyKHQpe2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO2xldCBuO2ljKGUpJiYobj10aGlzLnJlZ2lzdGVyKGUpKTtjb25zdCBzPXRoaXMuaXRlbXMsbz10LmlkLHI9dGhpcy5zY29wZSsiLiIrbztpZighbyl0aHJvdyBuZXcgRXJyb3IoImNsYXNzIGRvZXMgbm90IGhhdmUgaWQ6ICIrdCk7cmV0dXJuIG8gaW4gc3x8KHNbb109dCx0Yyh0LHIsbiksdGhpcy5vdmVycmlkZSYmRS5vdmVycmlkZSh0LmlkLHQub3ZlcnJpZGVzKSkscn1nZXQodCl7cmV0dXJuIHRoaXMuaXRlbXNbdF19dW5yZWdpc3Rlcih0KXtjb25zdCBlPXRoaXMuaXRlbXMsbj10LmlkLHM9dGhpcy5zY29wZTtuIGluIGUmJmRlbGV0ZSBlW25dLHMmJm4gaW4gRVtzXSYmKGRlbGV0ZSBFW3NdW25dLHRoaXMub3ZlcnJpZGUmJmRlbGV0ZSBQdFtuXSl9fWZ1bmN0aW9uIHRjKGksdCxlKXtjb25zdCBuPUp0KE9iamVjdC5jcmVhdGUobnVsbCksW2U/RS5nZXQoZSk6e30sRS5nZXQodCksaS5kZWZhdWx0c10pO0Uuc2V0KHQsbiksaS5kZWZhdWx0Um91dGVzJiZlYyh0LGkuZGVmYXVsdFJvdXRlcyksaS5kZXNjcmlwdG9ycyYmRS5kZXNjcmliZSh0LGkuZGVzY3JpcHRvcnMpfWZ1bmN0aW9uIGVjKGksdCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChlPT57Y29uc3Qgbj1lLnNwbGl0KCIuIikscz1uLnBvcCgpLG89W2ldLmNvbmNhdChuKS5qb2luKCIuIikscj10W2VdLnNwbGl0KCIuIiksYT1yLnBvcCgpLGw9ci5qb2luKCIuIik7RS5yb3V0ZShvLHMsbCxhKX0pfWZ1bmN0aW9uIGljKGkpe3JldHVybiJpZCJpbiBpJiYiZGVmYXVsdHMiaW4gaX1jbGFzcyBuY3tjb25zdHJ1Y3Rvcigpe3RoaXMuY29udHJvbGxlcnM9bmV3IFllKEF0LCJkYXRhc2V0cyIsITApLHRoaXMuZWxlbWVudHM9bmV3IFllKFgsImVsZW1lbnRzIiksdGhpcy5wbHVnaW5zPW5ldyBZZShPYmplY3QsInBsdWdpbnMiKSx0aGlzLnNjYWxlcz1uZXcgWWUoVnQsInNjYWxlcyIpLHRoaXMuX3R5cGVkUmVnaXN0cmllcz1bdGhpcy5jb250cm9sbGVycyx0aGlzLnNjYWxlcyx0aGlzLmVsZW1lbnRzXX1hZGQoLi4udCl7dGhpcy5fZWFjaCgicmVnaXN0ZXIiLHQpfXJlbW92ZSguLi50KXt0aGlzLl9lYWNoKCJ1bnJlZ2lzdGVyIix0KX1hZGRDb250cm9sbGVycyguLi50KXt0aGlzLl9lYWNoKCJyZWdpc3RlciIsdCx0aGlzLmNvbnRyb2xsZXJzKX1hZGRFbGVtZW50cyguLi50KXt0aGlzLl9lYWNoKCJyZWdpc3RlciIsdCx0aGlzLmVsZW1lbnRzKX1hZGRQbHVnaW5zKC4uLnQpe3RoaXMuX2VhY2goInJlZ2lzdGVyIix0LHRoaXMucGx1Z2lucyl9YWRkU2NhbGVzKC4uLnQpe3RoaXMuX2VhY2goInJlZ2lzdGVyIix0LHRoaXMuc2NhbGVzKX1nZXRDb250cm9sbGVyKHQpe3JldHVybiB0aGlzLl9nZXQodCx0aGlzLmNvbnRyb2xsZXJzLCJjb250cm9sbGVyIil9Z2V0RWxlbWVudCh0KXtyZXR1cm4gdGhpcy5fZ2V0KHQsdGhpcy5lbGVtZW50cywiZWxlbWVudCIpfWdldFBsdWdpbih0KXtyZXR1cm4gdGhpcy5fZ2V0KHQsdGhpcy5wbHVnaW5zLCJwbHVnaW4iKX1nZXRTY2FsZSh0KXtyZXR1cm4gdGhpcy5fZ2V0KHQsdGhpcy5zY2FsZXMsInNjYWxlIil9cmVtb3ZlQ29udHJvbGxlcnMoLi4udCl7dGhpcy5fZWFjaCgidW5yZWdpc3RlciIsdCx0aGlzLmNvbnRyb2xsZXJzKX1yZW1vdmVFbGVtZW50cyguLi50KXt0aGlzLl9lYWNoKCJ1bnJlZ2lzdGVyIix0LHRoaXMuZWxlbWVudHMpfXJlbW92ZVBsdWdpbnMoLi4udCl7dGhpcy5fZWFjaCgidW5yZWdpc3RlciIsdCx0aGlzLnBsdWdpbnMpfXJlbW92ZVNjYWxlcyguLi50KXt0aGlzLl9lYWNoKCJ1bnJlZ2lzdGVyIix0LHRoaXMuc2NhbGVzKX1fZWFjaCh0LGUsbil7Wy4uLmVdLmZvckVhY2gocz0+e2NvbnN0IG89bnx8dGhpcy5fZ2V0UmVnaXN0cnlGb3JUeXBlKHMpO258fG8uaXNGb3JUeXBlKHMpfHxvPT09dGhpcy5wbHVnaW5zJiZzLmlkP3RoaXMuX2V4ZWModCxvLHMpOlkocyxyPT57Y29uc3QgYT1ufHx0aGlzLl9nZXRSZWdpc3RyeUZvclR5cGUocik7dGhpcy5fZXhlYyh0LGEscil9KX0pfV9leGVjKHQsZSxuKXtjb25zdCBzPW1pKHQpO0woblsiYmVmb3JlIitzXSxbXSxuKSxlW3RdKG4pLEwoblsiYWZ0ZXIiK3NdLFtdLG4pfV9nZXRSZWdpc3RyeUZvclR5cGUodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl90eXBlZFJlZ2lzdHJpZXMubGVuZ3RoO2UrKyl7Y29uc3Qgbj10aGlzLl90eXBlZFJlZ2lzdHJpZXNbZV07aWYobi5pc0ZvclR5cGUodCkpcmV0dXJuIG59cmV0dXJuIHRoaXMucGx1Z2luc31fZ2V0KHQsZSxuKXtjb25zdCBzPWUuZ2V0KHQpO2lmKHM9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCciJyt0KyciIGlzIG5vdCBhIHJlZ2lzdGVyZWQgJytuKyIuIik7cmV0dXJuIHN9fXZhciBkdD1uZXcgbmM7Y2xhc3Mgc2N7Y29uc3RydWN0b3IoKXt0aGlzLl9pbml0PVtdfW5vdGlmeSh0LGUsbixzKXtlPT09ImJlZm9yZUluaXQiJiYodGhpcy5faW5pdD10aGlzLl9jcmVhdGVEZXNjcmlwdG9ycyh0LCEwKSx0aGlzLl9ub3RpZnkodGhpcy5faW5pdCx0LCJpbnN0YWxsIikpO2NvbnN0IG89cz90aGlzLl9kZXNjcmlwdG9ycyh0KS5maWx0ZXIocyk6dGhpcy5fZGVzY3JpcHRvcnModCkscj10aGlzLl9ub3RpZnkobyx0LGUsbik7cmV0dXJuIGU9PT0iYWZ0ZXJEZXN0cm95IiYmKHRoaXMuX25vdGlmeShvLHQsInN0b3AiKSx0aGlzLl9ub3RpZnkodGhpcy5faW5pdCx0LCJ1bmluc3RhbGwiKSkscn1fbm90aWZ5KHQsZSxuLHMpe3M9c3x8e307Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3Qgcj1vLnBsdWdpbixhPXJbbl0sbD1bZSxzLG8ub3B0aW9uc107aWYoTChhLGwscik9PT0hMSYmcy5jYW5jZWxhYmxlKXJldHVybiExfXJldHVybiEwfWludmFsaWRhdGUoKXtJKHRoaXMuX2NhY2hlKXx8KHRoaXMuX29sZENhY2hlPXRoaXMuX2NhY2hlLHRoaXMuX2NhY2hlPXZvaWQgMCl9X2Rlc2NyaXB0b3JzKHQpe2lmKHRoaXMuX2NhY2hlKXJldHVybiB0aGlzLl9jYWNoZTtjb25zdCBlPXRoaXMuX2NhY2hlPXRoaXMuX2NyZWF0ZURlc2NyaXB0b3JzKHQpO3JldHVybiB0aGlzLl9ub3RpZnlTdGF0ZUNoYW5nZXModCksZX1fY3JlYXRlRGVzY3JpcHRvcnModCxlKXtjb25zdCBuPXQmJnQuY29uZmlnLHM9UChuLm9wdGlvbnMmJm4ub3B0aW9ucy5wbHVnaW5zLHt9KSxvPW9jKG4pO3JldHVybiBzPT09ITEmJiFlP1tdOmFjKHQsbyxzLGUpfV9ub3RpZnlTdGF0ZUNoYW5nZXModCl7Y29uc3QgZT10aGlzLl9vbGRDYWNoZXx8W10sbj10aGlzLl9jYWNoZSxzPShvLHIpPT5vLmZpbHRlcihhPT4hci5zb21lKGw9PmEucGx1Z2luLmlkPT09bC5wbHVnaW4uaWQpKTt0aGlzLl9ub3RpZnkocyhlLG4pLHQsInN0b3AiKSx0aGlzLl9ub3RpZnkocyhuLGUpLHQsInN0YXJ0Iil9fWZ1bmN0aW9uIG9jKGkpe2NvbnN0IHQ9e30sZT1bXSxuPU9iamVjdC5rZXlzKGR0LnBsdWdpbnMuaXRlbXMpO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKWUucHVzaChkdC5nZXRQbHVnaW4obltvXSkpO2NvbnN0IHM9aS5wbHVnaW5zfHxbXTtmb3IobGV0IG89MDtvPHMubGVuZ3RoO28rKyl7Y29uc3Qgcj1zW29dO2UuaW5kZXhPZihyKT09PS0xJiYoZS5wdXNoKHIpLHRbci5pZF09ITApfXJldHVybntwbHVnaW5zOmUsbG9jYWxJZHM6dH19ZnVuY3Rpb24gcmMoaSx0KXtyZXR1cm4hdCYmaT09PSExP251bGw6aT09PSEwP3t9Oml9ZnVuY3Rpb24gYWMoaSx7cGx1Z2luczp0LGxvY2FsSWRzOmV9LG4scyl7Y29uc3Qgbz1bXSxyPWkuZ2V0Q29udGV4dCgpO2Zvcihjb25zdCBhIG9mIHQpe2NvbnN0IGw9YS5pZCxjPXJjKG5bbF0scyk7YyE9PW51bGwmJm8ucHVzaCh7cGx1Z2luOmEsb3B0aW9uczpsYyhpLmNvbmZpZyx7cGx1Z2luOmEsbG9jYWw6ZVtsXX0sYyxyKX0pfXJldHVybiBvfWZ1bmN0aW9uIGxjKGkse3BsdWdpbjp0LGxvY2FsOmV9LG4scyl7Y29uc3Qgbz1pLnBsdWdpblNjb3BlS2V5cyh0KSxyPWkuZ2V0T3B0aW9uU2NvcGVzKG4sbyk7cmV0dXJuIGUmJnQuZGVmYXVsdHMmJnIucHVzaCh0LmRlZmF1bHRzKSxpLmNyZWF0ZVJlc29sdmVyKHIscyxbIiJdLHtzY3JpcHRhYmxlOiExLGluZGV4YWJsZTohMSxhbGxLZXlzOiEwfSl9ZnVuY3Rpb24gTmkoaSx0KXtjb25zdCBlPUUuZGF0YXNldHNbaV18fHt9O3JldHVybigodC5kYXRhc2V0c3x8e30pW2ldfHx7fSkuaW5kZXhBeGlzfHx0LmluZGV4QXhpc3x8ZS5pbmRleEF4aXN8fCJ4In1mdW5jdGlvbiBjYyhpLHQpe2xldCBlPWk7cmV0dXJuIGk9PT0iX2luZGV4XyI/ZT10Omk9PT0iX3ZhbHVlXyImJihlPXQ9PT0ieCI/InkiOiJ4IiksZX1mdW5jdGlvbiBoYyhpLHQpe3JldHVybiBpPT09dD8iX2luZGV4XyI6Il92YWx1ZV8ifWZ1bmN0aW9uIFRzKGkpe2lmKGk9PT0ieCJ8fGk9PT0ieSJ8fGk9PT0iciIpcmV0dXJuIGl9ZnVuY3Rpb24gZGMoaSl7aWYoaT09PSJ0b3AifHxpPT09ImJvdHRvbSIpcmV0dXJuIngiO2lmKGk9PT0ibGVmdCJ8fGk9PT0icmlnaHQiKXJldHVybiJ5In1mdW5jdGlvbiBWaShpLC4uLnQpe2lmKFRzKGkpKXJldHVybiBpO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IG49ZS5heGlzfHxkYyhlLnBvc2l0aW9uKXx8aS5sZW5ndGg+MSYmVHMoaVswXS50b0xvd2VyQ2FzZSgpKTtpZihuKXJldHVybiBufXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRldGVybWluZSB0eXBlIG9mICcke2l9JyBheGlzLiBQbGVhc2UgcHJvdmlkZSAnYXhpcycgb3IgJ3Bvc2l0aW9uJyBvcHRpb24uYCl9ZnVuY3Rpb24gQXMoaSx0LGUpe2lmKGVbdCsiQXhpc0lEIl09PT1pKXJldHVybntheGlzOnR9fWZ1bmN0aW9uIHVjKGksdCl7aWYodC5kYXRhJiZ0LmRhdGEuZGF0YXNldHMpe2NvbnN0IGU9dC5kYXRhLmRhdGFzZXRzLmZpbHRlcihuPT5uLnhBeGlzSUQ9PT1pfHxuLnlBeGlzSUQ9PT1pKTtpZihlLmxlbmd0aClyZXR1cm4gQXMoaSwieCIsZVswXSl8fEFzKGksInkiLGVbMF0pfXJldHVybnt9fWZ1bmN0aW9uIGZjKGksdCl7Y29uc3QgZT1QdFtpLnR5cGVdfHx7c2NhbGVzOnt9fSxuPXQuc2NhbGVzfHx7fSxzPU5pKGkudHlwZSx0KSxvPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2gocj0+e2NvbnN0IGE9bltyXTtpZighTyhhKSlyZXR1cm4gY29uc29sZS5lcnJvcihgSW52YWxpZCBzY2FsZSBjb25maWd1cmF0aW9uIGZvciBzY2FsZTogJHtyfWApO2lmKGEuX3Byb3h5KXJldHVybiBjb25zb2xlLndhcm4oYElnbm9yaW5nIHJlc29sdmVyIHBhc3NlZCBhcyBvcHRpb25zIGZvciBzY2FsZTogJHtyfWApO2NvbnN0IGw9VmkocixhLHVjKHIsaSksRS5zY2FsZXNbYS50eXBlXSksYz1oYyhsLHMpLGg9ZS5zY2FsZXN8fHt9O29bcl09WnQoT2JqZWN0LmNyZWF0ZShudWxsKSxbe2F4aXM6bH0sYSxoW2xdLGhbY11dKX0pLGkuZGF0YS5kYXRhc2V0cy5mb3JFYWNoKHI9Pntjb25zdCBhPXIudHlwZXx8aS50eXBlLGw9ci5pbmRleEF4aXN8fE5pKGEsdCksaD0oUHRbYV18fHt9KS5zY2FsZXN8fHt9O09iamVjdC5rZXlzKGgpLmZvckVhY2goZD0+e2NvbnN0IHU9Y2MoZCxsKSxmPXJbdSsiQXhpc0lEIl18fHU7b1tmXT1vW2ZdfHxPYmplY3QuY3JlYXRlKG51bGwpLFp0KG9bZl0sW3theGlzOnV9LG5bZl0saFtkXV0pfSl9KSxPYmplY3Qua2V5cyhvKS5mb3JFYWNoKHI9Pntjb25zdCBhPW9bcl07WnQoYSxbRS5zY2FsZXNbYS50eXBlXSxFLnNjYWxlXSl9KSxvfWZ1bmN0aW9uIFJzKGkpe2NvbnN0IHQ9aS5vcHRpb25zfHwoaS5vcHRpb25zPXt9KTt0LnBsdWdpbnM9UCh0LnBsdWdpbnMse30pLHQuc2NhbGVzPWZjKGksdCl9ZnVuY3Rpb24gTHMoaSl7cmV0dXJuIGk9aXx8e30saS5kYXRhc2V0cz1pLmRhdGFzZXRzfHxbXSxpLmxhYmVscz1pLmxhYmVsc3x8W10saX1mdW5jdGlvbiBnYyhpKXtyZXR1cm4gaT1pfHx7fSxpLmRhdGE9THMoaS5kYXRhKSxScyhpKSxpfWNvbnN0IElzPW5ldyBNYXAsenM9bmV3IFNldDtmdW5jdGlvbiAkZShpLHQpe2xldCBlPUlzLmdldChpKTtyZXR1cm4gZXx8KGU9dCgpLElzLnNldChpLGUpLHpzLmFkZChlKSksZX1jb25zdCBmZT0oaSx0LGUpPT57Y29uc3Qgbj1NdCh0LGUpO24hPT12b2lkIDAmJmkuYWRkKG4pfTtjbGFzcyBwY3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9jb25maWc9Z2ModCksdGhpcy5fc2NvcGVDYWNoZT1uZXcgTWFwLHRoaXMuX3Jlc29sdmVyQ2FjaGU9bmV3IE1hcH1nZXQgcGxhdGZvcm0oKXtyZXR1cm4gdGhpcy5fY29uZmlnLnBsYXRmb3JtfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy50eXBlfXNldCB0eXBlKHQpe3RoaXMuX2NvbmZpZy50eXBlPXR9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmRhdGF9c2V0IGRhdGEodCl7dGhpcy5fY29uZmlnLmRhdGE9THModCl9Z2V0IG9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLm9wdGlvbnN9c2V0IG9wdGlvbnModCl7dGhpcy5fY29uZmlnLm9wdGlvbnM9dH1nZXQgcGx1Z2lucygpe3JldHVybiB0aGlzLl9jb25maWcucGx1Z2luc311cGRhdGUoKXtjb25zdCB0PXRoaXMuX2NvbmZpZzt0aGlzLmNsZWFyQ2FjaGUoKSxScyh0KX1jbGVhckNhY2hlKCl7dGhpcy5fc2NvcGVDYWNoZS5jbGVhcigpLHRoaXMuX3Jlc29sdmVyQ2FjaGUuY2xlYXIoKX1kYXRhc2V0U2NvcGVLZXlzKHQpe3JldHVybiAkZSh0LCgpPT5bW2BkYXRhc2V0cy4ke3R9YCwiIl1dKX1kYXRhc2V0QW5pbWF0aW9uU2NvcGVLZXlzKHQsZSl7cmV0dXJuICRlKGAke3R9LnRyYW5zaXRpb24uJHtlfWAsKCk9PltbYGRhdGFzZXRzLiR7dH0udHJhbnNpdGlvbnMuJHtlfWAsYHRyYW5zaXRpb25zLiR7ZX1gXSxbYGRhdGFzZXRzLiR7dH1gLCIiXV0pfWRhdGFzZXRFbGVtZW50U2NvcGVLZXlzKHQsZSl7cmV0dXJuICRlKGAke3R9LSR7ZX1gLCgpPT5bW2BkYXRhc2V0cy4ke3R9LmVsZW1lbnRzLiR7ZX1gLGBkYXRhc2V0cy4ke3R9YCxgZWxlbWVudHMuJHtlfWAsIiJdXSl9cGx1Z2luU2NvcGVLZXlzKHQpe2NvbnN0IGU9dC5pZCxuPXRoaXMudHlwZTtyZXR1cm4gJGUoYCR7bn0tcGx1Z2luLSR7ZX1gLCgpPT5bW2BwbHVnaW5zLiR7ZX1gLC4uLnQuYWRkaXRpb25hbE9wdGlvblNjb3Blc3x8W11dXSl9X2NhY2hlZFNjb3Blcyh0LGUpe2NvbnN0IG49dGhpcy5fc2NvcGVDYWNoZTtsZXQgcz1uLmdldCh0KTtyZXR1cm4oIXN8fGUpJiYocz1uZXcgTWFwLG4uc2V0KHQscykpLHN9Z2V0T3B0aW9uU2NvcGVzKHQsZSxuKXtjb25zdHtvcHRpb25zOnMsdHlwZTpvfT10aGlzLHI9dGhpcy5fY2FjaGVkU2NvcGVzKHQsbiksYT1yLmdldChlKTtpZihhKXJldHVybiBhO2NvbnN0IGw9bmV3IFNldDtlLmZvckVhY2goaD0+e3QmJihsLmFkZCh0KSxoLmZvckVhY2goZD0+ZmUobCx0LGQpKSksaC5mb3JFYWNoKGQ9PmZlKGwscyxkKSksaC5mb3JFYWNoKGQ9PmZlKGwsUHRbb118fHt9LGQpKSxoLmZvckVhY2goZD0+ZmUobCxFLGQpKSxoLmZvckVhY2goZD0+ZmUobCxTaSxkKSl9KTtjb25zdCBjPUFycmF5LmZyb20obCk7cmV0dXJuIGMubGVuZ3RoPT09MCYmYy5wdXNoKE9iamVjdC5jcmVhdGUobnVsbCkpLHpzLmhhcyhlKSYmci5zZXQoZSxjKSxjfWNoYXJ0T3B0aW9uU2NvcGVzKCl7Y29uc3R7b3B0aW9uczp0LHR5cGU6ZX09dGhpcztyZXR1cm5bdCxQdFtlXXx8e30sRS5kYXRhc2V0c1tlXXx8e30se3R5cGU6ZX0sRSxTaV19cmVzb2x2ZU5hbWVkT3B0aW9ucyh0LGUsbixzPVsiIl0pe2NvbnN0IG89eyRzaGFyZWQ6ITB9LHtyZXNvbHZlcjpyLHN1YlByZWZpeGVzOmF9PUVzKHRoaXMuX3Jlc29sdmVyQ2FjaGUsdCxzKTtsZXQgbD1yO2lmKGJjKHIsZSkpe28uJHNoYXJlZD0hMSxuPXEobik/bigpOm47Y29uc3QgYz10aGlzLmNyZWF0ZVJlc29sdmVyKHQsbixhKTtsPWp0KHIsbixjKX1mb3IoY29uc3QgYyBvZiBlKW9bY109bFtjXTtyZXR1cm4gb31jcmVhdGVSZXNvbHZlcih0LGUsbj1bIiJdLHMpe2NvbnN0e3Jlc29sdmVyOm99PUVzKHRoaXMuX3Jlc29sdmVyQ2FjaGUsdCxuKTtyZXR1cm4gTyhlKT9qdChvLGUsdm9pZCAwLHMpOm99fWZ1bmN0aW9uIEVzKGksdCxlKXtsZXQgbj1pLmdldCh0KTtufHwobj1uZXcgTWFwLGkuc2V0KHQsbikpO2NvbnN0IHM9ZS5qb2luKCk7bGV0IG89bi5nZXQocyk7cmV0dXJuIG98fChvPXtyZXNvbHZlcjpDaSh0LGUpLHN1YlByZWZpeGVzOmUuZmlsdGVyKGE9PiFhLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoImhvdmVyIikpfSxuLnNldChzLG8pKSxvfWNvbnN0IG1jPWk9Pk8oaSkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLnNvbWUodD0+cShpW3RdKSk7ZnVuY3Rpb24gYmMoaSx0KXtjb25zdHtpc1NjcmlwdGFibGU6ZSxpc0luZGV4YWJsZTpufT1WbihpKTtmb3IoY29uc3QgcyBvZiB0KXtjb25zdCBvPWUocykscj1uKHMpLGE9KHJ8fG8pJiZpW3NdO2lmKG8mJihxKGEpfHxtYyhhKSl8fHImJnooYSkpcmV0dXJuITB9cmV0dXJuITF9dmFyIHhjPSI0LjQuMyI7Y29uc3QgX2M9WyJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJjaGFydEFyZWEiXTtmdW5jdGlvbiBGcyhpLHQpe3JldHVybiBpPT09InRvcCJ8fGk9PT0iYm90dG9tInx8X2MuaW5kZXhPZihpKT09PS0xJiZ0PT09IngifWZ1bmN0aW9uIFdzKGksdCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbaV09PT1uW2ldP2VbdF0tblt0XTplW2ldLW5baV19fWZ1bmN0aW9uIEJzKGkpe2NvbnN0IHQ9aS5jaGFydCxlPXQub3B0aW9ucy5hbmltYXRpb247dC5ub3RpZnlQbHVnaW5zKCJhZnRlclJlbmRlciIpLEwoZSYmZS5vbkNvbXBsZXRlLFtpXSx0KX1mdW5jdGlvbiB5YyhpKXtjb25zdCB0PWkuY2hhcnQsZT10Lm9wdGlvbnMuYW5pbWF0aW9uO0woZSYmZS5vblByb2dyZXNzLFtpXSx0KX1mdW5jdGlvbiBIcyhpKXtyZXR1cm4gUmkoKSYmdHlwZW9mIGk9PSJzdHJpbmciP2k9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSk6aSYmaS5sZW5ndGgmJihpPWlbMF0pLGkmJmkuY2FudmFzJiYoaT1pLmNhbnZhcyksaX1jb25zdCBYZT17fSxqcz1pPT57Y29uc3QgdD1IcyhpKTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhYZSkuZmlsdGVyKGU9PmUuY2FudmFzPT09dCkucG9wKCl9O2Z1bmN0aW9uIHdjKGksdCxlKXtjb25zdCBuPU9iamVjdC5rZXlzKGkpO2Zvcihjb25zdCBzIG9mIG4pe2NvbnN0IG89K3M7aWYobz49dCl7Y29uc3Qgcj1pW3NdO2RlbGV0ZSBpW3NdLChlPjB8fG8+dCkmJihpW28rZV09cil9fX1mdW5jdGlvbiBNYyhpLHQsZSxuKXtyZXR1cm4hZXx8aS50eXBlPT09Im1vdXNlb3V0Ij9udWxsOm4/dDppfWZ1bmN0aW9uIFVlKGksdCxlKXtyZXR1cm4gaS5vcHRpb25zLmNsaXA/aVtlXTp0W2VdfWZ1bmN0aW9uIGtjKGksdCl7Y29uc3R7eFNjYWxlOmUseVNjYWxlOm59PWk7cmV0dXJuIGUmJm4/e2xlZnQ6VWUoZSx0LCJsZWZ0IikscmlnaHQ6VWUoZSx0LCJyaWdodCIpLHRvcDpVZShuLHQsInRvcCIpLGJvdHRvbTpVZShuLHQsImJvdHRvbSIpfTp0fWNsYXNzIHR0e3N0YXRpYyByZWdpc3RlciguLi50KXtkdC5hZGQoLi4udCksTnMoKX1zdGF0aWMgdW5yZWdpc3RlciguLi50KXtkdC5yZW1vdmUoLi4udCksTnMoKX1jb25zdHJ1Y3Rvcih0LGUpe2NvbnN0IG49dGhpcy5jb25maWc9bmV3IHBjKGUpLHM9SHModCksbz1qcyhzKTtpZihvKXRocm93IG5ldyBFcnJvcigiQ2FudmFzIGlzIGFscmVhZHkgaW4gdXNlLiBDaGFydCB3aXRoIElEICciK28uaWQrIicgbXVzdCBiZSBkZXN0cm95ZWQgYmVmb3JlIHRoZSBjYW52YXMgd2l0aCBJRCAnIitvLmNhbnZhcy5pZCsiJyBjYW4gYmUgcmV1c2VkLiIpO2NvbnN0IHI9bi5jcmVhdGVSZXNvbHZlcihuLmNoYXJ0T3B0aW9uU2NvcGVzKCksdGhpcy5nZXRDb250ZXh0KCkpO3RoaXMucGxhdGZvcm09bmV3KG4ucGxhdGZvcm18fEhsKHMpKSx0aGlzLnBsYXRmb3JtLnVwZGF0ZUNvbmZpZyhuKTtjb25zdCBhPXRoaXMucGxhdGZvcm0uYWNxdWlyZUNvbnRleHQocyxyLmFzcGVjdFJhdGlvKSxsPWEmJmEuY2FudmFzLGM9bCYmbC5oZWlnaHQsaD1sJiZsLndpZHRoO2lmKHRoaXMuaWQ9eXIoKSx0aGlzLmN0eD1hLHRoaXMuY2FudmFzPWwsdGhpcy53aWR0aD1oLHRoaXMuaGVpZ2h0PWMsdGhpcy5fb3B0aW9ucz1yLHRoaXMuX2FzcGVjdFJhdGlvPXRoaXMuYXNwZWN0UmF0aW8sdGhpcy5fbGF5ZXJzPVtdLHRoaXMuX21ldGFzZXRzPVtdLHRoaXMuX3N0YWNrcz12b2lkIDAsdGhpcy5ib3hlcz1bXSx0aGlzLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvPXZvaWQgMCx0aGlzLmNoYXJ0QXJlYT12b2lkIDAsdGhpcy5fYWN0aXZlPVtdLHRoaXMuX2xhc3RFdmVudD12b2lkIDAsdGhpcy5fbGlzdGVuZXJzPXt9LHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM9dm9pZCAwLHRoaXMuX3NvcnRlZE1ldGFzZXRzPVtdLHRoaXMuc2NhbGVzPXt9LHRoaXMuX3BsdWdpbnM9bmV3IHNjLHRoaXMuJHByb3hpZXM9e30sdGhpcy5faGlkZGVuSW5kaWNlcz17fSx0aGlzLmF0dGFjaGVkPSExLHRoaXMuX2FuaW1hdGlvbnNEaXNhYmxlZD12b2lkIDAsdGhpcy4kY29udGV4dD12b2lkIDAsdGhpcy5fZG9SZXNpemU9RXIoZD0+dGhpcy51cGRhdGUoZCksci5yZXNpemVEZWxheXx8MCksdGhpcy5fZGF0YUNoYW5nZXM9W10sWGVbdGhpcy5pZF09dGhpcywhYXx8IWwpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBjcmVhdGUgY2hhcnQ6IGNhbid0IGFjcXVpcmUgY29udGV4dCBmcm9tIHRoZSBnaXZlbiBpdGVtIik7cmV0dXJufWd0Lmxpc3Rlbih0aGlzLCJjb21wbGV0ZSIsQnMpLGd0Lmxpc3Rlbih0aGlzLCJwcm9ncmVzcyIseWMpLHRoaXMuX2luaXRpYWxpemUoKSx0aGlzLmF0dGFjaGVkJiZ0aGlzLnVwZGF0ZSgpfWdldCBhc3BlY3RSYXRpbygpe2NvbnN0e29wdGlvbnM6e2FzcGVjdFJhdGlvOnQsbWFpbnRhaW5Bc3BlY3RSYXRpbzplfSx3aWR0aDpuLGhlaWdodDpzLF9hc3BlY3RSYXRpbzpvfT10aGlzO3JldHVybiBJKHQpP2UmJm8/bzpzP24vczpudWxsOnR9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5jb25maWcuZGF0YX1zZXQgZGF0YSh0KXt0aGlzLmNvbmZpZy5kYXRhPXR9Z2V0IG9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fb3B0aW9uc31zZXQgb3B0aW9ucyh0KXt0aGlzLmNvbmZpZy5vcHRpb25zPXR9Z2V0IHJlZ2lzdHJ5KCl7cmV0dXJuIGR0fV9pbml0aWFsaXplKCl7cmV0dXJuIHRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlSW5pdCIpLHRoaXMub3B0aW9ucy5yZXNwb25zaXZlP3RoaXMucmVzaXplKCk6R24odGhpcyx0aGlzLm9wdGlvbnMuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5iaW5kRXZlbnRzKCksdGhpcy5ub3RpZnlQbHVnaW5zKCJhZnRlckluaXQiKSx0aGlzfWNsZWFyKCl7cmV0dXJuIEJuKHRoaXMuY2FudmFzLHRoaXMuY3R4KSx0aGlzfXN0b3AoKXtyZXR1cm4gZ3Quc3RvcCh0aGlzKSx0aGlzfXJlc2l6ZSh0LGUpe2d0LnJ1bm5pbmcodGhpcyk/dGhpcy5fcmVzaXplQmVmb3JlRHJhdz17d2lkdGg6dCxoZWlnaHQ6ZX06dGhpcy5fcmVzaXplKHQsZSl9X3Jlc2l6ZSh0LGUpe2NvbnN0IG49dGhpcy5vcHRpb25zLHM9dGhpcy5jYW52YXMsbz1uLm1haW50YWluQXNwZWN0UmF0aW8mJnRoaXMuYXNwZWN0UmF0aW8scj10aGlzLnBsYXRmb3JtLmdldE1heGltdW1TaXplKHMsdCxlLG8pLGE9bi5kZXZpY2VQaXhlbFJhdGlvfHx0aGlzLnBsYXRmb3JtLmdldERldmljZVBpeGVsUmF0aW8oKSxsPXRoaXMud2lkdGg/InJlc2l6ZSI6ImF0dGFjaCI7dGhpcy53aWR0aD1yLndpZHRoLHRoaXMuaGVpZ2h0PXIuaGVpZ2h0LHRoaXMuX2FzcGVjdFJhdGlvPXRoaXMuYXNwZWN0UmF0aW8sR24odGhpcyxhLCEwKSYmKHRoaXMubm90aWZ5UGx1Z2lucygicmVzaXplIix7c2l6ZTpyfSksTChuLm9uUmVzaXplLFt0aGlzLHJdLHRoaXMpLHRoaXMuYXR0YWNoZWQmJnRoaXMuX2RvUmVzaXplKGwpJiZ0aGlzLnJlbmRlcigpKX1lbnN1cmVTY2FsZXNIYXZlSURzKCl7Y29uc3QgZT10aGlzLm9wdGlvbnMuc2NhbGVzfHx7fTtZKGUsKG4scyk9PntuLmlkPXN9KX1idWlsZE9yVXBkYXRlU2NhbGVzKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMsZT10LnNjYWxlcyxuPXRoaXMuc2NhbGVzLHM9T2JqZWN0LmtleXMobikucmVkdWNlKChyLGEpPT4oclthXT0hMSxyKSx7fSk7bGV0IG89W107ZSYmKG89by5jb25jYXQoT2JqZWN0LmtleXMoZSkubWFwKHI9Pntjb25zdCBhPWVbcl0sbD1WaShyLGEpLGM9bD09PSJyIixoPWw9PT0ieCI7cmV0dXJue29wdGlvbnM6YSxkcG9zaXRpb246Yz8iY2hhcnRBcmVhIjpoPyJib3R0b20iOiJsZWZ0IixkdHlwZTpjPyJyYWRpYWxMaW5lYXIiOmg/ImNhdGVnb3J5IjoibGluZWFyIn19KSkpLFkobyxyPT57Y29uc3QgYT1yLm9wdGlvbnMsbD1hLmlkLGM9VmkobCxhKSxoPVAoYS50eXBlLHIuZHR5cGUpOyhhLnBvc2l0aW9uPT09dm9pZCAwfHxGcyhhLnBvc2l0aW9uLGMpIT09RnMoci5kcG9zaXRpb24pKSYmKGEucG9zaXRpb249ci5kcG9zaXRpb24pLHNbbF09ITA7bGV0IGQ9bnVsbDtpZihsIGluIG4mJm5bbF0udHlwZT09PWgpZD1uW2xdO2Vsc2V7Y29uc3QgdT1kdC5nZXRTY2FsZShoKTtkPW5ldyB1KHtpZDpsLHR5cGU6aCxjdHg6dGhpcy5jdHgsY2hhcnQ6dGhpc30pLG5bZC5pZF09ZH1kLmluaXQoYSx0KX0pLFkocywocixhKT0+e3J8fGRlbGV0ZSBuW2FdfSksWShuLHI9PntzdC5jb25maWd1cmUodGhpcyxyLHIub3B0aW9ucyksc3QuYWRkQm94KHRoaXMscil9KX1fdXBkYXRlTWV0YXNldHMoKXtjb25zdCB0PXRoaXMuX21ldGFzZXRzLGU9dGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aCxuPXQubGVuZ3RoO2lmKHQuc29ydCgocyxvKT0+cy5pbmRleC1vLmluZGV4KSxuPmUpe2ZvcihsZXQgcz1lO3M8bjsrK3MpdGhpcy5fZGVzdHJveURhdGFzZXRNZXRhKHMpO3Quc3BsaWNlKGUsbi1lKX10aGlzLl9zb3J0ZWRNZXRhc2V0cz10LnNsaWNlKDApLnNvcnQoV3MoIm9yZGVyIiwiaW5kZXgiKSl9X3JlbW92ZVVucmVmZXJlbmNlZE1ldGFzZXRzKCl7Y29uc3R7X21ldGFzZXRzOnQsZGF0YTp7ZGF0YXNldHM6ZX19PXRoaXM7dC5sZW5ndGg+ZS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9zdGFja3MsdC5mb3JFYWNoKChuLHMpPT57ZS5maWx0ZXIobz0+bz09PW4uX2RhdGFzZXQpLmxlbmd0aD09PTAmJnRoaXMuX2Rlc3Ryb3lEYXRhc2V0TWV0YShzKX0pfWJ1aWxkT3JVcGRhdGVDb250cm9sbGVycygpe2NvbnN0IHQ9W10sZT10aGlzLmRhdGEuZGF0YXNldHM7bGV0IG4scztmb3IodGhpcy5fcmVtb3ZlVW5yZWZlcmVuY2VkTWV0YXNldHMoKSxuPTAscz1lLmxlbmd0aDtuPHM7bisrKXtjb25zdCBvPWVbbl07bGV0IHI9dGhpcy5nZXREYXRhc2V0TWV0YShuKTtjb25zdCBhPW8udHlwZXx8dGhpcy5jb25maWcudHlwZTtpZihyLnR5cGUmJnIudHlwZSE9PWEmJih0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEobikscj10aGlzLmdldERhdGFzZXRNZXRhKG4pKSxyLnR5cGU9YSxyLmluZGV4QXhpcz1vLmluZGV4QXhpc3x8TmkoYSx0aGlzLm9wdGlvbnMpLHIub3JkZXI9by5vcmRlcnx8MCxyLmluZGV4PW4sci5sYWJlbD0iIitvLmxhYmVsLHIudmlzaWJsZT10aGlzLmlzRGF0YXNldFZpc2libGUobiksci5jb250cm9sbGVyKXIuY29udHJvbGxlci51cGRhdGVJbmRleChuKSxyLmNvbnRyb2xsZXIubGlua1NjYWxlcygpO2Vsc2V7Y29uc3QgbD1kdC5nZXRDb250cm9sbGVyKGEpLHtkYXRhc2V0RWxlbWVudFR5cGU6YyxkYXRhRWxlbWVudFR5cGU6aH09RS5kYXRhc2V0c1thXTtPYmplY3QuYXNzaWduKGwse2RhdGFFbGVtZW50VHlwZTpkdC5nZXRFbGVtZW50KGgpLGRhdGFzZXRFbGVtZW50VHlwZTpjJiZkdC5nZXRFbGVtZW50KGMpfSksci5jb250cm9sbGVyPW5ldyBsKHRoaXMsbiksdC5wdXNoKHIuY29udHJvbGxlcil9fXJldHVybiB0aGlzLl91cGRhdGVNZXRhc2V0cygpLHR9X3Jlc2V0RWxlbWVudHMoKXtZKHRoaXMuZGF0YS5kYXRhc2V0cywodCxlKT0+e3RoaXMuZ2V0RGF0YXNldE1ldGEoZSkuY29udHJvbGxlci5yZXNldCgpfSx0aGlzKX1yZXNldCgpe3RoaXMuX3Jlc2V0RWxlbWVudHMoKSx0aGlzLm5vdGlmeVBsdWdpbnMoInJlc2V0Iil9dXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5jb25maWc7ZS51cGRhdGUoKTtjb25zdCBuPXRoaXMuX29wdGlvbnM9ZS5jcmVhdGVSZXNvbHZlcihlLmNoYXJ0T3B0aW9uU2NvcGVzKCksdGhpcy5nZXRDb250ZXh0KCkpLHM9dGhpcy5fYW5pbWF0aW9uc0Rpc2FibGVkPSFuLmFuaW1hdGlvbjtpZih0aGlzLl91cGRhdGVTY2FsZXMoKSx0aGlzLl9jaGVja0V2ZW50QmluZGluZ3MoKSx0aGlzLl91cGRhdGVIaWRkZW5JbmRpY2VzKCksdGhpcy5fcGx1Z2lucy5pbnZhbGlkYXRlKCksdGhpcy5ub3RpZnlQbHVnaW5zKCJiZWZvcmVVcGRhdGUiLHttb2RlOnQsY2FuY2VsYWJsZTohMH0pPT09ITEpcmV0dXJuO2NvbnN0IG89dGhpcy5idWlsZE9yVXBkYXRlQ29udHJvbGxlcnMoKTt0aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZUVsZW1lbnRzVXBkYXRlIik7bGV0IHI9MDtmb3IobGV0IGM9MCxoPXRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7YzxoO2MrKyl7Y29uc3R7Y29udHJvbGxlcjpkfT10aGlzLmdldERhdGFzZXRNZXRhKGMpLHU9IXMmJm8uaW5kZXhPZihkKT09PS0xO2QuYnVpbGRPclVwZGF0ZUVsZW1lbnRzKHUpLHI9TWF0aC5tYXgoK2QuZ2V0TWF4T3ZlcmZsb3coKSxyKX1yPXRoaXMuX21pblBhZGRpbmc9bi5sYXlvdXQuYXV0b1BhZGRpbmc/cjowLHRoaXMuX3VwZGF0ZUxheW91dChyKSxzfHxZKG8sYz0+e2MucmVzZXQoKX0pLHRoaXMuX3VwZGF0ZURhdGFzZXRzKHQpLHRoaXMubm90aWZ5UGx1Z2lucygiYWZ0ZXJVcGRhdGUiLHttb2RlOnR9KSx0aGlzLl9sYXllcnMuc29ydChXcygieiIsIl9pZHgiKSk7Y29uc3R7X2FjdGl2ZTphLF9sYXN0RXZlbnQ6bH09dGhpcztsP3RoaXMuX2V2ZW50SGFuZGxlcihsLCEwKTphLmxlbmd0aCYmdGhpcy5fdXBkYXRlSG92ZXJTdHlsZXMoYSxhLCEwKSx0aGlzLnJlbmRlcigpfV91cGRhdGVTY2FsZXMoKXtZKHRoaXMuc2NhbGVzLHQ9PntzdC5yZW1vdmVCb3godGhpcyx0KX0pLHRoaXMuZW5zdXJlU2NhbGVzSGF2ZUlEcygpLHRoaXMuYnVpbGRPclVwZGF0ZVNjYWxlcygpfV9jaGVja0V2ZW50QmluZGluZ3MoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPW5ldyBTZXQoT2JqZWN0LmtleXModGhpcy5fbGlzdGVuZXJzKSksbj1uZXcgU2V0KHQuZXZlbnRzKTsoIWtuKGUsbil8fCEhdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyE9PXQucmVzcG9uc2l2ZSkmJih0aGlzLnVuYmluZEV2ZW50cygpLHRoaXMuYmluZEV2ZW50cygpKX1fdXBkYXRlSGlkZGVuSW5kaWNlcygpe2NvbnN0e19oaWRkZW5JbmRpY2VzOnR9PXRoaXMsZT10aGlzLl9nZXRVbmlmb3JtRGF0YUNoYW5nZXMoKXx8W107Zm9yKGNvbnN0e21ldGhvZDpuLHN0YXJ0OnMsY291bnQ6b31vZiBlKXtjb25zdCByPW49PT0iX3JlbW92ZUVsZW1lbnRzIj8tbzpvO3djKHQscyxyKX19X2dldFVuaWZvcm1EYXRhQ2hhbmdlcygpe2NvbnN0IHQ9dGhpcy5fZGF0YUNoYW5nZXM7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm47dGhpcy5fZGF0YUNoYW5nZXM9W107Y29uc3QgZT10aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoLG49bz0+bmV3IFNldCh0LmZpbHRlcihyPT5yWzBdPT09bykubWFwKChyLGEpPT5hKyIsIityLnNwbGljZSgxKS5qb2luKCIsIikpKSxzPW4oMCk7Zm9yKGxldCBvPTE7bzxlO28rKylpZigha24ocyxuKG8pKSlyZXR1cm47cmV0dXJuIEFycmF5LmZyb20ocykubWFwKG89Pm8uc3BsaXQoIiwiKSkubWFwKG89Pih7bWV0aG9kOm9bMV0sc3RhcnQ6K29bMl0sY291bnQ6K29bM119KSl9X3VwZGF0ZUxheW91dCh0KXtpZih0aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZUxheW91dCIse2NhbmNlbGFibGU6ITB9KT09PSExKXJldHVybjtzdC51cGRhdGUodGhpcyx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHQpO2NvbnN0IGU9dGhpcy5jaGFydEFyZWEsbj1lLndpZHRoPD0wfHxlLmhlaWdodDw9MDt0aGlzLl9sYXllcnM9W10sWSh0aGlzLmJveGVzLHM9PntuJiZzLnBvc2l0aW9uPT09ImNoYXJ0QXJlYSJ8fChzLmNvbmZpZ3VyZSYmcy5jb25maWd1cmUoKSx0aGlzLl9sYXllcnMucHVzaCguLi5zLl9sYXllcnMoKSkpfSx0aGlzKSx0aGlzLl9sYXllcnMuZm9yRWFjaCgocyxvKT0+e3MuX2lkeD1vfSksdGhpcy5ub3RpZnlQbHVnaW5zKCJhZnRlckxheW91dCIpfV91cGRhdGVEYXRhc2V0cyh0KXtpZih0aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZURhdGFzZXRzVXBkYXRlIix7bW9kZTp0LGNhbmNlbGFibGU6ITB9KSE9PSExKXtmb3IobGV0IGU9MCxuPXRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7ZTxuOysrZSl0aGlzLmdldERhdGFzZXRNZXRhKGUpLmNvbnRyb2xsZXIuY29uZmlndXJlKCk7Zm9yKGxldCBlPTAsbj10aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoO2U8bjsrK2UpdGhpcy5fdXBkYXRlRGF0YXNldChlLHEodCk/dCh7ZGF0YXNldEluZGV4OmV9KTp0KTt0aGlzLm5vdGlmeVBsdWdpbnMoImFmdGVyRGF0YXNldHNVcGRhdGUiLHttb2RlOnR9KX19X3VwZGF0ZURhdGFzZXQodCxlKXtjb25zdCBuPXRoaXMuZ2V0RGF0YXNldE1ldGEodCkscz17bWV0YTpuLGluZGV4OnQsbW9kZTplLGNhbmNlbGFibGU6ITB9O3RoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlRGF0YXNldFVwZGF0ZSIscykhPT0hMSYmKG4uY29udHJvbGxlci5fdXBkYXRlKGUpLHMuY2FuY2VsYWJsZT0hMSx0aGlzLm5vdGlmeVBsdWdpbnMoImFmdGVyRGF0YXNldFVwZGF0ZSIscykpfXJlbmRlcigpe3RoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlUmVuZGVyIix7Y2FuY2VsYWJsZTohMH0pIT09ITEmJihndC5oYXModGhpcyk/dGhpcy5hdHRhY2hlZCYmIWd0LnJ1bm5pbmcodGhpcykmJmd0LnN0YXJ0KHRoaXMpOih0aGlzLmRyYXcoKSxCcyh7Y2hhcnQ6dGhpc30pKSl9ZHJhdygpe2xldCB0O2lmKHRoaXMuX3Jlc2l6ZUJlZm9yZURyYXcpe2NvbnN0e3dpZHRoOm4saGVpZ2h0OnN9PXRoaXMuX3Jlc2l6ZUJlZm9yZURyYXc7dGhpcy5fcmVzaXplKG4scyksdGhpcy5fcmVzaXplQmVmb3JlRHJhdz1udWxsfWlmKHRoaXMuY2xlYXIoKSx0aGlzLndpZHRoPD0wfHx0aGlzLmhlaWdodDw9MHx8dGhpcy5ub3RpZnlQbHVnaW5zKCJiZWZvcmVEcmF3Iix7Y2FuY2VsYWJsZTohMH0pPT09ITEpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbGF5ZXJzO2Zvcih0PTA7dDxlLmxlbmd0aCYmZVt0XS56PD0wOysrdCllW3RdLmRyYXcodGhpcy5jaGFydEFyZWEpO2Zvcih0aGlzLl9kcmF3RGF0YXNldHMoKTt0PGUubGVuZ3RoOysrdCllW3RdLmRyYXcodGhpcy5jaGFydEFyZWEpO3RoaXMubm90aWZ5UGx1Z2lucygiYWZ0ZXJEcmF3Iil9X2dldFNvcnRlZERhdGFzZXRNZXRhcyh0KXtjb25zdCBlPXRoaXMuX3NvcnRlZE1ldGFzZXRzLG49W107bGV0IHMsbztmb3Iocz0wLG89ZS5sZW5ndGg7czxvOysrcyl7Y29uc3Qgcj1lW3NdOyghdHx8ci52aXNpYmxlKSYmbi5wdXNoKHIpfXJldHVybiBufWdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKXtyZXR1cm4gdGhpcy5fZ2V0U29ydGVkRGF0YXNldE1ldGFzKCEwKX1fZHJhd0RhdGFzZXRzKCl7aWYodGhpcy5ub3RpZnlQbHVnaW5zKCJiZWZvcmVEYXRhc2V0c0RyYXciLHtjYW5jZWxhYmxlOiEwfSk9PT0hMSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKTtmb3IobGV0IGU9dC5sZW5ndGgtMTtlPj0wOy0tZSl0aGlzLl9kcmF3RGF0YXNldCh0W2VdKTt0aGlzLm5vdGlmeVBsdWdpbnMoImFmdGVyRGF0YXNldHNEcmF3Iil9X2RyYXdEYXRhc2V0KHQpe2NvbnN0IGU9dGhpcy5jdHgsbj10Ll9jbGlwLHM9IW4uZGlzYWJsZWQsbz1rYyh0LHRoaXMuY2hhcnRBcmVhKSxyPXttZXRhOnQsaW5kZXg6dC5pbmRleCxjYW5jZWxhYmxlOiEwfTt0aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZURhdGFzZXREcmF3IixyKSE9PSExJiYocyYmQWUoZSx7bGVmdDpuLmxlZnQ9PT0hMT8wOm8ubGVmdC1uLmxlZnQscmlnaHQ6bi5yaWdodD09PSExP3RoaXMud2lkdGg6by5yaWdodCtuLnJpZ2h0LHRvcDpuLnRvcD09PSExPzA6by50b3Atbi50b3AsYm90dG9tOm4uYm90dG9tPT09ITE/dGhpcy5oZWlnaHQ6by5ib3R0b20rbi5ib3R0b219KSx0LmNvbnRyb2xsZXIuZHJhdygpLHMmJlJlKGUpLHIuY2FuY2VsYWJsZT0hMSx0aGlzLm5vdGlmeVBsdWdpbnMoImFmdGVyRGF0YXNldERyYXciLHIpKX1pc1BvaW50SW5BcmVhKHQpe3JldHVybiBuZSh0LHRoaXMuY2hhcnRBcmVhLHRoaXMuX21pblBhZGRpbmcpfWdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUodCxlLG4scyl7Y29uc3Qgbz1fbC5tb2Rlc1tlXTtyZXR1cm4gdHlwZW9mIG89PSJmdW5jdGlvbiI/byh0aGlzLHQsbixzKTpbXX1nZXREYXRhc2V0TWV0YSh0KXtjb25zdCBlPXRoaXMuZGF0YS5kYXRhc2V0c1t0XSxuPXRoaXMuX21ldGFzZXRzO2xldCBzPW4uZmlsdGVyKG89Pm8mJm8uX2RhdGFzZXQ9PT1lKS5wb3AoKTtyZXR1cm4gc3x8KHM9e3R5cGU6bnVsbCxkYXRhOltdLGRhdGFzZXQ6bnVsbCxjb250cm9sbGVyOm51bGwsaGlkZGVuOm51bGwseEF4aXNJRDpudWxsLHlBeGlzSUQ6bnVsbCxvcmRlcjplJiZlLm9yZGVyfHwwLGluZGV4OnQsX2RhdGFzZXQ6ZSxfcGFyc2VkOltdLF9zb3J0ZWQ6ITF9LG4ucHVzaChzKSksc31nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuJGNvbnRleHR8fCh0aGlzLiRjb250ZXh0PUh0KG51bGwse2NoYXJ0OnRoaXMsdHlwZToiY2hhcnQifSkpfWdldFZpc2libGVEYXRhc2V0Q291bnQoKXtyZXR1cm4gdGhpcy5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCkubGVuZ3RofWlzRGF0YXNldFZpc2libGUodCl7Y29uc3QgZT10aGlzLmRhdGEuZGF0YXNldHNbdF07aWYoIWUpcmV0dXJuITE7Y29uc3Qgbj10aGlzLmdldERhdGFzZXRNZXRhKHQpO3JldHVybiB0eXBlb2Ygbi5oaWRkZW49PSJib29sZWFuIj8hbi5oaWRkZW46IWUuaGlkZGVufXNldERhdGFzZXRWaXNpYmlsaXR5KHQsZSl7Y29uc3Qgbj10aGlzLmdldERhdGFzZXRNZXRhKHQpO24uaGlkZGVuPSFlfXRvZ2dsZURhdGFWaXNpYmlsaXR5KHQpe3RoaXMuX2hpZGRlbkluZGljZXNbdF09IXRoaXMuX2hpZGRlbkluZGljZXNbdF19Z2V0RGF0YVZpc2liaWxpdHkodCl7cmV0dXJuIXRoaXMuX2hpZGRlbkluZGljZXNbdF19X3VwZGF0ZVZpc2liaWxpdHkodCxlLG4pe2NvbnN0IHM9bj8ic2hvdyI6ImhpZGUiLG89dGhpcy5nZXREYXRhc2V0TWV0YSh0KSxyPW8uY29udHJvbGxlci5fcmVzb2x2ZUFuaW1hdGlvbnModm9pZCAwLHMpO0soZSk/KG8uZGF0YVtlXS5oaWRkZW49IW4sdGhpcy51cGRhdGUoKSk6KHRoaXMuc2V0RGF0YXNldFZpc2liaWxpdHkodCxuKSxyLnVwZGF0ZShvLHt2aXNpYmxlOm59KSx0aGlzLnVwZGF0ZShhPT5hLmRhdGFzZXRJbmRleD09PXQ/czp2b2lkIDApKX1oaWRlKHQsZSl7dGhpcy5fdXBkYXRlVmlzaWJpbGl0eSh0LGUsITEpfXNob3codCxlKXt0aGlzLl91cGRhdGVWaXNpYmlsaXR5KHQsZSwhMCl9X2Rlc3Ryb3lEYXRhc2V0TWV0YSh0KXtjb25zdCBlPXRoaXMuX21ldGFzZXRzW3RdO2UmJmUuY29udHJvbGxlciYmZS5jb250cm9sbGVyLl9kZXN0cm95KCksZGVsZXRlIHRoaXMuX21ldGFzZXRzW3RdfV9zdG9wKCl7bGV0IHQsZTtmb3IodGhpcy5zdG9wKCksZ3QucmVtb3ZlKHRoaXMpLHQ9MCxlPXRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7dDxlOysrdCl0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEodCl9ZGVzdHJveSgpe3RoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlRGVzdHJveSIpO2NvbnN0e2NhbnZhczp0LGN0eDplfT10aGlzO3RoaXMuX3N0b3AoKSx0aGlzLmNvbmZpZy5jbGVhckNhY2hlKCksdCYmKHRoaXMudW5iaW5kRXZlbnRzKCksQm4odCxlKSx0aGlzLnBsYXRmb3JtLnJlbGVhc2VDb250ZXh0KGUpLHRoaXMuY2FudmFzPW51bGwsdGhpcy5jdHg9bnVsbCksZGVsZXRlIFhlW3RoaXMuaWRdLHRoaXMubm90aWZ5UGx1Z2lucygiYWZ0ZXJEZXN0cm95Iil9dG9CYXNlNjRJbWFnZSguLi50KXtyZXR1cm4gdGhpcy5jYW52YXMudG9EYXRhVVJMKC4uLnQpfWJpbmRFdmVudHMoKXt0aGlzLmJpbmRVc2VyRXZlbnRzKCksdGhpcy5vcHRpb25zLnJlc3BvbnNpdmU/dGhpcy5iaW5kUmVzcG9uc2l2ZUV2ZW50cygpOnRoaXMuYXR0YWNoZWQ9ITB9YmluZFVzZXJFdmVudHMoKXtjb25zdCB0PXRoaXMuX2xpc3RlbmVycyxlPXRoaXMucGxhdGZvcm0sbj0obyxyKT0+e2UuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLG8sciksdFtvXT1yfSxzPShvLHIsYSk9PntvLm9mZnNldFg9cixvLm9mZnNldFk9YSx0aGlzLl9ldmVudEhhbmRsZXIobyl9O1kodGhpcy5vcHRpb25zLmV2ZW50cyxvPT5uKG8scykpfWJpbmRSZXNwb25zaXZlRXZlbnRzKCl7dGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVyc3x8KHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM9e30pO2NvbnN0IHQ9dGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyxlPXRoaXMucGxhdGZvcm0sbj0obCxjKT0+e2UuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLGwsYyksdFtsXT1jfSxzPShsLGMpPT57dFtsXSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLGwsYyksZGVsZXRlIHRbbF0pfSxvPShsLGMpPT57dGhpcy5jYW52YXMmJnRoaXMucmVzaXplKGwsYyl9O2xldCByO2NvbnN0IGE9KCk9PntzKCJhdHRhY2giLGEpLHRoaXMuYXR0YWNoZWQ9ITAsdGhpcy5yZXNpemUoKSxuKCJyZXNpemUiLG8pLG4oImRldGFjaCIscil9O3I9KCk9Pnt0aGlzLmF0dGFjaGVkPSExLHMoInJlc2l6ZSIsbyksdGhpcy5fc3RvcCgpLHRoaXMuX3Jlc2l6ZSgwLDApLG4oImF0dGFjaCIsYSl9LGUuaXNBdHRhY2hlZCh0aGlzLmNhbnZhcyk/YSgpOnIoKX11bmJpbmRFdmVudHMoKXtZKHRoaXMuX2xpc3RlbmVycywodCxlKT0+e3RoaXMucGxhdGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLGUsdCl9KSx0aGlzLl9saXN0ZW5lcnM9e30sWSh0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzLCh0LGUpPT57dGhpcy5wbGF0Zm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMsZSx0KX0pLHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM9dm9pZCAwfXVwZGF0ZUhvdmVyU3R5bGUodCxlLG4pe2NvbnN0IHM9bj8ic2V0IjoicmVtb3ZlIjtsZXQgbyxyLGEsbDtmb3IoZT09PSJkYXRhc2V0IiYmKG89dGhpcy5nZXREYXRhc2V0TWV0YSh0WzBdLmRhdGFzZXRJbmRleCksby5jb250cm9sbGVyWyJfIitzKyJEYXRhc2V0SG92ZXJTdHlsZSJdKCkpLGE9MCxsPXQubGVuZ3RoO2E8bDsrK2Epe3I9dFthXTtjb25zdCBjPXImJnRoaXMuZ2V0RGF0YXNldE1ldGEoci5kYXRhc2V0SW5kZXgpLmNvbnRyb2xsZXI7YyYmY1tzKyJIb3ZlclN0eWxlIl0oci5lbGVtZW50LHIuZGF0YXNldEluZGV4LHIuaW5kZXgpfX1nZXRBY3RpdmVFbGVtZW50cygpe3JldHVybiB0aGlzLl9hY3RpdmV8fFtdfXNldEFjdGl2ZUVsZW1lbnRzKHQpe2NvbnN0IGU9dGhpcy5fYWN0aXZlfHxbXSxuPXQubWFwKCh7ZGF0YXNldEluZGV4Om8saW5kZXg6cn0pPT57Y29uc3QgYT10aGlzLmdldERhdGFzZXRNZXRhKG8pO2lmKCFhKXRocm93IG5ldyBFcnJvcigiTm8gZGF0YXNldCBmb3VuZCBhdCBpbmRleCAiK28pO3JldHVybntkYXRhc2V0SW5kZXg6byxlbGVtZW50OmEuZGF0YVtyXSxpbmRleDpyfX0pOyF5bihuLGUpJiYodGhpcy5fYWN0aXZlPW4sdGhpcy5fbGFzdEV2ZW50PW51bGwsdGhpcy5fdXBkYXRlSG92ZXJTdHlsZXMobixlKSl9bm90aWZ5UGx1Z2lucyh0LGUsbil7cmV0dXJuIHRoaXMuX3BsdWdpbnMubm90aWZ5KHRoaXMsdCxlLG4pfWlzUGx1Z2luRW5hYmxlZCh0KXtyZXR1cm4gdGhpcy5fcGx1Z2lucy5fY2FjaGUuZmlsdGVyKGU9PmUucGx1Z2luLmlkPT09dCkubGVuZ3RoPT09MX1fdXBkYXRlSG92ZXJTdHlsZXModCxlLG4pe2NvbnN0IHM9dGhpcy5vcHRpb25zLmhvdmVyLG89KGwsYyk9PmwuZmlsdGVyKGg9PiFjLnNvbWUoZD0+aC5kYXRhc2V0SW5kZXg9PT1kLmRhdGFzZXRJbmRleCYmaC5pbmRleD09PWQuaW5kZXgpKSxyPW8oZSx0KSxhPW4/dDpvKHQsZSk7ci5sZW5ndGgmJnRoaXMudXBkYXRlSG92ZXJTdHlsZShyLHMubW9kZSwhMSksYS5sZW5ndGgmJnMubW9kZSYmdGhpcy51cGRhdGVIb3ZlclN0eWxlKGEscy5tb2RlLCEwKX1fZXZlbnRIYW5kbGVyKHQsZSl7Y29uc3Qgbj17ZXZlbnQ6dCxyZXBsYXk6ZSxjYW5jZWxhYmxlOiEwLGluQ2hhcnRBcmVhOnRoaXMuaXNQb2ludEluQXJlYSh0KX0scz1yPT4oci5vcHRpb25zLmV2ZW50c3x8dGhpcy5vcHRpb25zLmV2ZW50cykuaW5jbHVkZXModC5uYXRpdmUudHlwZSk7aWYodGhpcy5ub3RpZnlQbHVnaW5zKCJiZWZvcmVFdmVudCIsbixzKT09PSExKXJldHVybjtjb25zdCBvPXRoaXMuX2hhbmRsZUV2ZW50KHQsZSxuLmluQ2hhcnRBcmVhKTtyZXR1cm4gbi5jYW5jZWxhYmxlPSExLHRoaXMubm90aWZ5UGx1Z2lucygiYWZ0ZXJFdmVudCIsbixzKSwob3x8bi5jaGFuZ2VkKSYmdGhpcy5yZW5kZXIoKSx0aGlzfV9oYW5kbGVFdmVudCh0LGUsbil7Y29uc3R7X2FjdGl2ZTpzPVtdLG9wdGlvbnM6b309dGhpcyxyPWUsYT10aGlzLl9nZXRBY3RpdmVFbGVtZW50cyh0LHMsbixyKSxsPVByKHQpLGM9TWModCx0aGlzLl9sYXN0RXZlbnQsbixsKTtuJiYodGhpcy5fbGFzdEV2ZW50PW51bGwsTChvLm9uSG92ZXIsW3QsYSx0aGlzXSx0aGlzKSxsJiZMKG8ub25DbGljayxbdCxhLHRoaXNdLHRoaXMpKTtjb25zdCBoPSF5bihhLHMpO3JldHVybihofHxlKSYmKHRoaXMuX2FjdGl2ZT1hLHRoaXMuX3VwZGF0ZUhvdmVyU3R5bGVzKGEscyxlKSksdGhpcy5fbGFzdEV2ZW50PWMsaH1fZ2V0QWN0aXZlRWxlbWVudHModCxlLG4scyl7aWYodC50eXBlPT09Im1vdXNlb3V0IilyZXR1cm5bXTtpZighbilyZXR1cm4gZTtjb25zdCBvPXRoaXMub3B0aW9ucy5ob3ZlcjtyZXR1cm4gdGhpcy5nZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlKHQsby5tb2RlLG8scyl9fVModHQsImRlZmF1bHRzIixFKSxTKHR0LCJpbnN0YW5jZXMiLFhlKSxTKHR0LCJvdmVycmlkZXMiLFB0KSxTKHR0LCJyZWdpc3RyeSIsZHQpLFModHQsInZlcnNpb24iLHhjKSxTKHR0LCJnZXRDaGFydCIsanMpO2Z1bmN0aW9uIE5zKCl7cmV0dXJuIFkodHQuaW5zdGFuY2VzLGk9PmkuX3BsdWdpbnMuaW52YWxpZGF0ZSgpKX1mdW5jdGlvbiBWcyhpLHQsZT10KXtpLmxpbmVDYXA9UChlLmJvcmRlckNhcFN0eWxlLHQuYm9yZGVyQ2FwU3R5bGUpLGkuc2V0TGluZURhc2goUChlLmJvcmRlckRhc2gsdC5ib3JkZXJEYXNoKSksaS5saW5lRGFzaE9mZnNldD1QKGUuYm9yZGVyRGFzaE9mZnNldCx0LmJvcmRlckRhc2hPZmZzZXQpLGkubGluZUpvaW49UChlLmJvcmRlckpvaW5TdHlsZSx0LmJvcmRlckpvaW5TdHlsZSksaS5saW5lV2lkdGg9UChlLmJvcmRlcldpZHRoLHQuYm9yZGVyV2lkdGgpLGkuc3Ryb2tlU3R5bGU9UChlLmJvcmRlckNvbG9yLHQuYm9yZGVyQ29sb3IpfWZ1bmN0aW9uIHZjKGksdCxlKXtpLmxpbmVUbyhlLngsZS55KX1mdW5jdGlvbiBTYyhpKXtyZXR1cm4gaS5zdGVwcGVkP0dyOmkudGVuc2lvbnx8aS5jdWJpY0ludGVycG9sYXRpb25Nb2RlPT09Im1vbm90b25lIj9Kcjp2Y31mdW5jdGlvbiBZcyhpLHQsZT17fSl7Y29uc3Qgbj1pLmxlbmd0aCx7c3RhcnQ6cz0wLGVuZDpvPW4tMX09ZSx7c3RhcnQ6cixlbmQ6YX09dCxsPU1hdGgubWF4KHMsciksYz1NYXRoLm1pbihvLGEpLGg9czxyJiZvPHJ8fHM+YSYmbz5hO3JldHVybntjb3VudDpuLHN0YXJ0OmwsbG9vcDp0Lmxvb3AsaWxlbjpjPGwmJiFoP24rYy1sOmMtbH19ZnVuY3Rpb24gUGMoaSx0LGUsbil7Y29uc3R7cG9pbnRzOnMsb3B0aW9uczpvfT10LHtjb3VudDpyLHN0YXJ0OmEsbG9vcDpsLGlsZW46Y309WXMocyxlLG4pLGg9U2Mobyk7bGV0e21vdmU6ZD0hMCxyZXZlcnNlOnV9PW58fHt9LGYsZyxwO2ZvcihmPTA7Zjw9YzsrK2YpZz1zWyhhKyh1P2MtZjpmKSklcl0sIWcuc2tpcCYmKGQ/KGkubW92ZVRvKGcueCxnLnkpLGQ9ITEpOmgoaSxwLGcsdSxvLnN0ZXBwZWQpLHA9Zyk7cmV0dXJuIGwmJihnPXNbKGErKHU/YzowKSklcl0saChpLHAsZyx1LG8uc3RlcHBlZCkpLCEhbH1mdW5jdGlvbiBEYyhpLHQsZSxuKXtjb25zdCBzPXQucG9pbnRzLHtjb3VudDpvLHN0YXJ0OnIsaWxlbjphfT1ZcyhzLGUsbikse21vdmU6bD0hMCxyZXZlcnNlOmN9PW58fHt9O2xldCBoPTAsZD0wLHUsZixnLHAsbSxiO2NvbnN0IHg9TT0+KHIrKGM/YS1NOk0pKSVvLHk9KCk9PntwIT09bSYmKGkubGluZVRvKGgsbSksaS5saW5lVG8oaCxwKSxpLmxpbmVUbyhoLGIpKX07Zm9yKGwmJihmPXNbeCgwKV0saS5tb3ZlVG8oZi54LGYueSkpLHU9MDt1PD1hOysrdSl7aWYoZj1zW3godSldLGYuc2tpcCljb250aW51ZTtjb25zdCBNPWYueCxfPWYueSx2PU18MDt2PT09Zz8oXzxwP3A9XzpfPm0mJihtPV8pLGg9KGQqaCtNKS8rK2QpOih5KCksaS5saW5lVG8oTSxfKSxnPXYsZD0wLHA9bT1fKSxiPV99eSgpfWZ1bmN0aW9uIFlpKGkpe2NvbnN0IHQ9aS5vcHRpb25zLGU9dC5ib3JkZXJEYXNoJiZ0LmJvcmRlckRhc2gubGVuZ3RoO3JldHVybiFpLl9kZWNpbWF0ZWQmJiFpLl9sb29wJiYhdC50ZW5zaW9uJiZ0LmN1YmljSW50ZXJwb2xhdGlvbk1vZGUhPT0ibW9ub3RvbmUiJiYhdC5zdGVwcGVkJiYhZT9EYzpQY31mdW5jdGlvbiBPYyhpKXtyZXR1cm4gaS5zdGVwcGVkP0NhOmkudGVuc2lvbnx8aS5jdWJpY0ludGVycG9sYXRpb25Nb2RlPT09Im1vbm90b25lIj9UYTpUdH1mdW5jdGlvbiBDYyhpLHQsZSxuKXtsZXQgcz10Ll9wYXRoO3N8fChzPXQuX3BhdGg9bmV3IFBhdGgyRCx0LnBhdGgocyxlLG4pJiZzLmNsb3NlUGF0aCgpKSxWcyhpLHQub3B0aW9ucyksaS5zdHJva2Uocyl9ZnVuY3Rpb24gVGMoaSx0LGUsbil7Y29uc3R7c2VnbWVudHM6cyxvcHRpb25zOm99PXQscj1ZaSh0KTtmb3IoY29uc3QgYSBvZiBzKVZzKGksbyxhLnN0eWxlKSxpLmJlZ2luUGF0aCgpLHIoaSx0LGEse3N0YXJ0OmUsZW5kOmUrbi0xfSkmJmkuY2xvc2VQYXRoKCksaS5zdHJva2UoKX1jb25zdCBBYz10eXBlb2YgUGF0aDJEPT0iZnVuY3Rpb24iO2Z1bmN0aW9uIFJjKGksdCxlLG4pe0FjJiYhdC5vcHRpb25zLnNlZ21lbnQ/Q2MoaSx0LGUsbik6VGMoaSx0LGUsbil9Y2xhc3MgZ2UgZXh0ZW5kcyBYe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5hbmltYXRlZD0hMCx0aGlzLm9wdGlvbnM9dm9pZCAwLHRoaXMuX2NoYXJ0PXZvaWQgMCx0aGlzLl9sb29wPXZvaWQgMCx0aGlzLl9mdWxsTG9vcD12b2lkIDAsdGhpcy5fcGF0aD12b2lkIDAsdGhpcy5fcG9pbnRzPXZvaWQgMCx0aGlzLl9zZWdtZW50cz12b2lkIDAsdGhpcy5fZGVjaW1hdGVkPSExLHRoaXMuX3BvaW50c1VwZGF0ZWQ9ITEsdGhpcy5fZGF0YXNldEluZGV4PXZvaWQgMCx0JiZPYmplY3QuYXNzaWduKHRoaXMsdCl9dXBkYXRlQ29udHJvbFBvaW50cyh0LGUpe2NvbnN0IG49dGhpcy5vcHRpb25zO2lmKChuLnRlbnNpb258fG4uY3ViaWNJbnRlcnBvbGF0aW9uTW9kZT09PSJtb25vdG9uZSIpJiYhbi5zdGVwcGVkJiYhdGhpcy5fcG9pbnRzVXBkYXRlZCl7Y29uc3Qgcz1uLnNwYW5HYXBzP3RoaXMuX2xvb3A6dGhpcy5fZnVsbExvb3A7d2EodGhpcy5fcG9pbnRzLG4sdCxzLGUpLHRoaXMuX3BvaW50c1VwZGF0ZWQ9ITB9fXNldCBwb2ludHModCl7dGhpcy5fcG9pbnRzPXQsZGVsZXRlIHRoaXMuX3NlZ21lbnRzLGRlbGV0ZSB0aGlzLl9wYXRoLHRoaXMuX3BvaW50c1VwZGF0ZWQ9ITF9Z2V0IHBvaW50cygpe3JldHVybiB0aGlzLl9wb2ludHN9Z2V0IHNlZ21lbnRzKCl7cmV0dXJuIHRoaXMuX3NlZ21lbnRzfHwodGhpcy5fc2VnbWVudHM9SGEodGhpcyx0aGlzLm9wdGlvbnMuc2VnbWVudCkpfWZpcnN0KCl7Y29uc3QgdD10aGlzLnNlZ21lbnRzLGU9dGhpcy5wb2ludHM7cmV0dXJuIHQubGVuZ3RoJiZlW3RbMF0uc3RhcnRdfWxhc3QoKXtjb25zdCB0PXRoaXMuc2VnbWVudHMsZT10aGlzLnBvaW50cyxuPXQubGVuZ3RoO3JldHVybiBuJiZlW3Rbbi0xXS5lbmRdfWludGVycG9sYXRlKHQsZSl7Y29uc3Qgbj10aGlzLm9wdGlvbnMscz10W2VdLG89dGhpcy5wb2ludHMscj1GYSh0aGlzLHtwcm9wZXJ0eTplLHN0YXJ0OnMsZW5kOnN9KTtpZighci5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9W10sbD1PYyhuKTtsZXQgYyxoO2ZvcihjPTAsaD1yLmxlbmd0aDtjPGg7KytjKXtjb25zdHtzdGFydDpkLGVuZDp1fT1yW2NdLGY9b1tkXSxnPW9bdV07aWYoZj09PWcpe2EucHVzaChmKTtjb250aW51ZX1jb25zdCBwPU1hdGguYWJzKChzLWZbZV0pLyhnW2VdLWZbZV0pKSxtPWwoZixnLHAsbi5zdGVwcGVkKTttW2VdPXRbZV0sYS5wdXNoKG0pfXJldHVybiBhLmxlbmd0aD09PTE/YVswXTphfXBhdGhTZWdtZW50KHQsZSxuKXtyZXR1cm4gWWkodGhpcykodCx0aGlzLGUsbil9cGF0aCh0LGUsbil7Y29uc3Qgcz10aGlzLnNlZ21lbnRzLG89WWkodGhpcyk7bGV0IHI9dGhpcy5fbG9vcDtlPWV8fDAsbj1ufHx0aGlzLnBvaW50cy5sZW5ndGgtZTtmb3IoY29uc3QgYSBvZiBzKXImPW8odCx0aGlzLGEse3N0YXJ0OmUsZW5kOmUrbi0xfSk7cmV0dXJuISFyfWRyYXcodCxlLG4scyl7Y29uc3Qgbz10aGlzLm9wdGlvbnN8fHt9Oyh0aGlzLnBvaW50c3x8W10pLmxlbmd0aCYmby5ib3JkZXJXaWR0aCYmKHQuc2F2ZSgpLFJjKHQsdGhpcyxuLHMpLHQucmVzdG9yZSgpKSx0aGlzLmFuaW1hdGVkJiYodGhpcy5fcG9pbnRzVXBkYXRlZD0hMSx0aGlzLl9wYXRoPXZvaWQgMCl9fVMoZ2UsImlkIiwibGluZSIpLFMoZ2UsImRlZmF1bHRzIix7Ym9yZGVyQ2FwU3R5bGU6ImJ1dHQiLGJvcmRlckRhc2g6W10sYm9yZGVyRGFzaE9mZnNldDowLGJvcmRlckpvaW5TdHlsZToibWl0ZXIiLGJvcmRlcldpZHRoOjMsY2FwQmV6aWVyUG9pbnRzOiEwLGN1YmljSW50ZXJwb2xhdGlvbk1vZGU6ImRlZmF1bHQiLGZpbGw6ITEsc3BhbkdhcHM6ITEsc3RlcHBlZDohMSx0ZW5zaW9uOjB9KSxTKGdlLCJkZWZhdWx0Um91dGVzIix7YmFja2dyb3VuZENvbG9yOiJiYWNrZ3JvdW5kQ29sb3IiLGJvcmRlckNvbG9yOiJib3JkZXJDb2xvciJ9KSxTKGdlLCJkZXNjcmlwdG9ycyIse19zY3JpcHRhYmxlOiEwLF9pbmRleGFibGU6dD0+dCE9PSJib3JkZXJEYXNoIiYmdCE9PSJmaWxsIn0pO2Z1bmN0aW9uICRzKGksdCxlLG4pe2NvbnN0IHM9aS5vcHRpb25zLHtbZV06b309aS5nZXRQcm9wcyhbZV0sbik7cmV0dXJuIE1hdGguYWJzKHQtbyk8cy5yYWRpdXMrcy5oaXRSYWRpdXN9Y2xhc3MgS2UgZXh0ZW5kcyBYe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7Uyh0aGlzLCJwYXJzZWQiKTtTKHRoaXMsInNraXAiKTtTKHRoaXMsInN0b3AiKTt0aGlzLm9wdGlvbnM9dm9pZCAwLHRoaXMucGFyc2VkPXZvaWQgMCx0aGlzLnNraXA9dm9pZCAwLHRoaXMuc3RvcD12b2lkIDAsZSYmT2JqZWN0LmFzc2lnbih0aGlzLGUpfWluUmFuZ2UoZSxuLHMpe2NvbnN0IG89dGhpcy5vcHRpb25zLHt4OnIseTphfT10aGlzLmdldFByb3BzKFsieCIsInkiXSxzKTtyZXR1cm4gTWF0aC5wb3coZS1yLDIpK01hdGgucG93KG4tYSwyKTxNYXRoLnBvdyhvLmhpdFJhZGl1cytvLnJhZGl1cywyKX1pblhSYW5nZShlLG4pe3JldHVybiAkcyh0aGlzLGUsIngiLG4pfWluWVJhbmdlKGUsbil7cmV0dXJuICRzKHRoaXMsZSwieSIsbil9Z2V0Q2VudGVyUG9pbnQoZSl7Y29uc3R7eDpuLHk6c309dGhpcy5nZXRQcm9wcyhbIngiLCJ5Il0sZSk7cmV0dXJue3g6bix5OnN9fXNpemUoZSl7ZT1lfHx0aGlzLm9wdGlvbnN8fHt9O2xldCBuPWUucmFkaXVzfHwwO249TWF0aC5tYXgobixuJiZlLmhvdmVyUmFkaXVzfHwwKTtjb25zdCBzPW4mJmUuYm9yZGVyV2lkdGh8fDA7cmV0dXJuKG4rcykqMn1kcmF3KGUsbil7Y29uc3Qgcz10aGlzLm9wdGlvbnM7dGhpcy5za2lwfHxzLnJhZGl1czwuMXx8IW5lKHRoaXMsbix0aGlzLnNpemUocykvMil8fChlLnN0cm9rZVN0eWxlPXMuYm9yZGVyQ29sb3IsZS5saW5lV2lkdGg9cy5ib3JkZXJXaWR0aCxlLmZpbGxTdHlsZT1zLmJhY2tncm91bmRDb2xvcixxcihlLHMsdGhpcy54LHRoaXMueSkpfWdldFJhbmdlKCl7Y29uc3QgZT10aGlzLm9wdGlvbnN8fHt9O3JldHVybiBlLnJhZGl1cytlLmhpdFJhZGl1c319UyhLZSwiaWQiLCJwb2ludCIpLFMoS2UsImRlZmF1bHRzIix7Ym9yZGVyV2lkdGg6MSxoaXRSYWRpdXM6MSxob3ZlckJvcmRlcldpZHRoOjEsaG92ZXJSYWRpdXM6NCxwb2ludFN0eWxlOiJjaXJjbGUiLHJhZGl1czozLHJvdGF0aW9uOjB9KSxTKEtlLCJkZWZhdWx0Um91dGVzIix7YmFja2dyb3VuZENvbG9yOiJiYWNrZ3JvdW5kQ29sb3IiLGJvcmRlckNvbG9yOiJib3JkZXJDb2xvciJ9KTtmdW5jdGlvbiBYcyhpLHQpe2NvbnN0e3g6ZSx5Om4sYmFzZTpzLHdpZHRoOm8saGVpZ2h0OnJ9PWkuZ2V0UHJvcHMoWyJ4IiwieSIsImJhc2UiLCJ3aWR0aCIsImhlaWdodCJdLHQpO2xldCBhLGwsYyxoLGQ7cmV0dXJuIGkuaG9yaXpvbnRhbD8oZD1yLzIsYT1NYXRoLm1pbihlLHMpLGw9TWF0aC5tYXgoZSxzKSxjPW4tZCxoPW4rZCk6KGQ9by8yLGE9ZS1kLGw9ZStkLGM9TWF0aC5taW4obixzKSxoPU1hdGgubWF4KG4scykpLHtsZWZ0OmEsdG9wOmMscmlnaHQ6bCxib3R0b206aH19ZnVuY3Rpb24geHQoaSx0LGUsbil7cmV0dXJuIGk/MDphdCh0LGUsbil9ZnVuY3Rpb24gTGMoaSx0LGUpe2NvbnN0IG49aS5vcHRpb25zLmJvcmRlcldpZHRoLHM9aS5ib3JkZXJTa2lwcGVkLG89Tm4obik7cmV0dXJue3Q6eHQocy50b3Asby50b3AsMCxlKSxyOnh0KHMucmlnaHQsby5yaWdodCwwLHQpLGI6eHQocy5ib3R0b20sby5ib3R0b20sMCxlKSxsOnh0KHMubGVmdCxvLmxlZnQsMCx0KX19ZnVuY3Rpb24gSWMoaSx0LGUpe2NvbnN0e2VuYWJsZUJvcmRlclJhZGl1czpufT1pLmdldFByb3BzKFsiZW5hYmxlQm9yZGVyUmFkaXVzIl0pLHM9aS5vcHRpb25zLmJvcmRlclJhZGl1cyxvPU9pKHMpLHI9TWF0aC5taW4odCxlKSxhPWkuYm9yZGVyU2tpcHBlZCxsPW58fE8ocyk7cmV0dXJue3RvcExlZnQ6eHQoIWx8fGEudG9wfHxhLmxlZnQsby50b3BMZWZ0LDAsciksdG9wUmlnaHQ6eHQoIWx8fGEudG9wfHxhLnJpZ2h0LG8udG9wUmlnaHQsMCxyKSxib3R0b21MZWZ0Onh0KCFsfHxhLmJvdHRvbXx8YS5sZWZ0LG8uYm90dG9tTGVmdCwwLHIpLGJvdHRvbVJpZ2h0Onh0KCFsfHxhLmJvdHRvbXx8YS5yaWdodCxvLmJvdHRvbVJpZ2h0LDAscil9fWZ1bmN0aW9uIHpjKGkpe2NvbnN0IHQ9WHMoaSksZT10LnJpZ2h0LXQubGVmdCxuPXQuYm90dG9tLXQudG9wLHM9TGMoaSxlLzIsbi8yKSxvPUljKGksZS8yLG4vMik7cmV0dXJue291dGVyOnt4OnQubGVmdCx5OnQudG9wLHc6ZSxoOm4scmFkaXVzOm99LGlubmVyOnt4OnQubGVmdCtzLmwseTp0LnRvcCtzLnQsdzplLXMubC1zLnIsaDpuLXMudC1zLmIscmFkaXVzOnt0b3BMZWZ0Ok1hdGgubWF4KDAsby50b3BMZWZ0LU1hdGgubWF4KHMudCxzLmwpKSx0b3BSaWdodDpNYXRoLm1heCgwLG8udG9wUmlnaHQtTWF0aC5tYXgocy50LHMucikpLGJvdHRvbUxlZnQ6TWF0aC5tYXgoMCxvLmJvdHRvbUxlZnQtTWF0aC5tYXgocy5iLHMubCkpLGJvdHRvbVJpZ2h0Ok1hdGgubWF4KDAsby5ib3R0b21SaWdodC1NYXRoLm1heChzLmIscy5yKSl9fX19ZnVuY3Rpb24gJGkoaSx0LGUsbil7Y29uc3Qgcz10PT09bnVsbCxvPWU9PT1udWxsLGE9aSYmIShzJiZvKSYmWHMoaSxuKTtyZXR1cm4gYSYmKHN8fHZ0KHQsYS5sZWZ0LGEucmlnaHQpKSYmKG98fHZ0KGUsYS50b3AsYS5ib3R0b20pKX1mdW5jdGlvbiBFYyhpKXtyZXR1cm4gaS50b3BMZWZ0fHxpLnRvcFJpZ2h0fHxpLmJvdHRvbUxlZnR8fGkuYm90dG9tUmlnaHR9ZnVuY3Rpb24gRmMoaSx0KXtpLnJlY3QodC54LHQueSx0LncsdC5oKX1mdW5jdGlvbiBYaShpLHQsZT17fSl7Y29uc3Qgbj1pLnghPT1lLng/LXQ6MCxzPWkueSE9PWUueT8tdDowLG89KGkueCtpLnchPT1lLngrZS53P3Q6MCktbixyPShpLnkraS5oIT09ZS55K2UuaD90OjApLXM7cmV0dXJue3g6aS54K24seTppLnkrcyx3OmkudytvLGg6aS5oK3IscmFkaXVzOmkucmFkaXVzfX1jbGFzcyBxZSBleHRlbmRzIFh7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm9wdGlvbnM9dm9pZCAwLHRoaXMuaG9yaXpvbnRhbD12b2lkIDAsdGhpcy5iYXNlPXZvaWQgMCx0aGlzLndpZHRoPXZvaWQgMCx0aGlzLmhlaWdodD12b2lkIDAsdGhpcy5pbmZsYXRlQW1vdW50PXZvaWQgMCx0JiZPYmplY3QuYXNzaWduKHRoaXMsdCl9ZHJhdyh0KXtjb25zdHtpbmZsYXRlQW1vdW50OmUsb3B0aW9uczp7Ym9yZGVyQ29sb3I6bixiYWNrZ3JvdW5kQ29sb3I6c319PXRoaXMse2lubmVyOm8sb3V0ZXI6cn09emModGhpcyksYT1FYyhyLnJhZGl1cyk/RGk6RmM7dC5zYXZlKCksKHIudyE9PW8ud3x8ci5oIT09by5oKSYmKHQuYmVnaW5QYXRoKCksYSh0LFhpKHIsZSxvKSksdC5jbGlwKCksYSh0LFhpKG8sLWUscikpLHQuZmlsbFN0eWxlPW4sdC5maWxsKCJldmVub2RkIikpLHQuYmVnaW5QYXRoKCksYSh0LFhpKG8sZSkpLHQuZmlsbFN0eWxlPXMsdC5maWxsKCksdC5yZXN0b3JlKCl9aW5SYW5nZSh0LGUsbil7cmV0dXJuICRpKHRoaXMsdCxlLG4pfWluWFJhbmdlKHQsZSl7cmV0dXJuICRpKHRoaXMsdCxudWxsLGUpfWluWVJhbmdlKHQsZSl7cmV0dXJuICRpKHRoaXMsbnVsbCx0LGUpfWdldENlbnRlclBvaW50KHQpe2NvbnN0e3g6ZSx5Om4sYmFzZTpzLGhvcml6b250YWw6b309dGhpcy5nZXRQcm9wcyhbIngiLCJ5IiwiYmFzZSIsImhvcml6b250YWwiXSx0KTtyZXR1cm57eDpvPyhlK3MpLzI6ZSx5Om8/bjoobitzKS8yfX1nZXRSYW5nZSh0KXtyZXR1cm4gdD09PSJ4Ij90aGlzLndpZHRoLzI6dGhpcy5oZWlnaHQvMn19UyhxZSwiaWQiLCJiYXIiKSxTKHFlLCJkZWZhdWx0cyIse2JvcmRlclNraXBwZWQ6InN0YXJ0Iixib3JkZXJXaWR0aDowLGJvcmRlclJhZGl1czowLGluZmxhdGVBbW91bnQ6ImF1dG8iLHBvaW50U3R5bGU6dm9pZCAwfSksUyhxZSwiZGVmYXVsdFJvdXRlcyIse2JhY2tncm91bmRDb2xvcjoiYmFja2dyb3VuZENvbG9yIixib3JkZXJDb2xvcjoiYm9yZGVyQ29sb3IifSk7Y29uc3QgVXM9KGksdCk9PntsZXR7Ym94SGVpZ2h0OmU9dCxib3hXaWR0aDpuPXR9PWk7cmV0dXJuIGkudXNlUG9pbnRTdHlsZSYmKGU9TWF0aC5taW4oZSx0KSxuPWkucG9pbnRTdHlsZVdpZHRofHxNYXRoLm1pbihuLHQpKSx7Ym94V2lkdGg6bixib3hIZWlnaHQ6ZSxpdGVtSGVpZ2h0Ok1hdGgubWF4KHQsZSl9fSxXYz0oaSx0KT0+aSE9PW51bGwmJnQhPT1udWxsJiZpLmRhdGFzZXRJbmRleD09PXQuZGF0YXNldEluZGV4JiZpLmluZGV4PT09dC5pbmRleDtjbGFzcyBLcyBleHRlbmRzIFh7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9hZGRlZD0hMSx0aGlzLmxlZ2VuZEhpdEJveGVzPVtdLHRoaXMuX2hvdmVyZWRJdGVtPW51bGwsdGhpcy5kb3VnaG51dE1vZGU9ITEsdGhpcy5jaGFydD10LmNoYXJ0LHRoaXMub3B0aW9ucz10Lm9wdGlvbnMsdGhpcy5jdHg9dC5jdHgsdGhpcy5sZWdlbmRJdGVtcz12b2lkIDAsdGhpcy5jb2x1bW5TaXplcz12b2lkIDAsdGhpcy5saW5lV2lkdGhzPXZvaWQgMCx0aGlzLm1heEhlaWdodD12b2lkIDAsdGhpcy5tYXhXaWR0aD12b2lkIDAsdGhpcy50b3A9dm9pZCAwLHRoaXMuYm90dG9tPXZvaWQgMCx0aGlzLmxlZnQ9dm9pZCAwLHRoaXMucmlnaHQ9dm9pZCAwLHRoaXMuaGVpZ2h0PXZvaWQgMCx0aGlzLndpZHRoPXZvaWQgMCx0aGlzLl9tYXJnaW5zPXZvaWQgMCx0aGlzLnBvc2l0aW9uPXZvaWQgMCx0aGlzLndlaWdodD12b2lkIDAsdGhpcy5mdWxsU2l6ZT12b2lkIDB9dXBkYXRlKHQsZSxuKXt0aGlzLm1heFdpZHRoPXQsdGhpcy5tYXhIZWlnaHQ9ZSx0aGlzLl9tYXJnaW5zPW4sdGhpcy5zZXREaW1lbnNpb25zKCksdGhpcy5idWlsZExhYmVscygpLHRoaXMuZml0KCl9c2V0RGltZW5zaW9ucygpe3RoaXMuaXNIb3Jpem9udGFsKCk/KHRoaXMud2lkdGg9dGhpcy5tYXhXaWR0aCx0aGlzLmxlZnQ9dGhpcy5fbWFyZ2lucy5sZWZ0LHRoaXMucmlnaHQ9dGhpcy53aWR0aCk6KHRoaXMuaGVpZ2h0PXRoaXMubWF4SGVpZ2h0LHRoaXMudG9wPXRoaXMuX21hcmdpbnMudG9wLHRoaXMuYm90dG9tPXRoaXMuaGVpZ2h0KX1idWlsZExhYmVscygpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLmxhYmVsc3x8e307bGV0IGU9TCh0LmdlbmVyYXRlTGFiZWxzLFt0aGlzLmNoYXJ0XSx0aGlzKXx8W107dC5maWx0ZXImJihlPWUuZmlsdGVyKG49PnQuZmlsdGVyKG4sdGhpcy5jaGFydC5kYXRhKSkpLHQuc29ydCYmKGU9ZS5zb3J0KChuLHMpPT50LnNvcnQobixzLHRoaXMuY2hhcnQuZGF0YSkpKSx0aGlzLm9wdGlvbnMucmV2ZXJzZSYmZS5yZXZlcnNlKCksdGhpcy5sZWdlbmRJdGVtcz1lfWZpdCgpe2NvbnN0e29wdGlvbnM6dCxjdHg6ZX09dGhpcztpZighdC5kaXNwbGF5KXt0aGlzLndpZHRoPXRoaXMuaGVpZ2h0PTA7cmV0dXJufWNvbnN0IG49dC5sYWJlbHMscz1udChuLmZvbnQpLG89cy5zaXplLHI9dGhpcy5fY29tcHV0ZVRpdGxlSGVpZ2h0KCkse2JveFdpZHRoOmEsaXRlbUhlaWdodDpsfT1VcyhuLG8pO2xldCBjLGg7ZS5mb250PXMuc3RyaW5nLHRoaXMuaXNIb3Jpem9udGFsKCk/KGM9dGhpcy5tYXhXaWR0aCxoPXRoaXMuX2ZpdFJvd3MocixvLGEsbCkrMTApOihoPXRoaXMubWF4SGVpZ2h0LGM9dGhpcy5fZml0Q29scyhyLHMsYSxsKSsxMCksdGhpcy53aWR0aD1NYXRoLm1pbihjLHQubWF4V2lkdGh8fHRoaXMubWF4V2lkdGgpLHRoaXMuaGVpZ2h0PU1hdGgubWluKGgsdC5tYXhIZWlnaHR8fHRoaXMubWF4SGVpZ2h0KX1fZml0Um93cyh0LGUsbixzKXtjb25zdHtjdHg6byxtYXhXaWR0aDpyLG9wdGlvbnM6e2xhYmVsczp7cGFkZGluZzphfX19PXRoaXMsbD10aGlzLmxlZ2VuZEhpdEJveGVzPVtdLGM9dGhpcy5saW5lV2lkdGhzPVswXSxoPXMrYTtsZXQgZD10O28udGV4dEFsaWduPSJsZWZ0IixvLnRleHRCYXNlbGluZT0ibWlkZGxlIjtsZXQgdT0tMSxmPS1oO3JldHVybiB0aGlzLmxlZ2VuZEl0ZW1zLmZvckVhY2goKGcscCk9Pntjb25zdCBtPW4rZS8yK28ubWVhc3VyZVRleHQoZy50ZXh0KS53aWR0aDsocD09PTB8fGNbYy5sZW5ndGgtMV0rbSsyKmE+cikmJihkKz1oLGNbYy5sZW5ndGgtKHA+MD8wOjEpXT0wLGYrPWgsdSsrKSxsW3BdPXtsZWZ0OjAsdG9wOmYscm93OnUsd2lkdGg6bSxoZWlnaHQ6c30sY1tjLmxlbmd0aC0xXSs9bSthfSksZH1fZml0Q29scyh0LGUsbixzKXtjb25zdHtjdHg6byxtYXhIZWlnaHQ6cixvcHRpb25zOntsYWJlbHM6e3BhZGRpbmc6YX19fT10aGlzLGw9dGhpcy5sZWdlbmRIaXRCb3hlcz1bXSxjPXRoaXMuY29sdW1uU2l6ZXM9W10saD1yLXQ7bGV0IGQ9YSx1PTAsZj0wLGc9MCxwPTA7cmV0dXJuIHRoaXMubGVnZW5kSXRlbXMuZm9yRWFjaCgobSxiKT0+e2NvbnN0e2l0ZW1XaWR0aDp4LGl0ZW1IZWlnaHQ6eX09QmMobixlLG8sbSxzKTtiPjAmJmYreSsyKmE+aCYmKGQrPXUrYSxjLnB1c2goe3dpZHRoOnUsaGVpZ2h0OmZ9KSxnKz11K2EscCsrLHU9Zj0wKSxsW2JdPXtsZWZ0OmcsdG9wOmYsY29sOnAsd2lkdGg6eCxoZWlnaHQ6eX0sdT1NYXRoLm1heCh1LHgpLGYrPXkrYX0pLGQrPXUsYy5wdXNoKHt3aWR0aDp1LGhlaWdodDpmfSksZH1hZGp1c3RIaXRCb3hlcygpe2lmKCF0aGlzLm9wdGlvbnMuZGlzcGxheSlyZXR1cm47Y29uc3QgdD10aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKSx7bGVnZW5kSGl0Qm94ZXM6ZSxvcHRpb25zOnthbGlnbjpuLGxhYmVsczp7cGFkZGluZzpzfSxydGw6b319PXRoaXMscj1JaShvLHRoaXMubGVmdCx0aGlzLndpZHRoKTtpZih0aGlzLmlzSG9yaXpvbnRhbCgpKXtsZXQgYT0wLGw9JChuLHRoaXMubGVmdCtzLHRoaXMucmlnaHQtdGhpcy5saW5lV2lkdGhzW2FdKTtmb3IoY29uc3QgYyBvZiBlKWEhPT1jLnJvdyYmKGE9Yy5yb3csbD0kKG4sdGhpcy5sZWZ0K3MsdGhpcy5yaWdodC10aGlzLmxpbmVXaWR0aHNbYV0pKSxjLnRvcCs9dGhpcy50b3ArdCtzLGMubGVmdD1yLmxlZnRGb3JMdHIoci54KGwpLGMud2lkdGgpLGwrPWMud2lkdGgrc31lbHNle2xldCBhPTAsbD0kKG4sdGhpcy50b3ArdCtzLHRoaXMuYm90dG9tLXRoaXMuY29sdW1uU2l6ZXNbYV0uaGVpZ2h0KTtmb3IoY29uc3QgYyBvZiBlKWMuY29sIT09YSYmKGE9Yy5jb2wsbD0kKG4sdGhpcy50b3ArdCtzLHRoaXMuYm90dG9tLXRoaXMuY29sdW1uU2l6ZXNbYV0uaGVpZ2h0KSksYy50b3A9bCxjLmxlZnQrPXRoaXMubGVmdCtzLGMubGVmdD1yLmxlZnRGb3JMdHIoci54KGMubGVmdCksYy53aWR0aCksbCs9Yy5oZWlnaHQrc319aXNIb3Jpem9udGFsKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbj09PSJ0b3AifHx0aGlzLm9wdGlvbnMucG9zaXRpb249PT0iYm90dG9tIn1kcmF3KCl7aWYodGhpcy5vcHRpb25zLmRpc3BsYXkpe2NvbnN0IHQ9dGhpcy5jdHg7QWUodCx0aGlzKSx0aGlzLl9kcmF3KCksUmUodCl9fV9kcmF3KCl7Y29uc3R7b3B0aW9uczp0LGNvbHVtblNpemVzOmUsbGluZVdpZHRoczpuLGN0eDpzfT10aGlzLHthbGlnbjpvLGxhYmVsczpyfT10LGE9RS5jb2xvcixsPUlpKHQucnRsLHRoaXMubGVmdCx0aGlzLndpZHRoKSxjPW50KHIuZm9udCkse3BhZGRpbmc6aH09cixkPWMuc2l6ZSx1PWQvMjtsZXQgZjt0aGlzLmRyYXdUaXRsZSgpLHMudGV4dEFsaWduPWwudGV4dEFsaWduKCJsZWZ0Iikscy50ZXh0QmFzZWxpbmU9Im1pZGRsZSIscy5saW5lV2lkdGg9LjUscy5mb250PWMuc3RyaW5nO2NvbnN0e2JveFdpZHRoOmcsYm94SGVpZ2h0OnAsaXRlbUhlaWdodDptfT1VcyhyLGQpLGI9ZnVuY3Rpb24odixrLHcpe2lmKGlzTmFOKGcpfHxnPD0wfHxpc05hTihwKXx8cDwwKXJldHVybjtzLnNhdmUoKTtjb25zdCBEPVAody5saW5lV2lkdGgsMSk7aWYocy5maWxsU3R5bGU9UCh3LmZpbGxTdHlsZSxhKSxzLmxpbmVDYXA9UCh3LmxpbmVDYXAsImJ1dHQiKSxzLmxpbmVEYXNoT2Zmc2V0PVAody5saW5lRGFzaE9mZnNldCwwKSxzLmxpbmVKb2luPVAody5saW5lSm9pbiwibWl0ZXIiKSxzLmxpbmVXaWR0aD1ELHMuc3Ryb2tlU3R5bGU9UCh3LnN0cm9rZVN0eWxlLGEpLHMuc2V0TGluZURhc2goUCh3LmxpbmVEYXNoLFtdKSksci51c2VQb2ludFN0eWxlKXtjb25zdCBBPXtyYWRpdXM6cCpNYXRoLlNRUlQyLzIscG9pbnRTdHlsZTp3LnBvaW50U3R5bGUscm90YXRpb246dy5yb3RhdGlvbixib3JkZXJXaWR0aDpEfSxDPWwueFBsdXModixnLzIpLFI9ayt1O0huKHMsQSxDLFIsci5wb2ludFN0eWxlV2lkdGgmJmcpfWVsc2V7Y29uc3QgQT1rK01hdGgubWF4KChkLXApLzIsMCksQz1sLmxlZnRGb3JMdHIodixnKSxSPU9pKHcuYm9yZGVyUmFkaXVzKTtzLmJlZ2luUGF0aCgpLE9iamVjdC52YWx1ZXMoUikuc29tZShaPT5aIT09MCk/RGkocyx7eDpDLHk6QSx3OmcsaDpwLHJhZGl1czpSfSk6cy5yZWN0KEMsQSxnLHApLHMuZmlsbCgpLEQhPT0wJiZzLnN0cm9rZSgpfXMucmVzdG9yZSgpfSx4PWZ1bmN0aW9uKHYsayx3KXtzZShzLHcudGV4dCx2LGsrbS8yLGMse3N0cmlrZXRocm91Z2g6dy5oaWRkZW4sdGV4dEFsaWduOmwudGV4dEFsaWduKHcudGV4dEFsaWduKX0pfSx5PXRoaXMuaXNIb3Jpem9udGFsKCksTT10aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKTt5P2Y9e3g6JChvLHRoaXMubGVmdCtoLHRoaXMucmlnaHQtblswXSkseTp0aGlzLnRvcCtoK00sbGluZTowfTpmPXt4OnRoaXMubGVmdCtoLHk6JChvLHRoaXMudG9wK00raCx0aGlzLmJvdHRvbS1lWzBdLmhlaWdodCksbGluZTowfSxMYSh0aGlzLmN0eCx0LnRleHREaXJlY3Rpb24pO2NvbnN0IF89bStoO3RoaXMubGVnZW5kSXRlbXMuZm9yRWFjaCgodixrKT0+e3Muc3Ryb2tlU3R5bGU9di5mb250Q29sb3Iscy5maWxsU3R5bGU9di5mb250Q29sb3I7Y29uc3Qgdz1zLm1lYXN1cmVUZXh0KHYudGV4dCkud2lkdGgsRD1sLnRleHRBbGlnbih2LnRleHRBbGlnbnx8KHYudGV4dEFsaWduPXIudGV4dEFsaWduKSksQT1nK3UrdztsZXQgQz1mLngsUj1mLnk7bC5zZXRXaWR0aCh0aGlzLndpZHRoKSx5P2s+MCYmQytBK2g+dGhpcy5yaWdodCYmKFI9Zi55Kz1fLGYubGluZSsrLEM9Zi54PSQobyx0aGlzLmxlZnQraCx0aGlzLnJpZ2h0LW5bZi5saW5lXSkpOms+MCYmUitfPnRoaXMuYm90dG9tJiYoQz1mLng9QytlW2YubGluZV0ud2lkdGgraCxmLmxpbmUrKyxSPWYueT0kKG8sdGhpcy50b3ArTStoLHRoaXMuYm90dG9tLWVbZi5saW5lXS5oZWlnaHQpKTtjb25zdCBaPWwueChDKTtpZihiKFosUix2KSxDPUZyKEQsQytnK3UseT9DK0E6dGhpcy5yaWdodCx0LnJ0bCkseChsLngoQyksUix2KSx5KWYueCs9QStoO2Vsc2UgaWYodHlwZW9mIHYudGV4dCE9InN0cmluZyIpe2NvbnN0IHV0PWMubGluZUhlaWdodDtmLnkrPXFzKHYsdXQpK2h9ZWxzZSBmLnkrPV99KSxJYSh0aGlzLmN0eCx0LnRleHREaXJlY3Rpb24pfWRyYXdUaXRsZSgpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGU9dC50aXRsZSxuPW50KGUuZm9udCkscz1RKGUucGFkZGluZyk7aWYoIWUuZGlzcGxheSlyZXR1cm47Y29uc3Qgbz1JaSh0LnJ0bCx0aGlzLmxlZnQsdGhpcy53aWR0aCkscj10aGlzLmN0eCxhPWUucG9zaXRpb24sbD1uLnNpemUvMixjPXMudG9wK2w7bGV0IGgsZD10aGlzLmxlZnQsdT10aGlzLndpZHRoO2lmKHRoaXMuaXNIb3Jpem9udGFsKCkpdT1NYXRoLm1heCguLi50aGlzLmxpbmVXaWR0aHMpLGg9dGhpcy50b3ArYyxkPSQodC5hbGlnbixkLHRoaXMucmlnaHQtdSk7ZWxzZXtjb25zdCBnPXRoaXMuY29sdW1uU2l6ZXMucmVkdWNlKChwLG0pPT5NYXRoLm1heChwLG0uaGVpZ2h0KSwwKTtoPWMrJCh0LmFsaWduLHRoaXMudG9wLHRoaXMuYm90dG9tLWctdC5sYWJlbHMucGFkZGluZy10aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKSl9Y29uc3QgZj0kKGEsZCxkK3UpO3IudGV4dEFsaWduPW8udGV4dEFsaWduKHdpKGEpKSxyLnRleHRCYXNlbGluZT0ibWlkZGxlIixyLnN0cm9rZVN0eWxlPWUuY29sb3Isci5maWxsU3R5bGU9ZS5jb2xvcixyLmZvbnQ9bi5zdHJpbmcsc2UocixlLnRleHQsZixoLG4pfV9jb21wdXRlVGl0bGVIZWlnaHQoKXtjb25zdCB0PXRoaXMub3B0aW9ucy50aXRsZSxlPW50KHQuZm9udCksbj1RKHQucGFkZGluZyk7cmV0dXJuIHQuZGlzcGxheT9lLmxpbmVIZWlnaHQrbi5oZWlnaHQ6MH1fZ2V0TGVnZW5kSXRlbUF0KHQsZSl7bGV0IG4scyxvO2lmKHZ0KHQsdGhpcy5sZWZ0LHRoaXMucmlnaHQpJiZ2dChlLHRoaXMudG9wLHRoaXMuYm90dG9tKSl7Zm9yKG89dGhpcy5sZWdlbmRIaXRCb3hlcyxuPTA7bjxvLmxlbmd0aDsrK24paWYocz1vW25dLHZ0KHQscy5sZWZ0LHMubGVmdCtzLndpZHRoKSYmdnQoZSxzLnRvcCxzLnRvcCtzLmhlaWdodCkpcmV0dXJuIHRoaXMubGVnZW5kSXRlbXNbbl19cmV0dXJuIG51bGx9aGFuZGxlRXZlbnQodCl7Y29uc3QgZT10aGlzLm9wdGlvbnM7aWYoIU5jKHQudHlwZSxlKSlyZXR1cm47Y29uc3Qgbj10aGlzLl9nZXRMZWdlbmRJdGVtQXQodC54LHQueSk7aWYodC50eXBlPT09Im1vdXNlbW92ZSJ8fHQudHlwZT09PSJtb3VzZW91dCIpe2NvbnN0IHM9dGhpcy5faG92ZXJlZEl0ZW0sbz1XYyhzLG4pO3MmJiFvJiZMKGUub25MZWF2ZSxbdCxzLHRoaXNdLHRoaXMpLHRoaXMuX2hvdmVyZWRJdGVtPW4sbiYmIW8mJkwoZS5vbkhvdmVyLFt0LG4sdGhpc10sdGhpcyl9ZWxzZSBuJiZMKGUub25DbGljayxbdCxuLHRoaXNdLHRoaXMpfX1mdW5jdGlvbiBCYyhpLHQsZSxuLHMpe2NvbnN0IG89SGMobixpLHQsZSkscj1qYyhzLG4sdC5saW5lSGVpZ2h0KTtyZXR1cm57aXRlbVdpZHRoOm8saXRlbUhlaWdodDpyfX1mdW5jdGlvbiBIYyhpLHQsZSxuKXtsZXQgcz1pLnRleHQ7cmV0dXJuIHMmJnR5cGVvZiBzIT0ic3RyaW5nIiYmKHM9cy5yZWR1Y2UoKG8scik9Pm8ubGVuZ3RoPnIubGVuZ3RoP286cikpLHQrZS5zaXplLzIrbi5tZWFzdXJlVGV4dChzKS53aWR0aH1mdW5jdGlvbiBqYyhpLHQsZSl7bGV0IG49aTtyZXR1cm4gdHlwZW9mIHQudGV4dCE9InN0cmluZyImJihuPXFzKHQsZSkpLG59ZnVuY3Rpb24gcXMoaSx0KXtjb25zdCBlPWkudGV4dD9pLnRleHQubGVuZ3RoOjA7cmV0dXJuIHQqZX1mdW5jdGlvbiBOYyhpLHQpe3JldHVybiEhKChpPT09Im1vdXNlbW92ZSJ8fGk9PT0ibW91c2VvdXQiKSYmKHQub25Ib3Zlcnx8dC5vbkxlYXZlKXx8dC5vbkNsaWNrJiYoaT09PSJjbGljayJ8fGk9PT0ibW91c2V1cCIpKX12YXIgVmM9e2lkOiJsZWdlbmQiLF9lbGVtZW50OktzLHN0YXJ0KGksdCxlKXtjb25zdCBuPWkubGVnZW5kPW5ldyBLcyh7Y3R4OmkuY3R4LG9wdGlvbnM6ZSxjaGFydDppfSk7c3QuY29uZmlndXJlKGksbixlKSxzdC5hZGRCb3goaSxuKX0sc3RvcChpKXtzdC5yZW1vdmVCb3goaSxpLmxlZ2VuZCksZGVsZXRlIGkubGVnZW5kfSxiZWZvcmVVcGRhdGUoaSx0LGUpe2NvbnN0IG49aS5sZWdlbmQ7c3QuY29uZmlndXJlKGksbixlKSxuLm9wdGlvbnM9ZX0sYWZ0ZXJVcGRhdGUoaSl7Y29uc3QgdD1pLmxlZ2VuZDt0LmJ1aWxkTGFiZWxzKCksdC5hZGp1c3RIaXRCb3hlcygpfSxhZnRlckV2ZW50KGksdCl7dC5yZXBsYXl8fGkubGVnZW5kLmhhbmRsZUV2ZW50KHQuZXZlbnQpfSxkZWZhdWx0czp7ZGlzcGxheTohMCxwb3NpdGlvbjoidG9wIixhbGlnbjoiY2VudGVyIixmdWxsU2l6ZTohMCxyZXZlcnNlOiExLHdlaWdodDoxZTMsb25DbGljayhpLHQsZSl7Y29uc3Qgbj10LmRhdGFzZXRJbmRleCxzPWUuY2hhcnQ7cy5pc0RhdGFzZXRWaXNpYmxlKG4pPyhzLmhpZGUobiksdC5oaWRkZW49ITApOihzLnNob3cobiksdC5oaWRkZW49ITEpfSxvbkhvdmVyOm51bGwsb25MZWF2ZTpudWxsLGxhYmVsczp7Y29sb3I6aT0+aS5jaGFydC5vcHRpb25zLmNvbG9yLGJveFdpZHRoOjQwLHBhZGRpbmc6MTAsZ2VuZXJhdGVMYWJlbHMoaSl7Y29uc3QgdD1pLmRhdGEuZGF0YXNldHMse2xhYmVsczp7dXNlUG9pbnRTdHlsZTplLHBvaW50U3R5bGU6bix0ZXh0QWxpZ246cyxjb2xvcjpvLHVzZUJvcmRlclJhZGl1czpyLGJvcmRlclJhZGl1czphfX09aS5sZWdlbmQub3B0aW9ucztyZXR1cm4gaS5fZ2V0U29ydGVkRGF0YXNldE1ldGFzKCkubWFwKGw9Pntjb25zdCBjPWwuY29udHJvbGxlci5nZXRTdHlsZShlPzA6dm9pZCAwKSxoPVEoYy5ib3JkZXJXaWR0aCk7cmV0dXJue3RleHQ6dFtsLmluZGV4XS5sYWJlbCxmaWxsU3R5bGU6Yy5iYWNrZ3JvdW5kQ29sb3IsZm9udENvbG9yOm8saGlkZGVuOiFsLnZpc2libGUsbGluZUNhcDpjLmJvcmRlckNhcFN0eWxlLGxpbmVEYXNoOmMuYm9yZGVyRGFzaCxsaW5lRGFzaE9mZnNldDpjLmJvcmRlckRhc2hPZmZzZXQsbGluZUpvaW46Yy5ib3JkZXJKb2luU3R5bGUsbGluZVdpZHRoOihoLndpZHRoK2guaGVpZ2h0KS80LHN0cm9rZVN0eWxlOmMuYm9yZGVyQ29sb3IscG9pbnRTdHlsZTpufHxjLnBvaW50U3R5bGUscm90YXRpb246Yy5yb3RhdGlvbix0ZXh0QWxpZ246c3x8Yy50ZXh0QWxpZ24sYm9yZGVyUmFkaXVzOnImJihhfHxjLmJvcmRlclJhZGl1cyksZGF0YXNldEluZGV4OmwuaW5kZXh9fSx0aGlzKX19LHRpdGxlOntjb2xvcjppPT5pLmNoYXJ0Lm9wdGlvbnMuY29sb3IsZGlzcGxheTohMSxwb3NpdGlvbjoiY2VudGVyIix0ZXh0OiIifX0sZGVzY3JpcHRvcnM6e19zY3JpcHRhYmxlOmk9PiFpLnN0YXJ0c1dpdGgoIm9uIiksbGFiZWxzOntfc2NyaXB0YWJsZTppPT4hWyJnZW5lcmF0ZUxhYmVscyIsImZpbHRlciIsInNvcnQiXS5pbmNsdWRlcyhpKX19fTtjbGFzcyBHcyBleHRlbmRzIFh7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNoYXJ0PXQuY2hhcnQsdGhpcy5vcHRpb25zPXQub3B0aW9ucyx0aGlzLmN0eD10LmN0eCx0aGlzLl9wYWRkaW5nPXZvaWQgMCx0aGlzLnRvcD12b2lkIDAsdGhpcy5ib3R0b209dm9pZCAwLHRoaXMubGVmdD12b2lkIDAsdGhpcy5yaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5oZWlnaHQ9dm9pZCAwLHRoaXMucG9zaXRpb249dm9pZCAwLHRoaXMud2VpZ2h0PXZvaWQgMCx0aGlzLmZ1bGxTaXplPXZvaWQgMH11cGRhdGUodCxlKXtjb25zdCBuPXRoaXMub3B0aW9ucztpZih0aGlzLmxlZnQ9MCx0aGlzLnRvcD0wLCFuLmRpc3BsYXkpe3RoaXMud2lkdGg9dGhpcy5oZWlnaHQ9dGhpcy5yaWdodD10aGlzLmJvdHRvbT0wO3JldHVybn10aGlzLndpZHRoPXRoaXMucmlnaHQ9dCx0aGlzLmhlaWdodD10aGlzLmJvdHRvbT1lO2NvbnN0IHM9eihuLnRleHQpP24udGV4dC5sZW5ndGg6MTt0aGlzLl9wYWRkaW5nPVEobi5wYWRkaW5nKTtjb25zdCBvPXMqbnQobi5mb250KS5saW5lSGVpZ2h0K3RoaXMuX3BhZGRpbmcuaGVpZ2h0O3RoaXMuaXNIb3Jpem9udGFsKCk/dGhpcy5oZWlnaHQ9bzp0aGlzLndpZHRoPW99aXNIb3Jpem9udGFsKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMucG9zaXRpb247cmV0dXJuIHQ9PT0idG9wInx8dD09PSJib3R0b20ifV9kcmF3QXJncyh0KXtjb25zdHt0b3A6ZSxsZWZ0Om4sYm90dG9tOnMscmlnaHQ6byxvcHRpb25zOnJ9PXRoaXMsYT1yLmFsaWduO2xldCBsPTAsYyxoLGQ7cmV0dXJuIHRoaXMuaXNIb3Jpem9udGFsKCk/KGg9JChhLG4sbyksZD1lK3QsYz1vLW4pOihyLnBvc2l0aW9uPT09ImxlZnQiPyhoPW4rdCxkPSQoYSxzLGUpLGw9VCotLjUpOihoPW8tdCxkPSQoYSxlLHMpLGw9VCouNSksYz1zLWUpLHt0aXRsZVg6aCx0aXRsZVk6ZCxtYXhXaWR0aDpjLHJvdGF0aW9uOmx9fWRyYXcoKXtjb25zdCB0PXRoaXMuY3R4LGU9dGhpcy5vcHRpb25zO2lmKCFlLmRpc3BsYXkpcmV0dXJuO2NvbnN0IG49bnQoZS5mb250KSxvPW4ubGluZUhlaWdodC8yK3RoaXMuX3BhZGRpbmcudG9wLHt0aXRsZVg6cix0aXRsZVk6YSxtYXhXaWR0aDpsLHJvdGF0aW9uOmN9PXRoaXMuX2RyYXdBcmdzKG8pO3NlKHQsZS50ZXh0LDAsMCxuLHtjb2xvcjplLmNvbG9yLG1heFdpZHRoOmwscm90YXRpb246Yyx0ZXh0QWxpZ246d2koZS5hbGlnbiksdGV4dEJhc2VsaW5lOiJtaWRkbGUiLHRyYW5zbGF0aW9uOltyLGFdfSl9fWZ1bmN0aW9uIFljKGksdCl7Y29uc3QgZT1uZXcgR3Moe2N0eDppLmN0eCxvcHRpb25zOnQsY2hhcnQ6aX0pO3N0LmNvbmZpZ3VyZShpLGUsdCksc3QuYWRkQm94KGksZSksaS50aXRsZUJsb2NrPWV9dmFyICRjPXtpZDoidGl0bGUiLF9lbGVtZW50OkdzLHN0YXJ0KGksdCxlKXtZYyhpLGUpfSxzdG9wKGkpe2NvbnN0IHQ9aS50aXRsZUJsb2NrO3N0LnJlbW92ZUJveChpLHQpLGRlbGV0ZSBpLnRpdGxlQmxvY2t9LGJlZm9yZVVwZGF0ZShpLHQsZSl7Y29uc3Qgbj1pLnRpdGxlQmxvY2s7c3QuY29uZmlndXJlKGksbixlKSxuLm9wdGlvbnM9ZX0sZGVmYXVsdHM6e2FsaWduOiJjZW50ZXIiLGRpc3BsYXk6ITEsZm9udDp7d2VpZ2h0OiJib2xkIn0sZnVsbFNpemU6ITAscGFkZGluZzoxMCxwb3NpdGlvbjoidG9wIix0ZXh0OiIiLHdlaWdodDoyZTN9LGRlZmF1bHRSb3V0ZXM6e2NvbG9yOiJjb2xvciJ9LGRlc2NyaXB0b3JzOntfc2NyaXB0YWJsZTohMCxfaW5kZXhhYmxlOiExfX07Y29uc3QgWGM9KGksdCxlLG4pPT4odHlwZW9mIHQ9PSJzdHJpbmciPyhlPWkucHVzaCh0KS0xLG4udW5zaGlmdCh7aW5kZXg6ZSxsYWJlbDp0fSkpOmlzTmFOKHQpJiYoZT1udWxsKSxlKTtmdW5jdGlvbiBVYyhpLHQsZSxuKXtjb25zdCBzPWkuaW5kZXhPZih0KTtpZihzPT09LTEpcmV0dXJuIFhjKGksdCxlLG4pO2NvbnN0IG89aS5sYXN0SW5kZXhPZih0KTtyZXR1cm4gcyE9PW8/ZTpzfWNvbnN0IEtjPShpLHQpPT5pPT09bnVsbD9udWxsOmF0KE1hdGgucm91bmQoaSksMCx0KTtmdW5jdGlvbiBKcyhpKXtjb25zdCB0PXRoaXMuZ2V0TGFiZWxzKCk7cmV0dXJuIGk+PTAmJmk8dC5sZW5ndGg/dFtpXTppfWNsYXNzIFVpIGV4dGVuZHMgVnR7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fc3RhcnRWYWx1ZT12b2lkIDAsdGhpcy5fdmFsdWVSYW5nZT0wLHRoaXMuX2FkZGVkTGFiZWxzPVtdfWluaXQodCl7Y29uc3QgZT10aGlzLl9hZGRlZExhYmVscztpZihlLmxlbmd0aCl7Y29uc3Qgbj10aGlzLmdldExhYmVscygpO2Zvcihjb25zdHtpbmRleDpzLGxhYmVsOm99b2YgZSluW3NdPT09byYmbi5zcGxpY2UocywxKTt0aGlzLl9hZGRlZExhYmVscz1bXX1zdXBlci5pbml0KHQpfXBhcnNlKHQsZSl7aWYoSSh0KSlyZXR1cm4gbnVsbDtjb25zdCBuPXRoaXMuZ2V0TGFiZWxzKCk7cmV0dXJuIGU9aXNGaW5pdGUoZSkmJm5bZV09PT10P2U6VWMobix0LFAoZSx0KSx0aGlzLl9hZGRlZExhYmVscyksS2MoZSxuLmxlbmd0aC0xKX1kZXRlcm1pbmVEYXRhTGltaXRzKCl7Y29uc3R7bWluRGVmaW5lZDp0LG1heERlZmluZWQ6ZX09dGhpcy5nZXRVc2VyQm91bmRzKCk7bGV0e21pbjpuLG1heDpzfT10aGlzLmdldE1pbk1heCghMCk7dGhpcy5vcHRpb25zLmJvdW5kcz09PSJ0aWNrcyImJih0fHwobj0wKSxlfHwocz10aGlzLmdldExhYmVscygpLmxlbmd0aC0xKSksdGhpcy5taW49bix0aGlzLm1heD1zfWJ1aWxkVGlja3MoKXtjb25zdCB0PXRoaXMubWluLGU9dGhpcy5tYXgsbj10aGlzLm9wdGlvbnMub2Zmc2V0LHM9W107bGV0IG89dGhpcy5nZXRMYWJlbHMoKTtvPXQ9PT0wJiZlPT09by5sZW5ndGgtMT9vOm8uc2xpY2UodCxlKzEpLHRoaXMuX3ZhbHVlUmFuZ2U9TWF0aC5tYXgoby5sZW5ndGgtKG4/MDoxKSwxKSx0aGlzLl9zdGFydFZhbHVlPXRoaXMubWluLShuPy41OjApO2ZvcihsZXQgcj10O3I8PWU7cisrKXMucHVzaCh7dmFsdWU6cn0pO3JldHVybiBzfWdldExhYmVsRm9yVmFsdWUodCl7cmV0dXJuIEpzLmNhbGwodGhpcyx0KX1jb25maWd1cmUoKXtzdXBlci5jb25maWd1cmUoKSx0aGlzLmlzSG9yaXpvbnRhbCgpfHwodGhpcy5fcmV2ZXJzZVBpeGVscz0hdGhpcy5fcmV2ZXJzZVBpeGVscyl9Z2V0UGl4ZWxGb3JWYWx1ZSh0KXtyZXR1cm4gdHlwZW9mIHQhPSJudW1iZXIiJiYodD10aGlzLnBhcnNlKHQpKSx0PT09bnVsbD9OYU46dGhpcy5nZXRQaXhlbEZvckRlY2ltYWwoKHQtdGhpcy5fc3RhcnRWYWx1ZSkvdGhpcy5fdmFsdWVSYW5nZSl9Z2V0UGl4ZWxGb3JUaWNrKHQpe2NvbnN0IGU9dGhpcy50aWNrcztyZXR1cm4gdDwwfHx0PmUubGVuZ3RoLTE/bnVsbDp0aGlzLmdldFBpeGVsRm9yVmFsdWUoZVt0XS52YWx1ZSl9Z2V0VmFsdWVGb3JQaXhlbCh0KXtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLl9zdGFydFZhbHVlK3RoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHQpKnRoaXMuX3ZhbHVlUmFuZ2UpfWdldEJhc2VQaXhlbCgpe3JldHVybiB0aGlzLmJvdHRvbX19UyhVaSwiaWQiLCJjYXRlZ29yeSIpLFMoVWksImRlZmF1bHRzIix7dGlja3M6e2NhbGxiYWNrOkpzfX0pO2Z1bmN0aW9uIHFjKGksdCl7Y29uc3QgZT1bXSx7Ym91bmRzOnMsc3RlcDpvLG1pbjpyLG1heDphLHByZWNpc2lvbjpsLGNvdW50OmMsbWF4VGlja3M6aCxtYXhEaWdpdHM6ZCxpbmNsdWRlQm91bmRzOnV9PWksZj1vfHwxLGc9aC0xLHttaW46cCxtYXg6bX09dCxiPSFJKHIpLHg9IUkoYSkseT0hSShjKSxNPShtLXApLyhkKzEpO2xldCBfPXZuKChtLXApL2cvZikqZix2LGssdyxEO2lmKF88MWUtMTQmJiFiJiYheClyZXR1cm5be3ZhbHVlOnB9LHt2YWx1ZTptfV07RD1NYXRoLmNlaWwobS9fKS1NYXRoLmZsb29yKHAvXyksRD5nJiYoXz12bihEKl8vZy9mKSpmKSxJKGwpfHwodj1NYXRoLnBvdygxMCxsKSxfPU1hdGguY2VpbChfKnYpL3YpLHM9PT0idGlja3MiPyhrPU1hdGguZmxvb3IocC9fKSpfLHc9TWF0aC5jZWlsKG0vXykqXyk6KGs9cCx3PW0pLGImJngmJm8mJkNyKChhLXIpL28sXy8xZTMpPyhEPU1hdGgucm91bmQoTWF0aC5taW4oKGEtcikvXyxoKSksXz0oYS1yKS9ELGs9cix3PWEpOnk/KGs9Yj9yOmssdz14P2E6dyxEPWMtMSxfPSh3LWspL0QpOihEPSh3LWspL18sUXQoRCxNYXRoLnJvdW5kKEQpLF8vMWUzKT9EPU1hdGgucm91bmQoRCk6RD1NYXRoLmNlaWwoRCkpO2NvbnN0IEE9TWF0aC5tYXgoUG4oXyksUG4oaykpO3Y9TWF0aC5wb3coMTAsSShsKT9BOmwpLGs9TWF0aC5yb3VuZChrKnYpL3Ysdz1NYXRoLnJvdW5kKHcqdikvdjtsZXQgQz0wO2ZvcihiJiYodSYmayE9PXI/KGUucHVzaCh7dmFsdWU6cn0pLGs8ciYmQysrLFF0KE1hdGgucm91bmQoKGsrQypfKSp2KS92LHIsWnMocixNLGkpKSYmQysrKTprPHImJkMrKyk7QzxEOysrQyl7Y29uc3QgUj1NYXRoLnJvdW5kKChrK0MqXykqdikvdjtpZih4JiZSPmEpYnJlYWs7ZS5wdXNoKHt2YWx1ZTpSfSl9cmV0dXJuIHgmJnUmJnchPT1hP2UubGVuZ3RoJiZRdChlW2UubGVuZ3RoLTFdLnZhbHVlLGEsWnMoYSxNLGkpKT9lW2UubGVuZ3RoLTFdLnZhbHVlPWE6ZS5wdXNoKHt2YWx1ZTphfSk6KCF4fHx3PT09YSkmJmUucHVzaCh7dmFsdWU6d30pLGV9ZnVuY3Rpb24gWnMoaSx0LHtob3Jpem9udGFsOmUsbWluUm90YXRpb246bn0pe2NvbnN0IHM9VyhuKSxvPShlP01hdGguc2luKHMpOk1hdGguY29zKHMpKXx8LjAwMSxyPS43NSp0KigiIitpKS5sZW5ndGg7cmV0dXJuIE1hdGgubWluKHQvbyxyKX1jbGFzcyBHYyBleHRlbmRzIFZ0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnQ9dm9pZCAwLHRoaXMuZW5kPXZvaWQgMCx0aGlzLl9zdGFydFZhbHVlPXZvaWQgMCx0aGlzLl9lbmRWYWx1ZT12b2lkIDAsdGhpcy5fdmFsdWVSYW5nZT0wfXBhcnNlKHQsZSl7cmV0dXJuIEkodCl8fCh0eXBlb2YgdD09Im51bWJlciJ8fHQgaW5zdGFuY2VvZiBOdW1iZXIpJiYhaXNGaW5pdGUoK3QpP251bGw6K3R9aGFuZGxlVGlja1JhbmdlT3B0aW9ucygpe2NvbnN0e2JlZ2luQXRaZXJvOnR9PXRoaXMub3B0aW9ucyx7bWluRGVmaW5lZDplLG1heERlZmluZWQ6bn09dGhpcy5nZXRVc2VyQm91bmRzKCk7bGV0e21pbjpzLG1heDpvfT10aGlzO2NvbnN0IHI9bD0+cz1lP3M6bCxhPWw9Pm89bj9vOmw7aWYodCl7Y29uc3QgbD1odChzKSxjPWh0KG8pO2w8MCYmYzwwP2EoMCk6bD4wJiZjPjAmJnIoMCl9aWYocz09PW8pe2xldCBsPW89PT0wPzE6TWF0aC5hYnMobyouMDUpO2EobytsKSx0fHxyKHMtbCl9dGhpcy5taW49cyx0aGlzLm1heD1vfWdldFRpY2tMaW1pdCgpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLnRpY2tzO2xldHttYXhUaWNrc0xpbWl0OmUsc3RlcFNpemU6bn09dCxzO3JldHVybiBuPyhzPU1hdGguY2VpbCh0aGlzLm1heC9uKS1NYXRoLmZsb29yKHRoaXMubWluL24pKzEscz4xZTMmJihjb25zb2xlLndhcm4oYHNjYWxlcy4ke3RoaXMuaWR9LnRpY2tzLnN0ZXBTaXplOiAke259IHdvdWxkIHJlc3VsdCBnZW5lcmF0aW5nIHVwIHRvICR7c30gdGlja3MuIExpbWl0aW5nIHRvIDEwMDAuYCkscz0xZTMpKToocz10aGlzLmNvbXB1dGVUaWNrTGltaXQoKSxlPWV8fDExKSxlJiYocz1NYXRoLm1pbihlLHMpKSxzfWNvbXB1dGVUaWNrTGltaXQoKXtyZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfWJ1aWxkVGlja3MoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXQudGlja3M7bGV0IG49dGhpcy5nZXRUaWNrTGltaXQoKTtuPU1hdGgubWF4KDIsbik7Y29uc3Qgcz17bWF4VGlja3M6bixib3VuZHM6dC5ib3VuZHMsbWluOnQubWluLG1heDp0Lm1heCxwcmVjaXNpb246ZS5wcmVjaXNpb24sc3RlcDplLnN0ZXBTaXplLGNvdW50OmUuY291bnQsbWF4RGlnaXRzOnRoaXMuX21heERpZ2l0cygpLGhvcml6b250YWw6dGhpcy5pc0hvcml6b250YWwoKSxtaW5Sb3RhdGlvbjplLm1pblJvdGF0aW9ufHwwLGluY2x1ZGVCb3VuZHM6ZS5pbmNsdWRlQm91bmRzIT09ITF9LG89dGhpcy5fcmFuZ2V8fHRoaXMscj1xYyhzLG8pO3JldHVybiB0LmJvdW5kcz09PSJ0aWNrcyImJlRyKHIsdGhpcywidmFsdWUiKSx0LnJldmVyc2U/KHIucmV2ZXJzZSgpLHRoaXMuc3RhcnQ9dGhpcy5tYXgsdGhpcy5lbmQ9dGhpcy5taW4pOih0aGlzLnN0YXJ0PXRoaXMubWluLHRoaXMuZW5kPXRoaXMubWF4KSxyfWNvbmZpZ3VyZSgpe2NvbnN0IHQ9dGhpcy50aWNrcztsZXQgZT10aGlzLm1pbixuPXRoaXMubWF4O2lmKHN1cGVyLmNvbmZpZ3VyZSgpLHRoaXMub3B0aW9ucy5vZmZzZXQmJnQubGVuZ3RoKXtjb25zdCBzPShuLWUpL01hdGgubWF4KHQubGVuZ3RoLTEsMSkvMjtlLT1zLG4rPXN9dGhpcy5fc3RhcnRWYWx1ZT1lLHRoaXMuX2VuZFZhbHVlPW4sdGhpcy5fdmFsdWVSYW5nZT1uLWV9Z2V0TGFiZWxGb3JWYWx1ZSh0KXtyZXR1cm4gdmkodCx0aGlzLmNoYXJ0Lm9wdGlvbnMubG9jYWxlLHRoaXMub3B0aW9ucy50aWNrcy5mb3JtYXQpfX1jbGFzcyBLaSBleHRlbmRzIEdje2RldGVybWluZURhdGFMaW1pdHMoKXtjb25zdHttaW46dCxtYXg6ZX09dGhpcy5nZXRNaW5NYXgoITApO3RoaXMubWluPVUodCk/dDowLHRoaXMubWF4PVUoZSk/ZToxLHRoaXMuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpfWNvbXB1dGVUaWNrTGltaXQoKXtjb25zdCB0PXRoaXMuaXNIb3Jpem9udGFsKCksZT10P3RoaXMud2lkdGg6dGhpcy5oZWlnaHQsbj1XKHRoaXMub3B0aW9ucy50aWNrcy5taW5Sb3RhdGlvbikscz0odD9NYXRoLnNpbihuKTpNYXRoLmNvcyhuKSl8fC4wMDEsbz10aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKDApO3JldHVybiBNYXRoLmNlaWwoZS9NYXRoLm1pbig0MCxvLmxpbmVIZWlnaHQvcykpfWdldFBpeGVsRm9yVmFsdWUodCl7cmV0dXJuIHQ9PT1udWxsP05hTjp0aGlzLmdldFBpeGVsRm9yRGVjaW1hbCgodC10aGlzLl9zdGFydFZhbHVlKS90aGlzLl92YWx1ZVJhbmdlKX1nZXRWYWx1ZUZvclBpeGVsKHQpe3JldHVybiB0aGlzLl9zdGFydFZhbHVlK3RoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHQpKnRoaXMuX3ZhbHVlUmFuZ2V9fVMoS2ksImlkIiwibGluZWFyIiksUyhLaSwiZGVmYXVsdHMiLHt0aWNrczp7Y2FsbGJhY2s6Rm4uZm9ybWF0dGVycy5udW1lcmljfX0pO2NvbnN0IEdlPXttaWxsaXNlY29uZDp7Y29tbW9uOiEwLHNpemU6MSxzdGVwczoxZTN9LHNlY29uZDp7Y29tbW9uOiEwLHNpemU6MWUzLHN0ZXBzOjYwfSxtaW51dGU6e2NvbW1vbjohMCxzaXplOjZlNCxzdGVwczo2MH0saG91cjp7Y29tbW9uOiEwLHNpemU6MzZlNSxzdGVwczoyNH0sZGF5Ontjb21tb246ITAsc2l6ZTo4NjRlNSxzdGVwczozMH0sd2Vlazp7Y29tbW9uOiExLHNpemU6NjA0OGU1LHN0ZXBzOjR9LG1vbnRoOntjb21tb246ITAsc2l6ZToyNjI4ZTYsc3RlcHM6MTJ9LHF1YXJ0ZXI6e2NvbW1vbjohMSxzaXplOjc4ODRlNixzdGVwczo0fSx5ZWFyOntjb21tb246ITAsc2l6ZTozMTU0ZTd9fSxHPU9iamVjdC5rZXlzKEdlKTtmdW5jdGlvbiBRcyhpLHQpe3JldHVybiBpLXR9ZnVuY3Rpb24gdG8oaSx0KXtpZihJKHQpKXJldHVybiBudWxsO2NvbnN0IGU9aS5fYWRhcHRlcix7cGFyc2VyOm4scm91bmQ6cyxpc29XZWVrZGF5Om99PWkuX3BhcnNlT3B0cztsZXQgcj10O3JldHVybiB0eXBlb2Ygbj09ImZ1bmN0aW9uIiYmKHI9bihyKSksVShyKXx8KHI9dHlwZW9mIG49PSJzdHJpbmciP2UucGFyc2UocixuKTplLnBhcnNlKHIpKSxyPT09bnVsbD9udWxsOihzJiYocj1zPT09IndlZWsiJiYoa3Qobyl8fG89PT0hMCk/ZS5zdGFydE9mKHIsImlzb1dlZWsiLG8pOmUuc3RhcnRPZihyLHMpKSwrcil9ZnVuY3Rpb24gZW8oaSx0LGUsbil7Y29uc3Qgcz1HLmxlbmd0aDtmb3IobGV0IG89Ry5pbmRleE9mKGkpO288cy0xOysrbyl7Y29uc3Qgcj1HZVtHW29dXSxhPXIuc3RlcHM/ci5zdGVwczpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtpZihyLmNvbW1vbiYmTWF0aC5jZWlsKChlLXQpLyhhKnIuc2l6ZSkpPD1uKXJldHVybiBHW29dfXJldHVybiBHW3MtMV19ZnVuY3Rpb24gSmMoaSx0LGUsbixzKXtmb3IobGV0IG89Ry5sZW5ndGgtMTtvPj1HLmluZGV4T2YoZSk7by0tKXtjb25zdCByPUdbb107aWYoR2Vbcl0uY29tbW9uJiZpLl9hZGFwdGVyLmRpZmYocyxuLHIpPj10LTEpcmV0dXJuIHJ9cmV0dXJuIEdbZT9HLmluZGV4T2YoZSk6MF19ZnVuY3Rpb24gWmMoaSl7Zm9yKGxldCB0PUcuaW5kZXhPZihpKSsxLGU9Ry5sZW5ndGg7dDxlOysrdClpZihHZVtHW3RdXS5jb21tb24pcmV0dXJuIEdbdF19ZnVuY3Rpb24gaW8oaSx0LGUpe2lmKCFlKWlbdF09ITA7ZWxzZSBpZihlLmxlbmd0aCl7Y29uc3R7bG86bixoaTpzfT15aShlLHQpLG89ZVtuXT49dD9lW25dOmVbc107aVtvXT0hMH19ZnVuY3Rpb24gUWMoaSx0LGUsbil7Y29uc3Qgcz1pLl9hZGFwdGVyLG89K3Muc3RhcnRPZih0WzBdLnZhbHVlLG4pLHI9dFt0Lmxlbmd0aC0xXS52YWx1ZTtsZXQgYSxsO2ZvcihhPW87YTw9cjthPStzLmFkZChhLDEsbikpbD1lW2FdLGw+PTAmJih0W2xdLm1ham9yPSEwKTtyZXR1cm4gdH1mdW5jdGlvbiBubyhpLHQsZSl7Y29uc3Qgbj1bXSxzPXt9LG89dC5sZW5ndGg7bGV0IHIsYTtmb3Iocj0wO3I8bzsrK3IpYT10W3JdLHNbYV09cixuLnB1c2goe3ZhbHVlOmEsbWFqb3I6ITF9KTtyZXR1cm4gbz09PTB8fCFlP246UWMoaSxuLHMsZSl9Y2xhc3MgSmUgZXh0ZW5kcyBWdHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9jYWNoZT17ZGF0YTpbXSxsYWJlbHM6W10sYWxsOltdfSx0aGlzLl91bml0PSJkYXkiLHRoaXMuX21ham9yVW5pdD12b2lkIDAsdGhpcy5fb2Zmc2V0cz17fSx0aGlzLl9ub3JtYWxpemVkPSExLHRoaXMuX3BhcnNlT3B0cz12b2lkIDB9aW5pdCh0LGU9e30pe2NvbnN0IG49dC50aW1lfHwodC50aW1lPXt9KSxzPXRoaXMuX2FkYXB0ZXI9bmV3IGdsLl9kYXRlKHQuYWRhcHRlcnMuZGF0ZSk7cy5pbml0KGUpLFp0KG4uZGlzcGxheUZvcm1hdHMscy5mb3JtYXRzKCkpLHRoaXMuX3BhcnNlT3B0cz17cGFyc2VyOm4ucGFyc2VyLHJvdW5kOm4ucm91bmQsaXNvV2Vla2RheTpuLmlzb1dlZWtkYXl9LHN1cGVyLmluaXQodCksdGhpcy5fbm9ybWFsaXplZD1lLm5vcm1hbGl6ZWR9cGFyc2UodCxlKXtyZXR1cm4gdD09PXZvaWQgMD9udWxsOnRvKHRoaXMsdCl9YmVmb3JlTGF5b3V0KCl7c3VwZXIuYmVmb3JlTGF5b3V0KCksdGhpcy5fY2FjaGU9e2RhdGE6W10sbGFiZWxzOltdLGFsbDpbXX19ZGV0ZXJtaW5lRGF0YUxpbWl0cygpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fYWRhcHRlcixuPXQudGltZS51bml0fHwiZGF5IjtsZXR7bWluOnMsbWF4Om8sbWluRGVmaW5lZDpyLG1heERlZmluZWQ6YX09dGhpcy5nZXRVc2VyQm91bmRzKCk7ZnVuY3Rpb24gbChjKXshciYmIWlzTmFOKGMubWluKSYmKHM9TWF0aC5taW4ocyxjLm1pbikpLCFhJiYhaXNOYU4oYy5tYXgpJiYobz1NYXRoLm1heChvLGMubWF4KSl9KCFyfHwhYSkmJihsKHRoaXMuX2dldExhYmVsQm91bmRzKCkpLCh0LmJvdW5kcyE9PSJ0aWNrcyJ8fHQudGlja3Muc291cmNlIT09ImxhYmVscyIpJiZsKHRoaXMuZ2V0TWluTWF4KCExKSkpLHM9VShzKSYmIWlzTmFOKHMpP3M6K2Uuc3RhcnRPZihEYXRlLm5vdygpLG4pLG89VShvKSYmIWlzTmFOKG8pP286K2UuZW5kT2YoRGF0ZS5ub3coKSxuKSsxLHRoaXMubWluPU1hdGgubWluKHMsby0xKSx0aGlzLm1heD1NYXRoLm1heChzKzEsbyl9X2dldExhYmVsQm91bmRzKCl7Y29uc3QgdD10aGlzLmdldExhYmVsVGltZXN0YW1wcygpO2xldCBlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtyZXR1cm4gdC5sZW5ndGgmJihlPXRbMF0sbj10W3QubGVuZ3RoLTFdKSx7bWluOmUsbWF4Om59fWJ1aWxkVGlja3MoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXQudGltZSxuPXQudGlja3Mscz1uLnNvdXJjZT09PSJsYWJlbHMiP3RoaXMuZ2V0TGFiZWxUaW1lc3RhbXBzKCk6dGhpcy5fZ2VuZXJhdGUoKTt0LmJvdW5kcz09PSJ0aWNrcyImJnMubGVuZ3RoJiYodGhpcy5taW49dGhpcy5fdXNlck1pbnx8c1swXSx0aGlzLm1heD10aGlzLl91c2VyTWF4fHxzW3MubGVuZ3RoLTFdKTtjb25zdCBvPXRoaXMubWluLHI9dGhpcy5tYXgsYT1JcihzLG8scik7cmV0dXJuIHRoaXMuX3VuaXQ9ZS51bml0fHwobi5hdXRvU2tpcD9lbyhlLm1pblVuaXQsdGhpcy5taW4sdGhpcy5tYXgsdGhpcy5fZ2V0TGFiZWxDYXBhY2l0eShvKSk6SmModGhpcyxhLmxlbmd0aCxlLm1pblVuaXQsdGhpcy5taW4sdGhpcy5tYXgpKSx0aGlzLl9tYWpvclVuaXQ9IW4ubWFqb3IuZW5hYmxlZHx8dGhpcy5fdW5pdD09PSJ5ZWFyIj92b2lkIDA6WmModGhpcy5fdW5pdCksdGhpcy5pbml0T2Zmc2V0cyhzKSx0LnJldmVyc2UmJmEucmV2ZXJzZSgpLG5vKHRoaXMsYSx0aGlzLl9tYWpvclVuaXQpfWFmdGVyQXV0b1NraXAoKXt0aGlzLm9wdGlvbnMub2Zmc2V0QWZ0ZXJBdXRvc2tpcCYmdGhpcy5pbml0T2Zmc2V0cyh0aGlzLnRpY2tzLm1hcCh0PT4rdC52YWx1ZSkpfWluaXRPZmZzZXRzKHQ9W10pe2xldCBlPTAsbj0wLHMsbzt0aGlzLm9wdGlvbnMub2Zmc2V0JiZ0Lmxlbmd0aCYmKHM9dGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodFswXSksdC5sZW5ndGg9PT0xP2U9MS1zOmU9KHRoaXMuZ2V0RGVjaW1hbEZvclZhbHVlKHRbMV0pLXMpLzIsbz10aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0W3QubGVuZ3RoLTFdKSx0Lmxlbmd0aD09PTE/bj1vOm49KG8tdGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodFt0Lmxlbmd0aC0yXSkpLzIpO2NvbnN0IHI9dC5sZW5ndGg8Mz8uNTouMjU7ZT1hdChlLDAsciksbj1hdChuLDAsciksdGhpcy5fb2Zmc2V0cz17c3RhcnQ6ZSxlbmQ6bixmYWN0b3I6MS8oZSsxK24pfX1fZ2VuZXJhdGUoKXtjb25zdCB0PXRoaXMuX2FkYXB0ZXIsZT10aGlzLm1pbixuPXRoaXMubWF4LHM9dGhpcy5vcHRpb25zLG89cy50aW1lLHI9by51bml0fHxlbyhvLm1pblVuaXQsZSxuLHRoaXMuX2dldExhYmVsQ2FwYWNpdHkoZSkpLGE9UChzLnRpY2tzLnN0ZXBTaXplLDEpLGw9cj09PSJ3ZWVrIj9vLmlzb1dlZWtkYXk6ITEsYz1rdChsKXx8bD09PSEwLGg9e307bGV0IGQ9ZSx1LGY7aWYoYyYmKGQ9K3Quc3RhcnRPZihkLCJpc29XZWVrIixsKSksZD0rdC5zdGFydE9mKGQsYz8iZGF5IjpyKSx0LmRpZmYobixlLHIpPjFlNSphKXRocm93IG5ldyBFcnJvcihlKyIgYW5kICIrbisiIGFyZSB0b28gZmFyIGFwYXJ0IHdpdGggc3RlcFNpemUgb2YgIithKyIgIityKTtjb25zdCBnPXMudGlja3Muc291cmNlPT09ImRhdGEiJiZ0aGlzLmdldERhdGFUaW1lc3RhbXBzKCk7Zm9yKHU9ZCxmPTA7dTxuO3U9K3QuYWRkKHUsYSxyKSxmKyspaW8oaCx1LGcpO3JldHVybih1PT09bnx8cy5ib3VuZHM9PT0idGlja3MifHxmPT09MSkmJmlvKGgsdSxnKSxPYmplY3Qua2V5cyhoKS5zb3J0KFFzKS5tYXAocD0+K3ApfWdldExhYmVsRm9yVmFsdWUodCl7Y29uc3QgZT10aGlzLl9hZGFwdGVyLG49dGhpcy5vcHRpb25zLnRpbWU7cmV0dXJuIG4udG9vbHRpcEZvcm1hdD9lLmZvcm1hdCh0LG4udG9vbHRpcEZvcm1hdCk6ZS5mb3JtYXQodCxuLmRpc3BsYXlGb3JtYXRzLmRhdGV0aW1lKX1mb3JtYXQodCxlKXtjb25zdCBzPXRoaXMub3B0aW9ucy50aW1lLmRpc3BsYXlGb3JtYXRzLG89dGhpcy5fdW5pdCxyPWV8fHNbb107cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZm9ybWF0KHQscil9X3RpY2tGb3JtYXRGdW5jdGlvbih0LGUsbixzKXtjb25zdCBvPXRoaXMub3B0aW9ucyxyPW8udGlja3MuY2FsbGJhY2s7aWYocilyZXR1cm4gTChyLFt0LGUsbl0sdGhpcyk7Y29uc3QgYT1vLnRpbWUuZGlzcGxheUZvcm1hdHMsbD10aGlzLl91bml0LGM9dGhpcy5fbWFqb3JVbml0LGg9bCYmYVtsXSxkPWMmJmFbY10sdT1uW2VdLGY9YyYmZCYmdSYmdS5tYWpvcjtyZXR1cm4gdGhpcy5fYWRhcHRlci5mb3JtYXQodCxzfHwoZj9kOmgpKX1nZW5lcmF0ZVRpY2tMYWJlbHModCl7bGV0IGUsbixzO2ZvcihlPTAsbj10Lmxlbmd0aDtlPG47KytlKXM9dFtlXSxzLmxhYmVsPXRoaXMuX3RpY2tGb3JtYXRGdW5jdGlvbihzLnZhbHVlLGUsdCl9Z2V0RGVjaW1hbEZvclZhbHVlKHQpe3JldHVybiB0PT09bnVsbD9OYU46KHQtdGhpcy5taW4pLyh0aGlzLm1heC10aGlzLm1pbil9Z2V0UGl4ZWxGb3JWYWx1ZSh0KXtjb25zdCBlPXRoaXMuX29mZnNldHMsbj10aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0KTtyZXR1cm4gdGhpcy5nZXRQaXhlbEZvckRlY2ltYWwoKGUuc3RhcnQrbikqZS5mYWN0b3IpfWdldFZhbHVlRm9yUGl4ZWwodCl7Y29uc3QgZT10aGlzLl9vZmZzZXRzLG49dGhpcy5nZXREZWNpbWFsRm9yUGl4ZWwodCkvZS5mYWN0b3ItZS5lbmQ7cmV0dXJuIHRoaXMubWluK24qKHRoaXMubWF4LXRoaXMubWluKX1fZ2V0TGFiZWxTaXplKHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnRpY2tzLG49dGhpcy5jdHgubWVhc3VyZVRleHQodCkud2lkdGgscz1XKHRoaXMuaXNIb3Jpem9udGFsKCk/ZS5tYXhSb3RhdGlvbjplLm1pblJvdGF0aW9uKSxvPU1hdGguY29zKHMpLHI9TWF0aC5zaW4ocyksYT10aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKDApLnNpemU7cmV0dXJue3c6bipvK2EqcixoOm4qcithKm99fV9nZXRMYWJlbENhcGFjaXR5KHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnRpbWUsbj1lLmRpc3BsYXlGb3JtYXRzLHM9bltlLnVuaXRdfHxuLm1pbGxpc2Vjb25kLG89dGhpcy5fdGlja0Zvcm1hdEZ1bmN0aW9uKHQsMCxubyh0aGlzLFt0XSx0aGlzLl9tYWpvclVuaXQpLHMpLHI9dGhpcy5fZ2V0TGFiZWxTaXplKG8pLGE9TWF0aC5mbG9vcih0aGlzLmlzSG9yaXpvbnRhbCgpP3RoaXMud2lkdGgvci53OnRoaXMuaGVpZ2h0L3IuaCktMTtyZXR1cm4gYT4wP2E6MX1nZXREYXRhVGltZXN0YW1wcygpe2xldCB0PXRoaXMuX2NhY2hlLmRhdGF8fFtdLGUsbjtpZih0Lmxlbmd0aClyZXR1cm4gdDtjb25zdCBzPXRoaXMuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXMoKTtpZih0aGlzLl9ub3JtYWxpemVkJiZzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FjaGUuZGF0YT1zWzBdLmNvbnRyb2xsZXIuZ2V0QWxsUGFyc2VkVmFsdWVzKHRoaXMpO2ZvcihlPTAsbj1zLmxlbmd0aDtlPG47KytlKXQ9dC5jb25jYXQoc1tlXS5jb250cm9sbGVyLmdldEFsbFBhcnNlZFZhbHVlcyh0aGlzKSk7cmV0dXJuIHRoaXMuX2NhY2hlLmRhdGE9dGhpcy5ub3JtYWxpemUodCl9Z2V0TGFiZWxUaW1lc3RhbXBzKCl7Y29uc3QgdD10aGlzLl9jYWNoZS5sYWJlbHN8fFtdO2xldCBlLG47aWYodC5sZW5ndGgpcmV0dXJuIHQ7Y29uc3Qgcz10aGlzLmdldExhYmVscygpO2ZvcihlPTAsbj1zLmxlbmd0aDtlPG47KytlKXQucHVzaCh0byh0aGlzLHNbZV0pKTtyZXR1cm4gdGhpcy5fY2FjaGUubGFiZWxzPXRoaXMuX25vcm1hbGl6ZWQ/dDp0aGlzLm5vcm1hbGl6ZSh0KX1ub3JtYWxpemUodCl7cmV0dXJuIENuKHQuc29ydChRcykpfX1TKEplLCJpZCIsInRpbWUiKSxTKEplLCJkZWZhdWx0cyIse2JvdW5kczoiZGF0YSIsYWRhcHRlcnM6e30sdGltZTp7cGFyc2VyOiExLHVuaXQ6ITEscm91bmQ6ITEsaXNvV2Vla2RheTohMSxtaW5Vbml0OiJtaWxsaXNlY29uZCIsZGlzcGxheUZvcm1hdHM6e319LHRpY2tzOntzb3VyY2U6ImF1dG8iLGNhbGxiYWNrOiExLG1ham9yOntlbmFibGVkOiExfX19KTtmdW5jdGlvbiBaZShpLHQsZSl7bGV0IG49MCxzPWkubGVuZ3RoLTEsbyxyLGEsbDtlPyh0Pj1pW25dLnBvcyYmdDw9aVtzXS5wb3MmJih7bG86bixoaTpzfT1TdChpLCJwb3MiLHQpKSx7cG9zOm8sdGltZTphfT1pW25dLHtwb3M6cix0aW1lOmx9PWlbc10pOih0Pj1pW25dLnRpbWUmJnQ8PWlbc10udGltZSYmKHtsbzpuLGhpOnN9PVN0KGksInRpbWUiLHQpKSx7dGltZTpvLHBvczphfT1pW25dLHt0aW1lOnIscG9zOmx9PWlbc10pO2NvbnN0IGM9ci1vO3JldHVybiBjP2ErKGwtYSkqKHQtbykvYzphfWNsYXNzIHNvIGV4dGVuZHMgSmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fdGFibGU9W10sdGhpcy5fbWluUG9zPXZvaWQgMCx0aGlzLl90YWJsZVJhbmdlPXZvaWQgMH1pbml0T2Zmc2V0cygpe2NvbnN0IHQ9dGhpcy5fZ2V0VGltZXN0YW1wc0ZvclRhYmxlKCksZT10aGlzLl90YWJsZT10aGlzLmJ1aWxkTG9va3VwVGFibGUodCk7dGhpcy5fbWluUG9zPVplKGUsdGhpcy5taW4pLHRoaXMuX3RhYmxlUmFuZ2U9WmUoZSx0aGlzLm1heCktdGhpcy5fbWluUG9zLHN1cGVyLmluaXRPZmZzZXRzKHQpfWJ1aWxkTG9va3VwVGFibGUodCl7Y29uc3R7bWluOmUsbWF4Om59PXRoaXMscz1bXSxvPVtdO2xldCByLGEsbCxjLGg7Zm9yKHI9MCxhPXQubGVuZ3RoO3I8YTsrK3IpYz10W3JdLGM+PWUmJmM8PW4mJnMucHVzaChjKTtpZihzLmxlbmd0aDwyKXJldHVyblt7dGltZTplLHBvczowfSx7dGltZTpuLHBvczoxfV07Zm9yKHI9MCxhPXMubGVuZ3RoO3I8YTsrK3IpaD1zW3IrMV0sbD1zW3ItMV0sYz1zW3JdLE1hdGgucm91bmQoKGgrbCkvMikhPT1jJiZvLnB1c2goe3RpbWU6Yyxwb3M6ci8oYS0xKX0pO3JldHVybiBvfV9nZW5lcmF0ZSgpe2NvbnN0IHQ9dGhpcy5taW4sZT10aGlzLm1heDtsZXQgbj1zdXBlci5nZXREYXRhVGltZXN0YW1wcygpO3JldHVybighbi5pbmNsdWRlcyh0KXx8IW4ubGVuZ3RoKSYmbi5zcGxpY2UoMCwwLHQpLCghbi5pbmNsdWRlcyhlKXx8bi5sZW5ndGg9PT0xKSYmbi5wdXNoKGUpLG4uc29ydCgocyxvKT0+cy1vKX1fZ2V0VGltZXN0YW1wc0ZvclRhYmxlKCl7bGV0IHQ9dGhpcy5fY2FjaGUuYWxsfHxbXTtpZih0Lmxlbmd0aClyZXR1cm4gdDtjb25zdCBlPXRoaXMuZ2V0RGF0YVRpbWVzdGFtcHMoKSxuPXRoaXMuZ2V0TGFiZWxUaW1lc3RhbXBzKCk7cmV0dXJuIGUubGVuZ3RoJiZuLmxlbmd0aD90PXRoaXMubm9ybWFsaXplKGUuY29uY2F0KG4pKTp0PWUubGVuZ3RoP2U6bix0PXRoaXMuX2NhY2hlLmFsbD10LHR9Z2V0RGVjaW1hbEZvclZhbHVlKHQpe3JldHVybihaZSh0aGlzLl90YWJsZSx0KS10aGlzLl9taW5Qb3MpL3RoaXMuX3RhYmxlUmFuZ2V9Z2V0VmFsdWVGb3JQaXhlbCh0KXtjb25zdCBlPXRoaXMuX29mZnNldHMsbj10aGlzLmdldERlY2ltYWxGb3JQaXhlbCh0KS9lLmZhY3Rvci1lLmVuZDtyZXR1cm4gWmUodGhpcy5fdGFibGUsbip0aGlzLl90YWJsZVJhbmdlK3RoaXMuX21pblBvcywhMCl9fVMoc28sImlkIiwidGltZXNlcmllcyIpLFMoc28sImRlZmF1bHRzIixKZS5kZWZhdWx0cyk7LyohCiogY2hhcnRqcy1wbHVnaW4tYW5ub3RhdGlvbiB2My4xLjAKKiBodHRwczovL3d3dy5jaGFydGpzLm9yZy9jaGFydGpzLXBsdWdpbi1hbm5vdGF0aW9uL2luZGV4CiAqIChjKSAyMDI0IGNoYXJ0anMtcGx1Z2luLWFubm90YXRpb24gQ29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZQogKi9jb25zdCBvbz17bW9kZXM6e3BvaW50KGksdCl7cmV0dXJuIFFlKGksdCx7aW50ZXJzZWN0OiEwfSl9LG5lYXJlc3QoaSx0LGUpe3JldHVybiBpaChpLHQsZSl9LHgoaSx0LGUpe3JldHVybiBRZShpLHQse2ludGVyc2VjdDplLmludGVyc2VjdCxheGlzOiJ4In0pfSx5KGksdCxlKXtyZXR1cm4gUWUoaSx0LHtpbnRlcnNlY3Q6ZS5pbnRlcnNlY3QsYXhpczoieSJ9KX19fTtmdW5jdGlvbiBxaShpLHQsZSl7cmV0dXJuKG9vLm1vZGVzW2UubW9kZV18fG9vLm1vZGVzLm5lYXJlc3QpKGksdCxlKX1mdW5jdGlvbiB0aChpLHQsZSl7cmV0dXJuIGUhPT0ieCImJmUhPT0ieSI/aS5pblJhbmdlKHQueCx0LnksIngiLCEwKXx8aS5pblJhbmdlKHQueCx0LnksInkiLCEwKTppLmluUmFuZ2UodC54LHQueSxlLCEwKX1mdW5jdGlvbiBlaChpLHQsZSl7cmV0dXJuIGU9PT0ieCI/e3g6aS54LHk6dC55fTplPT09InkiP3t4OnQueCx5OmkueX06dH1mdW5jdGlvbiBRZShpLHQsZSl7cmV0dXJuIGkuZmlsdGVyKG49PmUuaW50ZXJzZWN0P24uaW5SYW5nZSh0LngsdC55KTp0aChuLHQsZS5heGlzKSl9ZnVuY3Rpb24gaWgoaSx0LGUpe2xldCBuPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtyZXR1cm4gUWUoaSx0LGUpLnJlZHVjZSgocyxvKT0+e2NvbnN0IHI9by5nZXRDZW50ZXJQb2ludCgpLGE9ZWgodCxyLGUuYXhpcyksbD10ZSh0LGEpO3JldHVybiBsPG4/KHM9W29dLG49bCk6bD09PW4mJnMucHVzaChvKSxzfSxbXSkuc29ydCgocyxvKT0+cy5faW5kZXgtby5faW5kZXgpLnNsaWNlKDAsMSl9ZnVuY3Rpb24gTHQoaSx0LGUpe2NvbnN0IG49TWF0aC5jb3MoZSkscz1NYXRoLnNpbihlKSxvPXQueCxyPXQueTtyZXR1cm57eDpvK24qKGkueC1vKS1zKihpLnktcikseTpyK3MqKGkueC1vKStuKihpLnktcil9fWNvbnN0IG5oPShpLHQpPT50Pml8fGkubGVuZ3RoPnQubGVuZ3RoJiZpLnNsaWNlKDAsdC5sZW5ndGgpPT09dCxJdD0uMDAxLHRpPShpLHQsZSk9Pk1hdGgubWluKGUsTWF0aC5tYXgodCxpKSkscm89KGksdCk9PmkudmFsdWU+PWkuc3RhcnQtdCYmaS52YWx1ZTw9aS5lbmQrdDtmdW5jdGlvbiBzaChpLHQsZSl7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXMoaSkpaVtuXT10aShpW25dLHQsZSk7cmV0dXJuIGl9ZnVuY3Rpb24gb2goaSx0LGUsbil7cmV0dXJuIWl8fCF0fHxlPD0wPyExOk1hdGgucG93KGkueC10LngsMikrTWF0aC5wb3coaS55LXQueSwyKTw9TWF0aC5wb3coZStuLDIpfWZ1bmN0aW9uIGFvKGkse3g6dCx5OmUseDI6bix5MjpzfSxvLHtib3JkZXJXaWR0aDpyLGhpdFRvbGVyYW5jZTphfSl7Y29uc3QgbD0ocithKS8yLGM9aS54Pj10LWwtSXQmJmkueDw9bitsK0l0LGg9aS55Pj1lLWwtSXQmJmkueTw9cytsK0l0O3JldHVybiBvPT09IngiP2M6KG89PT0ieSJ8fGMpJiZofWZ1bmN0aW9uIGxvKGkse3JlY3Q6dCxjZW50ZXI6ZX0sbix7cm90YXRpb246cyxib3JkZXJXaWR0aDpvLGhpdFRvbGVyYW5jZTpyfSl7Y29uc3QgYT1MdChpLGUsVygtcykpO3JldHVybiBhbyhhLHQsbix7Ym9yZGVyV2lkdGg6byxoaXRUb2xlcmFuY2U6cn0pfWZ1bmN0aW9uIHp0KGksdCl7Y29uc3R7Y2VudGVyWDplLGNlbnRlclk6bn09aS5nZXRQcm9wcyhbImNlbnRlclgiLCJjZW50ZXJZIl0sdCk7cmV0dXJue3g6ZSx5Om59fWZ1bmN0aW9uIHJoKGksdCxlLG49ITApe2NvbnN0IHM9ZS5zcGxpdCgiLiIpO2xldCBvPTA7Zm9yKGNvbnN0IHIgb2YgdC5zcGxpdCgiLiIpKXtjb25zdCBhPXNbbysrXTtpZihwYXJzZUludChyLDEwKTxwYXJzZUludChhLDEwKSlicmVhaztpZihuaChhLHIpKXtpZihuKXRocm93IG5ldyBFcnJvcihgJHtpfSB2JHtlfSBpcyBub3Qgc3VwcG9ydGVkLiB2JHt0fSBvciBuZXdlciBpcyByZXF1aXJlZC5gKTtyZXR1cm4hMX19cmV0dXJuITB9Y29uc3QgY289aT0+dHlwZW9mIGk9PSJzdHJpbmciJiZpLmVuZHNXaXRoKCIlIiksaG89aT0+cGFyc2VGbG9hdChpKS8xMDAsdW89aT0+dGkoaG8oaSksMCwxKSxwZT0oaSx0KT0+KHt4OmkseTp0LHgyOmkseTI6dCx3aWR0aDowLGhlaWdodDowfSksYWg9e2JveDppPT5wZShpLmNlbnRlclgsaS5jZW50ZXJZKSxkb3VnaG51dExhYmVsOmk9PnBlKGkuY2VudGVyWCxpLmNlbnRlclkpLGVsbGlwc2U6aT0+KHtjZW50ZXJYOmkuY2VudGVyWCxjZW50ZXJZOmkuY2VudGVyWCxyYWRpdXM6MCx3aWR0aDowLGhlaWdodDowfSksbGFiZWw6aT0+cGUoaS5jZW50ZXJYLGkuY2VudGVyWSksbGluZTppPT5wZShpLngsaS55KSxwb2ludDppPT4oe2NlbnRlclg6aS5jZW50ZXJYLGNlbnRlclk6aS5jZW50ZXJZLHJhZGl1czowLHdpZHRoOjAsaGVpZ2h0OjB9KSxwb2x5Z29uOmk9PnBlKGkuY2VudGVyWCxpLmNlbnRlclkpfTtmdW5jdGlvbiBHaShpLHQpe3JldHVybiB0PT09InN0YXJ0Ij8wOnQ9PT0iZW5kIj9pOmNvKHQpP3VvKHQpKmk6aS8yfWZ1bmN0aW9uIF90KGksdCxlPSEwKXtyZXR1cm4gdHlwZW9mIHQ9PSJudW1iZXIiP3Q6Y28odCk/KGU/dW8odCk6aG8odCkpKmk6aX1mdW5jdGlvbiBsaChpLHQpe2NvbnN0e3g6ZSx3aWR0aDpufT1pLHM9dC50ZXh0QWxpZ247cmV0dXJuIHM9PT0iY2VudGVyIj9lK24vMjpzPT09ImVuZCJ8fHM9PT0icmlnaHQiP2UrbjplfWZ1bmN0aW9uIGZvKGksdCx7Ym9yZGVyV2lkdGg6ZSxwb3NpdGlvbjpuLHhBZGp1c3Q6cyx5QWRqdXN0Om99LHIpe2NvbnN0IGE9TyhyKSxsPXQud2lkdGgrKGE/ci53aWR0aDowKStlLGM9dC5oZWlnaHQrKGE/ci5oZWlnaHQ6MCkrZSxoPUppKG4pLGQ9Ym8oaS54LGwscyxoLngpLHU9Ym8oaS55LGMsbyxoLnkpO3JldHVybnt4OmQseTp1LHgyOmQrbCx5Mjp1K2Msd2lkdGg6bCxoZWlnaHQ6YyxjZW50ZXJYOmQrbC8yLGNlbnRlclk6dStjLzJ9fWZ1bmN0aW9uIEppKGksdD0iY2VudGVyIil7cmV0dXJuIE8oaSk/e3g6UChpLngsdCkseTpQKGkueSx0KX06KGk9UChpLHQpLHt4OmkseTppfSl9Y29uc3QgZ289KGksdCk9PmkmJmkuYXV0b0ZpdCYmdDwxO2Z1bmN0aW9uIHBvKGksdCl7Y29uc3QgZT1pLmZvbnQsbj16KGUpP2U6W2VdO3JldHVybiBnbyhpLHQpP24ubWFwKGZ1bmN0aW9uKHMpe2NvbnN0IG89bnQocyk7cmV0dXJuIG8uc2l6ZT1NYXRoLmZsb29yKHMuc2l6ZSp0KSxvLmxpbmVIZWlnaHQ9cy5saW5lSGVpZ2h0LG50KG8pfSk6bi5tYXAocz0+bnQocykpfWZ1bmN0aW9uIG1vKGkpe3JldHVybiBpJiYoSyhpLnhWYWx1ZSl8fEsoaS55VmFsdWUpKX1mdW5jdGlvbiBibyhpLHQsZT0wLG4pe3JldHVybiBpLUdpKHQsbikrZX1mdW5jdGlvbiBZdChpLHQsZSl7Y29uc3Qgbj1lLmluaXQ7aWYobil7aWYobj09PSEwKXJldHVybiBfbyh0LGUpfWVsc2UgcmV0dXJuO3JldHVybiBjaChpLHQsZSl9ZnVuY3Rpb24geG8oaSx0LGUpe2xldCBuPSExO3JldHVybiB0LmZvckVhY2gocz0+e3EoaVtzXSk/KG49ITAsZVtzXT1pW3NdKTpLKGVbc10pJiZkZWxldGUgZVtzXX0pLG59ZnVuY3Rpb24gX28oaSx0KXtjb25zdCBlPXQudHlwZXx8ImxpbmUiO3JldHVybiBhaFtlXShpKX1mdW5jdGlvbiBjaChpLHQsZSl7Y29uc3Qgbj1MKGUuaW5pdCxbe2NoYXJ0OmkscHJvcGVydGllczp0LG9wdGlvbnM6ZX1dKTtpZihuPT09ITApcmV0dXJuIF9vKHQsZSk7aWYoTyhuKSlyZXR1cm4gbn1jb25zdCBaaT1uZXcgTWFwLGhoPWk9PmlzTmFOKGkpfHxpPD0wLGRoPWk9PmkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrPWUuc3RyaW5nLHR9LCIiKTtmdW5jdGlvbiBlaShpKXtpZihpJiZ0eXBlb2YgaT09Im9iamVjdCIpe2NvbnN0IHQ9aS50b1N0cmluZygpO3JldHVybiB0PT09IltvYmplY3QgSFRNTEltYWdlRWxlbWVudF0ifHx0PT09IltvYmplY3QgSFRNTENhbnZhc0VsZW1lbnRdIn19ZnVuY3Rpb24gaWkoaSx7eDp0LHk6ZX0sbil7biYmKGkudHJhbnNsYXRlKHQsZSksaS5yb3RhdGUoVyhuKSksaS50cmFuc2xhdGUoLXQsLWUpKX1mdW5jdGlvbiBwdChpLHQpe2lmKHQmJnQuYm9yZGVyV2lkdGgpcmV0dXJuIGkubGluZUNhcD10LmJvcmRlckNhcFN0eWxlfHwiYnV0dCIsaS5zZXRMaW5lRGFzaCh0LmJvcmRlckRhc2gpLGkubGluZURhc2hPZmZzZXQ9dC5ib3JkZXJEYXNoT2Zmc2V0LGkubGluZUpvaW49dC5ib3JkZXJKb2luU3R5bGV8fCJtaXRlciIsaS5saW5lV2lkdGg9dC5ib3JkZXJXaWR0aCxpLnN0cm9rZVN0eWxlPXQuYm9yZGVyQ29sb3IsITB9ZnVuY3Rpb24gJHQoaSx0KXtpLnNoYWRvd0NvbG9yPXQuYmFja2dyb3VuZFNoYWRvd0NvbG9yLGkuc2hhZG93Qmx1cj10LnNoYWRvd0JsdXIsaS5zaGFkb3dPZmZzZXRYPXQuc2hhZG93T2Zmc2V0WCxpLnNoYWRvd09mZnNldFk9dC5zaGFkb3dPZmZzZXRZfWZ1bmN0aW9uIG5pKGksdCl7Y29uc3QgZT10LmNvbnRlbnQ7aWYoZWkoZSkpcmV0dXJue3dpZHRoOl90KGUud2lkdGgsdC53aWR0aCksaGVpZ2h0Ol90KGUuaGVpZ2h0LHQuaGVpZ2h0KX07Y29uc3Qgbj1wbyh0KSxzPXQudGV4dFN0cm9rZVdpZHRoLG89eihlKT9lOltlXSxyPW8uam9pbigpK2RoKG4pK3MrKGkuX21lYXN1cmVUZXh0PyItc3ByaXRpbmciOiIiKTtyZXR1cm4gWmkuaGFzKHIpfHxaaS5zZXQocixwaChpLG8sbixzKSksWmkuZ2V0KHIpfWZ1bmN0aW9uIHlvKGksdCxlKXtjb25zdHt4Om4seTpzLHdpZHRoOm8saGVpZ2h0OnJ9PXQ7aS5zYXZlKCksJHQoaSxlKTtjb25zdCBhPXB0KGksZSk7aS5maWxsU3R5bGU9ZS5iYWNrZ3JvdW5kQ29sb3IsaS5iZWdpblBhdGgoKSxEaShpLHt4Om4seTpzLHc6byxoOnIscmFkaXVzOnNoKE9pKGUuYm9yZGVyUmFkaXVzKSwwLE1hdGgubWluKG8scikvMil9KSxpLmNsb3NlUGF0aCgpLGkuZmlsbCgpLGEmJihpLnNoYWRvd0NvbG9yPWUuYm9yZGVyU2hhZG93Q29sb3IsaS5zdHJva2UoKSksaS5yZXN0b3JlKCl9ZnVuY3Rpb24gd28oaSx0LGUsbil7Y29uc3Qgcz1lLmNvbnRlbnQ7aWYoZWkocykpe2kuc2F2ZSgpLGkuZ2xvYmFsQWxwaGE9eGgoZS5vcGFjaXR5LHMuc3R5bGUub3BhY2l0eSksaS5kcmF3SW1hZ2Uocyx0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpLGkucmVzdG9yZSgpO3JldHVybn1jb25zdCBvPXoocyk/czpbc10scj1wbyhlLG4pLGE9ZS5jb2xvcixsPXooYSk/YTpbYV0sYz1saCh0LGUpLGg9dC55K2UudGV4dFN0cm9rZVdpZHRoLzI7aS5zYXZlKCksaS50ZXh0QmFzZWxpbmU9Im1pZGRsZSIsaS50ZXh0QWxpZ249ZS50ZXh0QWxpZ24sdWgoaSxlKSYmbWgoaSx7eDpjLHk6aH0sbyxyKSxiaChpLHt4OmMseTpofSxvLHtmb250czpyLGNvbG9yczpsfSksaS5yZXN0b3JlKCl9ZnVuY3Rpb24gdWgoaSx0KXtpZih0LnRleHRTdHJva2VXaWR0aD4wKXJldHVybiBpLmxpbmVKb2luPSJyb3VuZCIsaS5taXRlckxpbWl0PTIsaS5saW5lV2lkdGg9dC50ZXh0U3Ryb2tlV2lkdGgsaS5zdHJva2VTdHlsZT10LnRleHRTdHJva2VDb2xvciwhMH1mdW5jdGlvbiBmaChpLHQsZSxuKXtjb25zdHtyYWRpdXM6cyxvcHRpb25zOm99PXQscj1vLnBvaW50U3R5bGUsYT1vLnJvdGF0aW9uO2xldCBsPShhfHwwKSpiaTtpZihlaShyKSl7aS5zYXZlKCksaS50cmFuc2xhdGUoZSxuKSxpLnJvdGF0ZShsKSxpLmRyYXdJbWFnZShyLC1yLndpZHRoLzIsLXIuaGVpZ2h0LzIsci53aWR0aCxyLmhlaWdodCksaS5yZXN0b3JlKCk7cmV0dXJufWhoKHMpfHxnaChpLHt4OmUseTpuLHJhZGl1czpzLHJvdGF0aW9uOmEsc3R5bGU6cixyYWQ6bH0pfWZ1bmN0aW9uIGdoKGkse3g6dCx5OmUscmFkaXVzOm4scm90YXRpb246cyxzdHlsZTpvLHJhZDpyfSl7bGV0IGEsbCxjLGg7c3dpdGNoKGkuYmVnaW5QYXRoKCksbyl7ZGVmYXVsdDppLmFyYyh0LGUsbiwwLEIpLGkuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZSJ0cmlhbmdsZSI6aS5tb3ZlVG8odCtNYXRoLnNpbihyKSpuLGUtTWF0aC5jb3Mocikqbikscis9T2UsaS5saW5lVG8odCtNYXRoLnNpbihyKSpuLGUtTWF0aC5jb3Mocikqbikscis9T2UsaS5saW5lVG8odCtNYXRoLnNpbihyKSpuLGUtTWF0aC5jb3MocikqbiksaS5jbG9zZVBhdGgoKTticmVhaztjYXNlInJlY3RSb3VuZGVkIjpoPW4qLjUxNixjPW4taCxhPU1hdGguY29zKHIraXQpKmMsbD1NYXRoLnNpbihyK2l0KSpjLGkuYXJjKHQtYSxlLWwsaCxyLVQsci1IKSxpLmFyYyh0K2wsZS1hLGgsci1ILHIpLGkuYXJjKHQrYSxlK2wsaCxyLHIrSCksaS5hcmModC1sLGUrYSxoLHIrSCxyK1QpLGkuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZSJyZWN0IjppZighcyl7Yz1NYXRoLlNRUlQxXzIqbixpLnJlY3QodC1jLGUtYywyKmMsMipjKTticmVha31yKz1pdDtjYXNlInJlY3RSb3QiOmE9TWF0aC5jb3MocikqbixsPU1hdGguc2luKHIpKm4saS5tb3ZlVG8odC1hLGUtbCksaS5saW5lVG8odCtsLGUtYSksaS5saW5lVG8odCthLGUrbCksaS5saW5lVG8odC1sLGUrYSksaS5jbG9zZVBhdGgoKTticmVhaztjYXNlImNyb3NzUm90IjpyKz1pdDtjYXNlImNyb3NzIjphPU1hdGguY29zKHIpKm4sbD1NYXRoLnNpbihyKSpuLGkubW92ZVRvKHQtYSxlLWwpLGkubGluZVRvKHQrYSxlK2wpLGkubW92ZVRvKHQrbCxlLWEpLGkubGluZVRvKHQtbCxlK2EpO2JyZWFrO2Nhc2Uic3RhciI6YT1NYXRoLmNvcyhyKSpuLGw9TWF0aC5zaW4ocikqbixpLm1vdmVUbyh0LWEsZS1sKSxpLmxpbmVUbyh0K2EsZStsKSxpLm1vdmVUbyh0K2wsZS1hKSxpLmxpbmVUbyh0LWwsZSthKSxyKz1pdCxhPU1hdGguY29zKHIpKm4sbD1NYXRoLnNpbihyKSpuLGkubW92ZVRvKHQtYSxlLWwpLGkubGluZVRvKHQrYSxlK2wpLGkubW92ZVRvKHQrbCxlLWEpLGkubGluZVRvKHQtbCxlK2EpO2JyZWFrO2Nhc2UibGluZSI6YT1NYXRoLmNvcyhyKSpuLGw9TWF0aC5zaW4ocikqbixpLm1vdmVUbyh0LWEsZS1sKSxpLmxpbmVUbyh0K2EsZStsKTticmVhaztjYXNlImRhc2giOmkubW92ZVRvKHQsZSksaS5saW5lVG8odCtNYXRoLmNvcyhyKSpuLGUrTWF0aC5zaW4ocikqbik7YnJlYWt9aS5maWxsKCl9ZnVuY3Rpb24gcGgoaSx0LGUsbil7aS5zYXZlKCk7Y29uc3Qgcz10Lmxlbmd0aDtsZXQgbz0wLHI9bjtmb3IobGV0IGE9MDthPHM7YSsrKXtjb25zdCBsPWVbTWF0aC5taW4oYSxlLmxlbmd0aC0xKV07aS5mb250PWwuc3RyaW5nO2NvbnN0IGM9dFthXTtvPU1hdGgubWF4KG8saS5tZWFzdXJlVGV4dChjKS53aWR0aCtuKSxyKz1sLmxpbmVIZWlnaHR9cmV0dXJuIGkucmVzdG9yZSgpLHt3aWR0aDpvLGhlaWdodDpyfX1mdW5jdGlvbiBtaChpLHt4OnQseTplfSxuLHMpe2kuYmVnaW5QYXRoKCk7bGV0IG89MDtuLmZvckVhY2goZnVuY3Rpb24ocixhKXtjb25zdCBsPXNbTWF0aC5taW4oYSxzLmxlbmd0aC0xKV0sYz1sLmxpbmVIZWlnaHQ7aS5mb250PWwuc3RyaW5nLGkuc3Ryb2tlVGV4dChyLHQsZStjLzIrbyksbys9Y30pLGkuc3Ryb2tlKCl9ZnVuY3Rpb24gYmgoaSx7eDp0LHk6ZX0sbix7Zm9udHM6cyxjb2xvcnM6b30pe2xldCByPTA7bi5mb3JFYWNoKGZ1bmN0aW9uKGEsbCl7Y29uc3QgYz1vW01hdGgubWluKGwsby5sZW5ndGgtMSldLGg9c1tNYXRoLm1pbihsLHMubGVuZ3RoLTEpXSxkPWgubGluZUhlaWdodDtpLmJlZ2luUGF0aCgpLGkuZm9udD1oLnN0cmluZyxpLmZpbGxTdHlsZT1jLGkuZmlsbFRleHQoYSx0LGUrZC8yK3IpLHIrPWQsaS5maWxsKCl9KX1mdW5jdGlvbiB4aChpLHQpe2NvbnN0IGU9a3QoaSk/aTp0O3JldHVybiBrdChlKT90aShlLDAsMSk6MX1jb25zdCBNbz1bImxlZnQiLCJib3R0b20iLCJ0b3AiLCJyaWdodCJdO2Z1bmN0aW9uIF9oKGksdCl7Y29uc3R7cG9pbnRYOmUscG9pbnRZOm4sb3B0aW9uczpzfT10LG89cy5jYWxsb3V0LHI9byYmby5kaXNwbGF5JiZ2aCh0LG8pO2lmKCFyfHxQaCh0LG8scikpcmV0dXJuO2lmKGkuc2F2ZSgpLGkuYmVnaW5QYXRoKCksIXB0KGksbykpcmV0dXJuIGkucmVzdG9yZSgpO2NvbnN0e3NlcGFyYXRvclN0YXJ0Omwsc2VwYXJhdG9yRW5kOmN9PXloKHQscikse3NpZGVTdGFydDpoLHNpZGVFbmQ6ZH09TWgodCxyLGwpOyhvLm1hcmdpbj4wfHxzLmJvcmRlcldpZHRoPT09MCkmJihpLm1vdmVUbyhsLngsbC55KSxpLmxpbmVUbyhjLngsYy55KSksaS5tb3ZlVG8oaC54LGgueSksaS5saW5lVG8oZC54LGQueSk7Y29uc3QgdT1MdCh7eDplLHk6bn0sdC5nZXRDZW50ZXJQb2ludCgpLFcoLXQucm90YXRpb24pKTtpLmxpbmVUbyh1LngsdS55KSxpLnN0cm9rZSgpLGkucmVzdG9yZSgpfWZ1bmN0aW9uIHloKGksdCl7Y29uc3R7eDplLHk6bix4MjpzLHkyOm99PWkscj13aChpLHQpO2xldCBhLGw7cmV0dXJuIHQ9PT0ibGVmdCJ8fHQ9PT0icmlnaHQiPyhhPXt4OmUrcix5Om59LGw9e3g6YS54LHk6b30pOihhPXt4OmUseTpuK3J9LGw9e3g6cyx5OmEueX0pLHtzZXBhcmF0b3JTdGFydDphLHNlcGFyYXRvckVuZDpsfX1mdW5jdGlvbiB3aChpLHQpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0Om4sb3B0aW9uczpzfT1pLG89cy5jYWxsb3V0Lm1hcmdpbitzLmJvcmRlcldpZHRoLzI7cmV0dXJuIHQ9PT0icmlnaHQiP2Urbzp0PT09ImJvdHRvbSI/bitvOi1vfWZ1bmN0aW9uIE1oKGksdCxlKXtjb25zdHt5Om4sd2lkdGg6cyxoZWlnaHQ6byxvcHRpb25zOnJ9PWksYT1yLmNhbGxvdXQuc3RhcnQsbD1raCh0LHIuY2FsbG91dCk7bGV0IGMsaDtyZXR1cm4gdD09PSJsZWZ0Inx8dD09PSJyaWdodCI/KGM9e3g6ZS54LHk6bitfdChvLGEpfSxoPXt4OmMueCtsLHk6Yy55fSk6KGM9e3g6ZS54K190KHMsYSkseTplLnl9LGg9e3g6Yy54LHk6Yy55K2x9KSx7c2lkZVN0YXJ0OmMsc2lkZUVuZDpofX1mdW5jdGlvbiBraChpLHQpe2NvbnN0IGU9dC5zaWRlO3JldHVybiBpPT09ImxlZnQifHxpPT09InRvcCI/LWU6ZX1mdW5jdGlvbiB2aChpLHQpe2NvbnN0IGU9dC5wb3NpdGlvbjtyZXR1cm4gTW8uaW5jbHVkZXMoZSk/ZTpTaChpLHQpfWZ1bmN0aW9uIFNoKGksdCl7Y29uc3R7eDplLHk6bix4MjpzLHkyOm8sd2lkdGg6cixoZWlnaHQ6YSxwb2ludFg6bCxwb2ludFk6YyxjZW50ZXJYOmgsY2VudGVyWTpkLHJvdGF0aW9uOnV9PWksZj17eDpoLHk6ZH0sZz10LnN0YXJ0LHA9X3QocixnKSxtPV90KGEsZyksYj1bZSxlK3AsZStwLHNdLHg9W24rbSxvLG4sb10seT1bXTtmb3IobGV0IE09MDtNPDQ7TSsrKXtjb25zdCBfPUx0KHt4OmJbTV0seTp4W01dfSxmLFcodSkpO3kucHVzaCh7cG9zaXRpb246TW9bTV0sZGlzdGFuY2U6dGUoXyx7eDpsLHk6Y30pfSl9cmV0dXJuIHkuc29ydCgoTSxfKT0+TS5kaXN0YW5jZS1fLmRpc3RhbmNlKVswXS5wb3NpdGlvbn1mdW5jdGlvbiBQaChpLHQsZSl7Y29uc3R7cG9pbnRYOm4scG9pbnRZOnN9PWksbz10Lm1hcmdpbjtsZXQgcj1uLGE9cztyZXR1cm4gZT09PSJsZWZ0Ij9yKz1vOmU9PT0icmlnaHQiP3ItPW86ZT09PSJ0b3AiP2ErPW86ZT09PSJib3R0b20iJiYoYS09byksaS5pblJhbmdlKHIsYSl9Y29uc3Qga289e3hTY2FsZUlEOnttaW46InhNaW4iLG1heDoieE1heCIsc3RhcnQ6ImxlZnQiLGVuZDoicmlnaHQiLHN0YXJ0UHJvcDoieCIsZW5kUHJvcDoieDIifSx5U2NhbGVJRDp7bWluOiJ5TWluIixtYXg6InlNYXgiLHN0YXJ0OiJib3R0b20iLGVuZDoidG9wIixzdGFydFByb3A6InkiLGVuZFByb3A6InkyIn19O2Z1bmN0aW9uIFh0KGksdCxlKXtyZXR1cm4gdD10eXBlb2YgdD09Im51bWJlciI/dDppLnBhcnNlKHQpLFUodCk/aS5nZXRQaXhlbEZvclZhbHVlKHQpOmV9ZnVuY3Rpb24gRXQoaSx0LGUpe2NvbnN0IG49dFtlXTtpZihufHxlPT09InNjYWxlSUQiKXJldHVybiBuO2NvbnN0IHM9ZS5jaGFyQXQoMCksbz1PYmplY3QudmFsdWVzKGkpLmZpbHRlcihyPT5yLmF4aXMmJnIuYXhpcz09PXMpO3JldHVybiBvLmxlbmd0aD9vWzBdLmlkOnN9ZnVuY3Rpb24gdm8oaSx0KXtpZihpKXtjb25zdCBlPWkub3B0aW9ucy5yZXZlcnNlLG49WHQoaSx0Lm1pbixlP3QuZW5kOnQuc3RhcnQpLHM9WHQoaSx0Lm1heCxlP3Quc3RhcnQ6dC5lbmQpO3JldHVybntzdGFydDpuLGVuZDpzfX19ZnVuY3Rpb24gU28oaSx0KXtjb25zdHtjaGFydEFyZWE6ZSxzY2FsZXM6bn09aSxzPW5bRXQobix0LCJ4U2NhbGVJRCIpXSxvPW5bRXQobix0LCJ5U2NhbGVJRCIpXTtsZXQgcj1lLndpZHRoLzIsYT1lLmhlaWdodC8yO3JldHVybiBzJiYocj1YdChzLHQueFZhbHVlLHMubGVmdCtzLndpZHRoLzIpKSxvJiYoYT1YdChvLHQueVZhbHVlLG8udG9wK28uaGVpZ2h0LzIpKSx7eDpyLHk6YX19ZnVuY3Rpb24gUWkoaSx0KXtjb25zdCBlPWkuc2NhbGVzLG49ZVtFdChlLHQsInhTY2FsZUlEIildLHM9ZVtFdChlLHQsInlTY2FsZUlEIildO2lmKCFuJiYhcylyZXR1cm57fTtsZXR7bGVmdDpvLHJpZ2h0OnJ9PW58fGkuY2hhcnRBcmVhLHt0b3A6YSxib3R0b206bH09c3x8aS5jaGFydEFyZWE7Y29uc3QgYz1PbyhuLHttaW46dC54TWluLG1heDp0LnhNYXgsc3RhcnQ6byxlbmQ6cn0pO289Yy5zdGFydCxyPWMuZW5kO2NvbnN0IGg9T28ocyx7bWluOnQueU1pbixtYXg6dC55TWF4LHN0YXJ0OmwsZW5kOmF9KTtyZXR1cm4gYT1oLnN0YXJ0LGw9aC5lbmQse3g6byx5OmEseDI6cix5MjpsLHdpZHRoOnItbyxoZWlnaHQ6bC1hLGNlbnRlclg6bysoci1vKS8yLGNlbnRlclk6YSsobC1hKS8yfX1mdW5jdGlvbiBQbyhpLHQpe2lmKCFtbyh0KSl7Y29uc3QgZT1RaShpLHQpO2xldCBuPXQucmFkaXVzOyghbnx8aXNOYU4obikpJiYobj1NYXRoLm1pbihlLndpZHRoLGUuaGVpZ2h0KS8yLHQucmFkaXVzPW4pO2NvbnN0IHM9bioyLG89ZS5jZW50ZXJYK3QueEFkanVzdCxyPWUuY2VudGVyWSt0LnlBZGp1c3Q7cmV0dXJue3g6by1uLHk6ci1uLHgyOm8rbix5MjpyK24sY2VudGVyWDpvLGNlbnRlclk6cix3aWR0aDpzLGhlaWdodDpzLHJhZGl1czpufX1yZXR1cm4gT2goaSx0KX1mdW5jdGlvbiBEaChpLHQpe2NvbnN0e3NjYWxlczplLGNoYXJ0QXJlYTpufT1pLHM9ZVt0LnNjYWxlSURdLG89e3g6bi5sZWZ0LHk6bi50b3AseDI6bi5yaWdodCx5MjpuLmJvdHRvbX07cmV0dXJuIHM/Q2gocyxvLHQpOlRoKGUsbyx0KSxvfWZ1bmN0aW9uIERvKGksdCl7Y29uc3QgZT1RaShpLHQpO3JldHVybiBlLmluaXRQcm9wZXJ0aWVzPVl0KGksZSx0KSxlLmVsZW1lbnRzPVt7dHlwZToibGFiZWwiLG9wdGlvblNjb3BlOiJsYWJlbCIscHJvcGVydGllczpMaChpLGUsdCksaW5pdFByb3BlcnRpZXM6ZS5pbml0UHJvcGVydGllc31dLGV9ZnVuY3Rpb24gT2goaSx0KXtjb25zdCBlPVNvKGksdCksbj10LnJhZGl1cyoyO3JldHVybnt4OmUueC10LnJhZGl1cyt0LnhBZGp1c3QseTplLnktdC5yYWRpdXMrdC55QWRqdXN0LHgyOmUueCt0LnJhZGl1cyt0LnhBZGp1c3QseTI6ZS55K3QucmFkaXVzK3QueUFkanVzdCxjZW50ZXJYOmUueCt0LnhBZGp1c3QsY2VudGVyWTplLnkrdC55QWRqdXN0LHJhZGl1czp0LnJhZGl1cyx3aWR0aDpuLGhlaWdodDpufX1mdW5jdGlvbiBPbyhpLHQpe2NvbnN0IGU9dm8oaSx0KXx8dDtyZXR1cm57c3RhcnQ6TWF0aC5taW4oZS5zdGFydCxlLmVuZCksZW5kOk1hdGgubWF4KGUuc3RhcnQsZS5lbmQpfX1mdW5jdGlvbiBDaChpLHQsZSl7Y29uc3Qgbj1YdChpLGUudmFsdWUsTmFOKSxzPVh0KGksZS5lbmRWYWx1ZSxuKTtpLmlzSG9yaXpvbnRhbCgpPyh0Lng9bix0LngyPXMpOih0Lnk9bix0LnkyPXMpfWZ1bmN0aW9uIFRoKGksdCxlKXtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyhrbykpe2NvbnN0IHM9aVtFdChpLGUsbildO2lmKHMpe2NvbnN0e21pbjpvLG1heDpyLHN0YXJ0OmEsZW5kOmwsc3RhcnRQcm9wOmMsZW5kUHJvcDpofT1rb1tuXSxkPXZvKHMse21pbjplW29dLG1heDplW3JdLHN0YXJ0OnNbYV0sZW5kOnNbbF19KTt0W2NdPWQuc3RhcnQsdFtoXT1kLmVuZH19fWZ1bmN0aW9uIEFoKHtwcm9wZXJ0aWVzOmksb3B0aW9uczp0fSxlLG4scyl7Y29uc3R7eDpvLHgyOnIsd2lkdGg6YX09aTtyZXR1cm4gQ28oe3N0YXJ0Om8sZW5kOnIsc2l6ZTphLGJvcmRlcldpZHRoOnQuYm9yZGVyV2lkdGh9LHtwb3NpdGlvbjpuLngscGFkZGluZzp7c3RhcnQ6cy5sZWZ0LGVuZDpzLnJpZ2h0fSxhZGp1c3Q6dC5sYWJlbC54QWRqdXN0LHNpemU6ZS53aWR0aH0pfWZ1bmN0aW9uIFJoKHtwcm9wZXJ0aWVzOmksb3B0aW9uczp0fSxlLG4scyl7Y29uc3R7eTpvLHkyOnIsaGVpZ2h0OmF9PWk7cmV0dXJuIENvKHtzdGFydDpvLGVuZDpyLHNpemU6YSxib3JkZXJXaWR0aDp0LmJvcmRlcldpZHRofSx7cG9zaXRpb246bi55LHBhZGRpbmc6e3N0YXJ0OnMudG9wLGVuZDpzLmJvdHRvbX0sYWRqdXN0OnQubGFiZWwueUFkanVzdCxzaXplOmUuaGVpZ2h0fSl9ZnVuY3Rpb24gQ28oaSx0KXtjb25zdHtzdGFydDplLGVuZDpuLGJvcmRlcldpZHRoOnN9PWkse3Bvc2l0aW9uOm8scGFkZGluZzp7c3RhcnQ6cixlbmQ6YX0sYWRqdXN0Omx9PXQsYz1uLXMtZS1yLWEtdC5zaXplO3JldHVybiBlK3MvMitsK0dpKGMsbyl9ZnVuY3Rpb24gTGgoaSx0LGUpe2NvbnN0IG49ZS5sYWJlbDtuLmJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiLG4uY2FsbG91dC5kaXNwbGF5PSExO2NvbnN0IHM9Smkobi5wb3NpdGlvbiksbz1RKG4ucGFkZGluZykscj1uaShpLmN0eCxuKSxhPUFoKHtwcm9wZXJ0aWVzOnQsb3B0aW9uczplfSxyLHMsbyksbD1SaCh7cHJvcGVydGllczp0LG9wdGlvbnM6ZX0scixzLG8pLGM9ci53aWR0aCtvLndpZHRoLGg9ci5oZWlnaHQrby5oZWlnaHQ7cmV0dXJue3g6YSx5OmwseDI6YStjLHkyOmwraCx3aWR0aDpjLGhlaWdodDpoLGNlbnRlclg6YStjLzIsY2VudGVyWTpsK2gvMixyb3RhdGlvbjpuLnJvdGF0aW9ufX1jb25zdCB0bj1bImVudGVyIiwibGVhdmUiXSxlbj10bi5jb25jYXQoImNsaWNrIik7ZnVuY3Rpb24gSWgoaSx0LGUpe3QubGlzdGVuZWQ9eG8oZSxlbix0Lmxpc3RlbmVycyksdC5tb3ZlTGlzdGVuZWQ9ITEsdG4uZm9yRWFjaChuPT57cShlW25dKSYmKHQubW92ZUxpc3RlbmVkPSEwKX0pLCghdC5saXN0ZW5lZHx8IXQubW92ZUxpc3RlbmVkKSYmdC5hbm5vdGF0aW9ucy5mb3JFYWNoKG49PnshdC5saXN0ZW5lZCYmcShuLmNsaWNrKSYmKHQubGlzdGVuZWQ9ITApLHQubW92ZUxpc3RlbmVkfHx0bi5mb3JFYWNoKHM9PntxKG5bc10pJiYodC5saXN0ZW5lZD0hMCx0Lm1vdmVMaXN0ZW5lZD0hMCl9KX0pfWZ1bmN0aW9uIHpoKGksdCxlKXtpZihpLmxpc3RlbmVkKXN3aXRjaCh0LnR5cGUpe2Nhc2UibW91c2Vtb3ZlIjpjYXNlIm1vdXNlb3V0IjpyZXR1cm4gRWgoaSx0LGUpO2Nhc2UiY2xpY2siOnJldHVybiBGaChpLHQsZSl9fWZ1bmN0aW9uIEVoKGksdCxlKXtpZighaS5tb3ZlTGlzdGVuZWQpcmV0dXJuO2xldCBuO3QudHlwZT09PSJtb3VzZW1vdmUiP249cWkoaS52aXNpYmxlRWxlbWVudHMsdCxlLmludGVyYWN0aW9uKTpuPVtdO2NvbnN0IHM9aS5ob3ZlcmVkO2kuaG92ZXJlZD1uO2NvbnN0IG89e3N0YXRlOmksZXZlbnQ6dH07bGV0IHI9VG8obywibGVhdmUiLHMsbik7cmV0dXJuIFRvKG8sImVudGVyIixuLHMpfHxyfWZ1bmN0aW9uIFRvKHtzdGF0ZTppLGV2ZW50OnR9LGUsbixzKXtsZXQgbztmb3IoY29uc3QgciBvZiBuKXMuaW5kZXhPZihyKTwwJiYobz1BbyhyLm9wdGlvbnNbZV18fGkubGlzdGVuZXJzW2VdLHIsdCl8fG8pO3JldHVybiBvfWZ1bmN0aW9uIEZoKGksdCxlKXtjb25zdCBuPWkubGlzdGVuZXJzLHM9cWkoaS52aXNpYmxlRWxlbWVudHMsdCxlLmludGVyYWN0aW9uKTtsZXQgbztmb3IoY29uc3QgciBvZiBzKW89QW8oci5vcHRpb25zLmNsaWNrfHxuLmNsaWNrLHIsdCl8fG87cmV0dXJuIG99ZnVuY3Rpb24gQW8oaSx0LGUpe3JldHVybiBMKGksW3QuJGNvbnRleHQsZV0pPT09ITB9Y29uc3Qgc2k9WyJhZnRlckRyYXciLCJiZWZvcmVEcmF3Il07ZnVuY3Rpb24gV2goaSx0LGUpe2NvbnN0IG49dC52aXNpYmxlRWxlbWVudHM7dC5ob29rZWQ9eG8oZSxzaSx0Lmhvb2tzKSx0Lmhvb2tlZHx8bi5mb3JFYWNoKHM9Pnt0Lmhvb2tlZHx8c2kuZm9yRWFjaChvPT57cShzLm9wdGlvbnNbb10pJiYodC5ob29rZWQ9ITApfSl9KX1mdW5jdGlvbiBSbyhpLHQsZSl7aWYoaS5ob29rZWQpe2NvbnN0IG49dC5vcHRpb25zW2VdfHxpLmhvb2tzW2VdO3JldHVybiBMKG4sW3QuJGNvbnRleHRdKX19ZnVuY3Rpb24gQmgoaSx0LGUpe2NvbnN0IG49WWgoaS5zY2FsZXMsdCxlKTtsZXQgcz1Mbyh0LG4sIm1pbiIsInN1Z2dlc3RlZE1pbiIpO3M9TG8odCxuLCJtYXgiLCJzdWdnZXN0ZWRNYXgiKXx8cyxzJiZxKHQuaGFuZGxlVGlja1JhbmdlT3B0aW9ucykmJnQuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpfWZ1bmN0aW9uIEhoKGksdCl7Zm9yKGNvbnN0IGUgb2YgaSlOaChlLHQpfWZ1bmN0aW9uIExvKGksdCxlLG4pe2lmKFUodFtlXSkmJiFqaChpLm9wdGlvbnMsZSxuKSl7Y29uc3Qgcz1pW2VdIT09dFtlXTtyZXR1cm4gaVtlXT10W2VdLHN9fWZ1bmN0aW9uIGpoKGksdCxlKXtyZXR1cm4gSyhpW3RdKXx8SyhpW2VdKX1mdW5jdGlvbiBOaChpLHQpe2Zvcihjb25zdCBlIG9mWyJzY2FsZUlEIiwieFNjYWxlSUQiLCJ5U2NhbGVJRCJdKXtjb25zdCBuPUV0KHQsaSxlKTtuJiYhdFtuXSYmVmgoaSxlKSYmY29uc29sZS53YXJuKGBObyBzY2FsZSBmb3VuZCB3aXRoIGlkICcke259JyBmb3IgYW5ub3RhdGlvbiAnJHtpLmlkfSdgKX19ZnVuY3Rpb24gVmgoaSx0KXtpZih0PT09InNjYWxlSUQiKXJldHVybiEwO2NvbnN0IGU9dC5jaGFyQXQoMCk7Zm9yKGNvbnN0IG4gb2ZbIk1pbiIsIk1heCIsIlZhbHVlIl0paWYoSyhpW2Urbl0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFloKGksdCxlKXtjb25zdCBuPXQuYXhpcyxzPXQuaWQsbz1uKyJTY2FsZUlEIixyPXttaW46UCh0Lm1pbixOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLG1heDpQKHQubWF4LE51bWJlci5QT1NJVElWRV9JTkZJTklUWSl9O2Zvcihjb25zdCBhIG9mIGUpYS5zY2FsZUlEPT09cz9JbyhhLHQsWyJ2YWx1ZSIsImVuZFZhbHVlIl0scik6RXQoaSxhLG8pPT09cyYmSW8oYSx0LFtuKyJNaW4iLG4rIk1heCIsbisiVmFsdWUiXSxyKTtyZXR1cm4gcn1mdW5jdGlvbiBJbyhpLHQsZSxuKXtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBvPWlbc107aWYoSyhvKSl7Y29uc3Qgcj10LnBhcnNlKG8pO24ubWluPU1hdGgubWluKG4ubWluLHIpLG4ubWF4PU1hdGgubWF4KG4ubWF4LHIpfX19Y2xhc3MgVXQgZXh0ZW5kcyBYe2luUmFuZ2UodCxlLG4scyl7Y29uc3R7eDpvLHk6cn09THQoe3g6dCx5OmV9LHRoaXMuZ2V0Q2VudGVyUG9pbnQocyksVygtdGhpcy5vcHRpb25zLnJvdGF0aW9uKSk7cmV0dXJuIGFvKHt4Om8seTpyfSx0aGlzLmdldFByb3BzKFsieCIsInkiLCJ4MiIsInkyIl0scyksbix0aGlzLm9wdGlvbnMpfWdldENlbnRlclBvaW50KHQpe3JldHVybiB6dCh0aGlzLHQpfWRyYXcodCl7dC5zYXZlKCksaWkodCx0aGlzLmdldENlbnRlclBvaW50KCksdGhpcy5vcHRpb25zLnJvdGF0aW9uKSx5byh0LHRoaXMsdGhpcy5vcHRpb25zKSx0LnJlc3RvcmUoKX1nZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5lbGVtZW50cyYmdGhpcy5lbGVtZW50c1swXX1yZXNvbHZlRWxlbWVudFByb3BlcnRpZXModCxlKXtyZXR1cm4gRG8odCxlKX19VXQuaWQ9ImJveEFubm90YXRpb24iLFV0LmRlZmF1bHRzPXthZGp1c3RTY2FsZVJhbmdlOiEwLGJhY2tncm91bmRTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlckNhcFN0eWxlOiJidXR0Iixib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJKb2luU3R5bGU6Im1pdGVyIixib3JkZXJSYWRpdXM6MCxib3JkZXJTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlcldpZHRoOjEsZGlzcGxheTohMCxpbml0OnZvaWQgMCxoaXRUb2xlcmFuY2U6MCxsYWJlbDp7YmFja2dyb3VuZENvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyV2lkdGg6MCxjYWxsb3V0OntkaXNwbGF5OiExfSxjb2xvcjoiYmxhY2siLGNvbnRlbnQ6bnVsbCxkaXNwbGF5OiExLGRyYXdUaW1lOnZvaWQgMCxmb250OntmYW1pbHk6dm9pZCAwLGxpbmVIZWlnaHQ6dm9pZCAwLHNpemU6dm9pZCAwLHN0eWxlOnZvaWQgMCx3ZWlnaHQ6ImJvbGQifSxoZWlnaHQ6dm9pZCAwLGhpdFRvbGVyYW5jZTp2b2lkIDAsb3BhY2l0eTp2b2lkIDAscGFkZGluZzo2LHBvc2l0aW9uOiJjZW50ZXIiLHJvdGF0aW9uOnZvaWQgMCx0ZXh0QWxpZ246InN0YXJ0Iix0ZXh0U3Ryb2tlQ29sb3I6dm9pZCAwLHRleHRTdHJva2VXaWR0aDowLHdpZHRoOnZvaWQgMCx4QWRqdXN0OjAseUFkanVzdDowLHo6dm9pZCAwfSxyb3RhdGlvbjowLHNoYWRvd0JsdXI6MCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLHhNYXg6dm9pZCAwLHhNaW46dm9pZCAwLHhTY2FsZUlEOnZvaWQgMCx5TWF4OnZvaWQgMCx5TWluOnZvaWQgMCx5U2NhbGVJRDp2b2lkIDAsejowfSxVdC5kZWZhdWx0Um91dGVzPXtib3JkZXJDb2xvcjoiY29sb3IiLGJhY2tncm91bmRDb2xvcjoiY29sb3IifSxVdC5kZXNjcmlwdG9ycz17bGFiZWw6e19mYWxsYmFjazohMH19O2NsYXNzIG9pIGV4dGVuZHMgWHtpblJhbmdlKHQsZSxuLHMpe3JldHVybiBsbyh7eDp0LHk6ZX0se3JlY3Q6dGhpcy5nZXRQcm9wcyhbIngiLCJ5IiwieDIiLCJ5MiJdLHMpLGNlbnRlcjp0aGlzLmdldENlbnRlclBvaW50KHMpfSxuLHtyb3RhdGlvbjp0aGlzLnJvdGF0aW9uLGJvcmRlcldpZHRoOjAsaGl0VG9sZXJhbmNlOnRoaXMub3B0aW9ucy5oaXRUb2xlcmFuY2V9KX1nZXRDZW50ZXJQb2ludCh0KXtyZXR1cm4genQodGhpcyx0KX1kcmF3KHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zOyFlLmRpc3BsYXl8fCFlLmNvbnRlbnR8fChHaCh0LHRoaXMpLHQuc2F2ZSgpLGlpKHQsdGhpcy5nZXRDZW50ZXJQb2ludCgpLHRoaXMucm90YXRpb24pLHdvKHQsdGhpcyxlLHRoaXMuX2ZpdFJhdGlvKSx0LnJlc3RvcmUoKSl9cmVzb2x2ZUVsZW1lbnRQcm9wZXJ0aWVzKHQsZSl7Y29uc3Qgbj0kaCh0LGUpO2lmKCFuKXJldHVybnt9O2NvbnN0e2NvbnRyb2xsZXJNZXRhOnMscG9pbnQ6byxyYWRpdXM6cn09VWgodCxlLG4pO2xldCBhPW5pKHQuY3R4LGUpO2NvbnN0IGw9S2goYSxyKTtnbyhlLGwpJiYoYT17d2lkdGg6YS53aWR0aCpsLGhlaWdodDphLmhlaWdodCpsfSk7Y29uc3R7cG9zaXRpb246Yyx4QWRqdXN0OmgseUFkanVzdDpkfT1lLHU9Zm8obyxhLHtib3JkZXJXaWR0aDowLHBvc2l0aW9uOmMseEFkanVzdDpoLHlBZGp1c3Q6ZH0pO3JldHVybntpbml0UHJvcGVydGllczpZdCh0LHUsZSksLi4udSwuLi5zLHJvdGF0aW9uOmUucm90YXRpb24sX2ZpdFJhdGlvOmx9fX1vaS5pZD0iZG91Z2hudXRMYWJlbEFubm90YXRpb24iLG9pLmRlZmF1bHRzPXthdXRvRml0OiEwLGF1dG9IaWRlOiEwLGJhY2tncm91bmRDb2xvcjoidHJhbnNwYXJlbnQiLGJhY2tncm91bmRTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlckNvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyRGFzaDpbXSxib3JkZXJEYXNoT2Zmc2V0OjAsYm9yZGVySm9pblN0eWxlOiJtaXRlciIsYm9yZGVyU2hhZG93Q29sb3I6InRyYW5zcGFyZW50Iixib3JkZXJXaWR0aDowLGNvbG9yOiJibGFjayIsY29udGVudDpudWxsLGRpc3BsYXk6ITAsZm9udDp7ZmFtaWx5OnZvaWQgMCxsaW5lSGVpZ2h0OnZvaWQgMCxzaXplOnZvaWQgMCxzdHlsZTp2b2lkIDAsd2VpZ2h0OnZvaWQgMH0saGVpZ2h0OnZvaWQgMCxoaXRUb2xlcmFuY2U6MCxpbml0OnZvaWQgMCxvcGFjaXR5OnZvaWQgMCxwb3NpdGlvbjoiY2VudGVyIixyb3RhdGlvbjowLHNoYWRvd0JsdXI6MCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLHNwYWNpbmc6MSx0ZXh0QWxpZ246ImNlbnRlciIsdGV4dFN0cm9rZUNvbG9yOnZvaWQgMCx0ZXh0U3Ryb2tlV2lkdGg6MCx3aWR0aDp2b2lkIDAseEFkanVzdDowLHlBZGp1c3Q6MH0sb2kuZGVmYXVsdFJvdXRlcz17fTtmdW5jdGlvbiAkaChpLHQpe3JldHVybiBpLmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKS5yZWR1Y2UoZnVuY3Rpb24oZSxuKXtjb25zdCBzPW4uY29udHJvbGxlcjtyZXR1cm4gcyBpbnN0YW5jZW9mIHJlJiZYaChpLHQsbi5kYXRhKSYmKCFlfHxzLmlubmVyUmFkaXVzPGUuY29udHJvbGxlci5pbm5lclJhZGl1cykmJnMub3B0aW9ucy5jaXJjdW1mZXJlbmNlPj05MD9uOmV9LHZvaWQgMCl9ZnVuY3Rpb24gWGgoaSx0LGUpe2lmKCF0LmF1dG9IaWRlKXJldHVybiEwO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKCFlW25dLmhpZGRlbiYmaS5nZXREYXRhVmlzaWJpbGl0eShuKSlyZXR1cm4hMH1mdW5jdGlvbiBVaCh7Y2hhcnRBcmVhOml9LHQsZSl7Y29uc3R7bGVmdDpuLHRvcDpzLHJpZ2h0Om8sYm90dG9tOnJ9PWkse2lubmVyUmFkaXVzOmEsb2Zmc2V0WDpsLG9mZnNldFk6Y309ZS5jb250cm9sbGVyLGg9KG4rbykvMitsLGQ9KHMrcikvMitjLHU9e2xlZnQ6TWF0aC5tYXgoaC1hLG4pLHJpZ2h0Ok1hdGgubWluKGgrYSxvKSx0b3A6TWF0aC5tYXgoZC1hLHMpLGJvdHRvbTpNYXRoLm1pbihkK2Escil9LGY9e3g6KHUubGVmdCt1LnJpZ2h0KS8yLHk6KHUudG9wK3UuYm90dG9tKS8yfSxnPXQuc3BhY2luZyt0LmJvcmRlcldpZHRoLzIscD1hLWcsbT1mLnk+ZCxiPW0/cytnOnItZyx4PXFoKGIsaCxkLHApO3JldHVybntjb250cm9sbGVyTWV0YTp7X2NlbnRlclg6aCxfY2VudGVyWTpkLF9yYWRpdXM6cCxfY291bnRlcmNsb2Nrd2lzZTptLC4uLnh9LHBvaW50OmYscmFkaXVzOk1hdGgubWluKGEsTWF0aC5taW4odS5yaWdodC11LmxlZnQsdS5ib3R0b20tdS50b3ApLzIpfX1mdW5jdGlvbiBLaCh7d2lkdGg6aSxoZWlnaHQ6dH0sZSl7Y29uc3Qgbj1NYXRoLnNxcnQoTWF0aC5wb3coaSwyKStNYXRoLnBvdyh0LDIpKTtyZXR1cm4gZSoyL259ZnVuY3Rpb24gcWgoaSx0LGUsbil7Y29uc3Qgcz1NYXRoLnBvdyhlLWksMiksbz1NYXRoLnBvdyhuLDIpLHI9dCotMixhPU1hdGgucG93KHQsMikrcy1vLGw9TWF0aC5wb3cociwyKS00KmE7aWYobDw9MClyZXR1cm57X3N0YXJ0QW5nbGU6MCxfZW5kQW5nbGU6Qn07Y29uc3QgYz0oLXItTWF0aC5zcXJ0KGwpKS8yLGg9KC1yK01hdGguc3FydChsKSkvMjtyZXR1cm57X3N0YXJ0QW5nbGU6X2koe3g6dCx5OmV9LHt4OmMseTppfSkuYW5nbGUsX2VuZEFuZ2xlOl9pKHt4OnQseTplfSx7eDpoLHk6aX0pLmFuZ2xlfX1mdW5jdGlvbiBHaChpLHQpe2NvbnN0e19jZW50ZXJYOmUsX2NlbnRlclk6bixfcmFkaXVzOnMsX3N0YXJ0QW5nbGU6byxfZW5kQW5nbGU6cixfY291bnRlcmNsb2Nrd2lzZTphLG9wdGlvbnM6bH09dDtpLnNhdmUoKTtjb25zdCBjPXB0KGksbCk7aS5maWxsU3R5bGU9bC5iYWNrZ3JvdW5kQ29sb3IsaS5iZWdpblBhdGgoKSxpLmFyYyhlLG4scyxvLHIsYSksaS5jbG9zZVBhdGgoKSxpLmZpbGwoKSxjJiZpLnN0cm9rZSgpLGkucmVzdG9yZSgpfWNsYXNzIG1lIGV4dGVuZHMgWHtpblJhbmdlKHQsZSxuLHMpe3JldHVybiBsbyh7eDp0LHk6ZX0se3JlY3Q6dGhpcy5nZXRQcm9wcyhbIngiLCJ5IiwieDIiLCJ5MiJdLHMpLGNlbnRlcjp0aGlzLmdldENlbnRlclBvaW50KHMpfSxuLHtyb3RhdGlvbjp0aGlzLnJvdGF0aW9uLGJvcmRlcldpZHRoOnRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCxoaXRUb2xlcmFuY2U6dGhpcy5vcHRpb25zLmhpdFRvbGVyYW5jZX0pfWdldENlbnRlclBvaW50KHQpe3JldHVybiB6dCh0aGlzLHQpfWRyYXcodCl7Y29uc3QgZT10aGlzLm9wdGlvbnMsbj0hSyh0aGlzLl92aXNpYmxlKXx8dGhpcy5fdmlzaWJsZTshZS5kaXNwbGF5fHwhZS5jb250ZW50fHwhbnx8KHQuc2F2ZSgpLGlpKHQsdGhpcy5nZXRDZW50ZXJQb2ludCgpLHRoaXMucm90YXRpb24pLF9oKHQsdGhpcykseW8odCx0aGlzLGUpLHdvKHQsSmgodGhpcyksZSksdC5yZXN0b3JlKCkpfXJlc29sdmVFbGVtZW50UHJvcGVydGllcyh0LGUpe2xldCBuO2lmKG1vKGUpKW49U28odCxlKTtlbHNle2NvbnN0e2NlbnRlclg6YSxjZW50ZXJZOmx9PVFpKHQsZSk7bj17eDphLHk6bH19Y29uc3Qgcz1RKGUucGFkZGluZyksbz1uaSh0LmN0eCxlKSxyPWZvKG4sbyxlLHMpO3JldHVybntpbml0UHJvcGVydGllczpZdCh0LHIsZSkscG9pbnRYOm4ueCxwb2ludFk6bi55LC4uLnIscm90YXRpb246ZS5yb3RhdGlvbn19fW1lLmlkPSJsYWJlbEFubm90YXRpb24iLG1lLmRlZmF1bHRzPXthZGp1c3RTY2FsZVJhbmdlOiEwLGJhY2tncm91bmRDb2xvcjoidHJhbnNwYXJlbnQiLGJhY2tncm91bmRTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlckNhcFN0eWxlOiJidXR0Iixib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJKb2luU3R5bGU6Im1pdGVyIixib3JkZXJSYWRpdXM6MCxib3JkZXJTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlcldpZHRoOjAsY2FsbG91dDp7Ym9yZGVyQ2FwU3R5bGU6ImJ1dHQiLGJvcmRlckNvbG9yOnZvaWQgMCxib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJKb2luU3R5bGU6Im1pdGVyIixib3JkZXJXaWR0aDoxLGRpc3BsYXk6ITEsbWFyZ2luOjUscG9zaXRpb246ImF1dG8iLHNpZGU6NSxzdGFydDoiNTAlIn0sY29sb3I6ImJsYWNrIixjb250ZW50Om51bGwsZGlzcGxheTohMCxmb250OntmYW1pbHk6dm9pZCAwLGxpbmVIZWlnaHQ6dm9pZCAwLHNpemU6dm9pZCAwLHN0eWxlOnZvaWQgMCx3ZWlnaHQ6dm9pZCAwfSxoZWlnaHQ6dm9pZCAwLGhpdFRvbGVyYW5jZTowLGluaXQ6dm9pZCAwLG9wYWNpdHk6dm9pZCAwLHBhZGRpbmc6Nixwb3NpdGlvbjoiY2VudGVyIixyb3RhdGlvbjowLHNoYWRvd0JsdXI6MCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLHRleHRBbGlnbjoiY2VudGVyIix0ZXh0U3Ryb2tlQ29sb3I6dm9pZCAwLHRleHRTdHJva2VXaWR0aDowLHdpZHRoOnZvaWQgMCx4QWRqdXN0OjAseE1heDp2b2lkIDAseE1pbjp2b2lkIDAseFNjYWxlSUQ6dm9pZCAwLHhWYWx1ZTp2b2lkIDAseUFkanVzdDowLHlNYXg6dm9pZCAwLHlNaW46dm9pZCAwLHlTY2FsZUlEOnZvaWQgMCx5VmFsdWU6dm9pZCAwLHo6MH0sbWUuZGVmYXVsdFJvdXRlcz17Ym9yZGVyQ29sb3I6ImNvbG9yIn07ZnVuY3Rpb24gSmgoe3g6aSx5OnQsd2lkdGg6ZSxoZWlnaHQ6bixvcHRpb25zOnN9KXtjb25zdCBvPXMuYm9yZGVyV2lkdGgvMixyPVEocy5wYWRkaW5nKTtyZXR1cm57eDppK3IubGVmdCtvLHk6dCtyLnRvcCtvLHdpZHRoOmUtci5sZWZ0LXIucmlnaHQtcy5ib3JkZXJXaWR0aCxoZWlnaHQ6bi1yLnRvcC1yLmJvdHRvbS1zLmJvcmRlcldpZHRofX1jb25zdCBubj0oaSx0LGUpPT4oe3g6aS54K2UqKHQueC1pLngpLHk6aS55K2UqKHQueS1pLnkpfSksc249KGksdCxlKT0+bm4odCxlLE1hdGguYWJzKChpLXQueSkvKGUueS10LnkpKSkueCx6bz0oaSx0LGUpPT5ubih0LGUsTWF0aC5hYnMoKGktdC54KS8oZS54LXQueCkpKS55LGJlPWk9PmkqaSxaaD0oaSx0LHt4OmUseTpuLHgyOnMseTI6b30scik9PnI9PT0ieSI/e3N0YXJ0Ok1hdGgubWluKG4sbyksZW5kOk1hdGgubWF4KG4sbyksdmFsdWU6dH06e3N0YXJ0Ok1hdGgubWluKGUscyksZW5kOk1hdGgubWF4KGUscyksdmFsdWU6aX0sRW89KGksdCxlLG4pPT4oMS1uKSooMS1uKSppKzIqKDEtbikqbip0K24qbiplLG9uPShpLHQsZSxuKT0+KHt4OkVvKGkueCx0LngsZS54LG4pLHk6RW8oaS55LHQueSxlLnksbil9KSxGbz0oaSx0LGUsbik9PjIqKDEtbikqKHQtaSkrMipuKihlLXQpLFdvPShpLHQsZSxuKT0+LU1hdGguYXRhbjIoRm8oaS54LHQueCxlLngsbiksRm8oaS55LHQueSxlLnksbikpKy41KlQ7Y2xhc3MgeGUgZXh0ZW5kcyBYe2luUmFuZ2UodCxlLG4scyl7Y29uc3Qgbz0odGhpcy5vcHRpb25zLmJvcmRlcldpZHRoK3RoaXMub3B0aW9ucy5oaXRUb2xlcmFuY2UpLzI7aWYobiE9PSJ4IiYmbiE9PSJ5Iil7Y29uc3Qgcj17bW91c2VYOnQsbW91c2VZOmV9LHtwYXRoOmEsY3R4Omx9PXRoaXM7aWYoYSl7cHQobCx0aGlzLm9wdGlvbnMpLGwubGluZVdpZHRoKz10aGlzLm9wdGlvbnMuaGl0VG9sZXJhbmNlO2NvbnN0e2NoYXJ0Omh9PXRoaXMuJGNvbnRleHQsZD10KmguY3VycmVudERldmljZVBpeGVsUmF0aW8sdT1lKmguY3VycmVudERldmljZVBpeGVsUmF0aW8sZj1sLmlzUG9pbnRJblN0cm9rZShhLGQsdSl8fHJuKHRoaXMscixzKTtyZXR1cm4gbC5yZXN0b3JlKCksZn1jb25zdCBjPWJlKG8pO3JldHVybiBpZCh0aGlzLHIsYyxzKXx8cm4odGhpcyxyLHMpfXJldHVybiBRaCh0aGlzLHttb3VzZVg6dCxtb3VzZVk6ZX0sbix7aGl0U2l6ZTpvLHVzZUZpbmFsUG9zaXRpb246c30pfWdldENlbnRlclBvaW50KHQpe3JldHVybiB6dCh0aGlzLHQpfWRyYXcodCl7Y29uc3R7eDplLHk6bix4MjpzLHkyOm8sY3A6cixvcHRpb25zOmF9PXRoaXM7aWYodC5zYXZlKCksIXB0KHQsYSkpcmV0dXJuIHQucmVzdG9yZSgpOyR0KHQsYSk7Y29uc3QgbD1NYXRoLnNxcnQoTWF0aC5wb3cocy1lLDIpK01hdGgucG93KG8tbiwyKSk7aWYoYS5jdXJ2ZSYmcilyZXR1cm4gaGQodCx0aGlzLHIsbCksdC5yZXN0b3JlKCk7Y29uc3R7c3RhcnRPcHRzOmMsZW5kT3B0czpoLHN0YXJ0QWRqdXN0OmQsZW5kQWRqdXN0OnV9PVZvKHRoaXMpLGY9TWF0aC5hdGFuMihvLW4scy1lKTt0LnRyYW5zbGF0ZShlLG4pLHQucm90YXRlKGYpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oMCtkLDApLHQubGluZVRvKGwtdSwwKSx0LnNoYWRvd0NvbG9yPWEuYm9yZGVyU2hhZG93Q29sb3IsdC5zdHJva2UoKSxhbih0LDAsZCxjKSxhbih0LGwsLXUsaCksdC5yZXN0b3JlKCl9Z2V0IGxhYmVsKCl7cmV0dXJuIHRoaXMuZWxlbWVudHMmJnRoaXMuZWxlbWVudHNbMF19cmVzb2x2ZUVsZW1lbnRQcm9wZXJ0aWVzKHQsZSl7Y29uc3Qgbj1EaCh0LGUpLHt4OnMseTpvLHgyOnIseTI6YX09bixsPXRkKG4sdC5jaGFydEFyZWEpLGM9bD9lZCh7eDpzLHk6b30se3g6cix5OmF9LHQuY2hhcnRBcmVhKTp7eDpzLHk6byx4MjpyLHkyOmEsd2lkdGg6TWF0aC5hYnMoci1zKSxoZWlnaHQ6TWF0aC5hYnMoYS1vKX07aWYoYy5jZW50ZXJYPShyK3MpLzIsYy5jZW50ZXJZPShhK28pLzIsYy5pbml0UHJvcGVydGllcz1ZdCh0LGMsZSksZS5jdXJ2ZSl7Y29uc3QgZD17eDpjLngseTpjLnl9LHU9e3g6Yy54Mix5OmMueTJ9O2MuY3A9Y2QoYyxlLHRlKGQsdSkpfWNvbnN0IGg9bmQodCxjLGUubGFiZWwpO3JldHVybiBoLl92aXNpYmxlPWwsYy5lbGVtZW50cz1be3R5cGU6ImxhYmVsIixvcHRpb25TY29wZToibGFiZWwiLHByb3BlcnRpZXM6aCxpbml0UHJvcGVydGllczpjLmluaXRQcm9wZXJ0aWVzfV0sY319eGUuaWQ9ImxpbmVBbm5vdGF0aW9uIjtjb25zdCBCbz17YmFja2dyb3VuZENvbG9yOnZvaWQgMCxiYWNrZ3JvdW5kU2hhZG93Q29sb3I6dm9pZCAwLGJvcmRlckNvbG9yOnZvaWQgMCxib3JkZXJEYXNoOnZvaWQgMCxib3JkZXJEYXNoT2Zmc2V0OnZvaWQgMCxib3JkZXJTaGFkb3dDb2xvcjp2b2lkIDAsYm9yZGVyV2lkdGg6dm9pZCAwLGRpc3BsYXk6dm9pZCAwLGZpbGw6dm9pZCAwLGxlbmd0aDp2b2lkIDAsc2hhZG93Qmx1cjp2b2lkIDAsc2hhZG93T2Zmc2V0WDp2b2lkIDAsc2hhZG93T2Zmc2V0WTp2b2lkIDAsd2lkdGg6dm9pZCAwfTt4ZS5kZWZhdWx0cz17YWRqdXN0U2NhbGVSYW5nZTohMCxhcnJvd0hlYWRzOntkaXNwbGF5OiExLGVuZDpPYmplY3QuYXNzaWduKHt9LEJvKSxmaWxsOiExLGxlbmd0aDoxMixzdGFydDpPYmplY3QuYXNzaWduKHt9LEJvKSx3aWR0aDo2fSxib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlcldpZHRoOjIsY3VydmU6ITEsY29udHJvbFBvaW50Ont5OiItNTAlIn0sZGlzcGxheTohMCxlbmRWYWx1ZTp2b2lkIDAsaW5pdDp2b2lkIDAsaGl0VG9sZXJhbmNlOjAsbGFiZWw6e2JhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwLjgpIixiYWNrZ3JvdW5kU2hhZG93Q29sb3I6InRyYW5zcGFyZW50Iixib3JkZXJDYXBTdHlsZToiYnV0dCIsYm9yZGVyQ29sb3I6ImJsYWNrIixib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJKb2luU3R5bGU6Im1pdGVyIixib3JkZXJSYWRpdXM6Nixib3JkZXJTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlcldpZHRoOjAsY2FsbG91dDpPYmplY3QuYXNzaWduKHt9LG1lLmRlZmF1bHRzLmNhbGxvdXQpLGNvbG9yOiIjZmZmIixjb250ZW50Om51bGwsZGlzcGxheTohMSxkcmF3VGltZTp2b2lkIDAsZm9udDp7ZmFtaWx5OnZvaWQgMCxsaW5lSGVpZ2h0OnZvaWQgMCxzaXplOnZvaWQgMCxzdHlsZTp2b2lkIDAsd2VpZ2h0OiJib2xkIn0saGVpZ2h0OnZvaWQgMCxoaXRUb2xlcmFuY2U6dm9pZCAwLG9wYWNpdHk6dm9pZCAwLHBhZGRpbmc6Nixwb3NpdGlvbjoiY2VudGVyIixyb3RhdGlvbjowLHNoYWRvd0JsdXI6MCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLHRleHRBbGlnbjoiY2VudGVyIix0ZXh0U3Ryb2tlQ29sb3I6dm9pZCAwLHRleHRTdHJva2VXaWR0aDowLHdpZHRoOnZvaWQgMCx4QWRqdXN0OjAseUFkanVzdDowLHo6dm9pZCAwfSxzY2FsZUlEOnZvaWQgMCxzaGFkb3dCbHVyOjAsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCx2YWx1ZTp2b2lkIDAseE1heDp2b2lkIDAseE1pbjp2b2lkIDAseFNjYWxlSUQ6dm9pZCAwLHlNYXg6dm9pZCAwLHlNaW46dm9pZCAwLHlTY2FsZUlEOnZvaWQgMCx6OjB9LHhlLmRlc2NyaXB0b3JzPXthcnJvd0hlYWRzOntzdGFydDp7X2ZhbGxiYWNrOiEwfSxlbmQ6e19mYWxsYmFjazohMH0sX2ZhbGxiYWNrOiEwfX0seGUuZGVmYXVsdFJvdXRlcz17Ym9yZGVyQ29sb3I6ImNvbG9yIn07ZnVuY3Rpb24gUWgoaSx7bW91c2VYOnQsbW91c2VZOmV9LG4se2hpdFNpemU6cyx1c2VGaW5hbFBvc2l0aW9uOm99KXtjb25zdCByPVpoKHQsZSxpLmdldFByb3BzKFsieCIsInkiLCJ4MiIsInkyIl0sbyksbik7cmV0dXJuIHJvKHIscyl8fHJuKGkse21vdXNlWDp0LG1vdXNlWTplfSxvLG4pfWZ1bmN0aW9uIHRkKHt4OmkseTp0LHgyOmUseTI6bn0se3RvcDpzLHJpZ2h0Om8sYm90dG9tOnIsbGVmdDphfSl7cmV0dXJuIShpPGEmJmU8YXx8aT5vJiZlPm98fHQ8cyYmbjxzfHx0PnImJm4+cil9ZnVuY3Rpb24gSG8oe3g6aSx5OnR9LGUse3RvcDpuLHJpZ2h0OnMsYm90dG9tOm8sbGVmdDpyfSl7cmV0dXJuIGk8ciYmKHQ9em8ocix7eDppLHk6dH0sZSksaT1yKSxpPnMmJih0PXpvKHMse3g6aSx5OnR9LGUpLGk9cyksdDxuJiYoaT1zbihuLHt4OmkseTp0fSxlKSx0PW4pLHQ+byYmKGk9c24obyx7eDppLHk6dH0sZSksdD1vKSx7eDppLHk6dH19ZnVuY3Rpb24gZWQoaSx0LGUpe2NvbnN0e3g6bix5OnN9PUhvKGksdCxlKSx7eDpvLHk6cn09SG8odCxpLGUpO3JldHVybnt4Om4seTpzLHgyOm8seTI6cix3aWR0aDpNYXRoLmFicyhvLW4pLGhlaWdodDpNYXRoLmFicyhyLXMpfX1mdW5jdGlvbiBpZChpLHttb3VzZVg6dCxtb3VzZVk6ZX0sbj1JdCxzKXtjb25zdHt4Om8seTpyLHgyOmEseTI6bH09aS5nZXRQcm9wcyhbIngiLCJ5IiwieDIiLCJ5MiJdLHMpLGM9YS1vLGg9bC1yLGQ9YmUoYykrYmUoaCksdT1kPT09MD8tMTooKHQtbykqYysoZS1yKSpoKS9kO2xldCBmLGc7cmV0dXJuIHU8MD8oZj1vLGc9cik6dT4xPyhmPWEsZz1sKTooZj1vK3UqYyxnPXIrdSpoKSxiZSh0LWYpK2JlKGUtZyk8PW59ZnVuY3Rpb24gcm4oaSx7bW91c2VYOnQsbW91c2VZOmV9LG4scyl7Y29uc3Qgbz1pLmxhYmVsO3JldHVybiBvLm9wdGlvbnMuZGlzcGxheSYmby5pblJhbmdlKHQsZSxzLG4pfWZ1bmN0aW9uIG5kKGksdCxlKXtjb25zdCBuPWUuYm9yZGVyV2lkdGgscz1RKGUucGFkZGluZyksbz1uaShpLmN0eCxlKSxyPW8ud2lkdGgrcy53aWR0aCtuLGE9by5oZWlnaHQrcy5oZWlnaHQrbjtyZXR1cm4gb2QodCxlLHt3aWR0aDpyLGhlaWdodDphLHBhZGRpbmc6c30saS5jaGFydEFyZWEpfWZ1bmN0aW9uIHNkKGkpe2NvbnN0e3g6dCx5OmUseDI6bix5MjpzfT1pLG89TWF0aC5hdGFuMihzLWUsbi10KTtyZXR1cm4gbz5ULzI/by1UOm88VC8tMj9vK1Q6b31mdW5jdGlvbiBvZChpLHQsZSxuKXtjb25zdHt3aWR0aDpzLGhlaWdodDpvLHBhZGRpbmc6cn09ZSx7eEFkanVzdDphLHlBZGp1c3Q6bH09dCxjPXt4OmkueCx5OmkueX0saD17eDppLngyLHk6aS55Mn0sZD10LnJvdGF0aW9uPT09ImF1dG8iP3NkKGkpOlcodC5yb3RhdGlvbiksdT1yZChzLG8sZCksZj1hZChpLHQse2xhYmVsU2l6ZTp1LHBhZGRpbmc6cn0sbiksZz1pLmNwP29uKGMsaS5jcCxoLGYpOm5uKGMsaCxmKSxwPXtzaXplOnUudyxtaW46bi5sZWZ0LG1heDpuLnJpZ2h0LHBhZGRpbmc6ci5sZWZ0fSxtPXtzaXplOnUuaCxtaW46bi50b3AsbWF4Om4uYm90dG9tLHBhZGRpbmc6ci50b3B9LGI9Tm8oZy54LHApK2EseD1ObyhnLnksbSkrbDtyZXR1cm57eDpiLXMvMix5Ongtby8yLHgyOmIrcy8yLHkyOngrby8yLGNlbnRlclg6YixjZW50ZXJZOngscG9pbnRYOmcueCxwb2ludFk6Zy55LHdpZHRoOnMsaGVpZ2h0Om8scm90YXRpb246U24oZCl9fWZ1bmN0aW9uIHJkKGksdCxlKXtjb25zdCBuPU1hdGguY29zKGUpLHM9TWF0aC5zaW4oZSk7cmV0dXJue3c6TWF0aC5hYnMoaSpuKStNYXRoLmFicyh0KnMpLGg6TWF0aC5hYnMoaSpzKStNYXRoLmFicyh0Km4pfX1mdW5jdGlvbiBhZChpLHQsZSxuKXtsZXQgcztjb25zdCBvPWxkKGksbik7cmV0dXJuIHQucG9zaXRpb249PT0ic3RhcnQiP3M9am8oe3c6aS54Mi1pLngsaDppLnkyLWkueX0sZSx0LG8pOnQucG9zaXRpb249PT0iZW5kIj9zPTEtam8oe3c6aS54LWkueDIsaDppLnktaS55Mn0sZSx0LG8pOnM9R2koMSx0LnBvc2l0aW9uKSxzfWZ1bmN0aW9uIGpvKGksdCxlLG4pe2NvbnN0e2xhYmVsU2l6ZTpzLHBhZGRpbmc6b309dCxyPWkudypuLmR4LGE9aS5oKm4uZHksbD1yPjAmJihzLncvMitvLmxlZnQtbi54KS9yLGM9YT4wJiYocy5oLzIrby50b3Atbi55KS9hO3JldHVybiB0aShNYXRoLm1heChsLGMpLDAsLjI1KX1mdW5jdGlvbiBsZChpLHQpe2NvbnN0e3g6ZSx4MjpuLHk6cyx5MjpvfT1pLHI9TWF0aC5taW4ocyxvKS10LnRvcCxhPU1hdGgubWluKGUsbiktdC5sZWZ0LGw9dC5ib3R0b20tTWF0aC5tYXgocyxvKSxjPXQucmlnaHQtTWF0aC5tYXgoZSxuKTtyZXR1cm57eDpNYXRoLm1pbihhLGMpLHk6TWF0aC5taW4ocixsKSxkeDphPD1jPzE6LTEsZHk6cjw9bD8xOi0xfX1mdW5jdGlvbiBObyhpLHQpe2NvbnN0e3NpemU6ZSxtaW46bixtYXg6cyxwYWRkaW5nOm99PXQscj1lLzI7cmV0dXJuIGU+cy1uPyhzK24pLzI6KG4+PWktby1yJiYoaT1uK28rciksczw9aStvK3ImJihpPXMtby1yKSxpKX1mdW5jdGlvbiBWbyhpKXtjb25zdCB0PWkub3B0aW9ucyxlPXQuYXJyb3dIZWFkcyYmdC5hcnJvd0hlYWRzLnN0YXJ0LG49dC5hcnJvd0hlYWRzJiZ0LmFycm93SGVhZHMuZW5kO3JldHVybntzdGFydE9wdHM6ZSxlbmRPcHRzOm4sc3RhcnRBZGp1c3Q6WW8oaSxlKSxlbmRBZGp1c3Q6WW8oaSxuKX19ZnVuY3Rpb24gWW8oaSx0KXtpZighdHx8IXQuZGlzcGxheSlyZXR1cm4gMDtjb25zdHtsZW5ndGg6ZSx3aWR0aDpufT10LHM9aS5vcHRpb25zLmJvcmRlcldpZHRoLzIsbz17eDplLHk6bitzfTtyZXR1cm4gTWF0aC5hYnMoc24oMCxvLHt4OjAseTpzfSkpfWZ1bmN0aW9uIGFuKGksdCxlLG4pe2lmKCFufHwhbi5kaXNwbGF5KXJldHVybjtjb25zdHtsZW5ndGg6cyx3aWR0aDpvLGZpbGw6cixiYWNrZ3JvdW5kQ29sb3I6YSxib3JkZXJDb2xvcjpsfT1uLGM9TWF0aC5hYnModC1zKStlO2kuYmVnaW5QYXRoKCksJHQoaSxuKSxwdChpLG4pLGkubW92ZVRvKGMsLW8pLGkubGluZVRvKHQrZSwwKSxpLmxpbmVUbyhjLG8pLHI9PT0hMD8oaS5maWxsU3R5bGU9YXx8bCxpLmNsb3NlUGF0aCgpLGkuZmlsbCgpLGkuc2hhZG93Q29sb3I9InRyYW5zcGFyZW50Iik6aS5zaGFkb3dDb2xvcj1uLmJvcmRlclNoYWRvd0NvbG9yLGkuc3Ryb2tlKCl9ZnVuY3Rpb24gY2QoaSx0LGUpe2NvbnN0e3g6bix5OnMseDI6byx5MjpyLGNlbnRlclg6YSxjZW50ZXJZOmx9PWksYz1NYXRoLmF0YW4yKHItcyxvLW4pLGg9SmkodC5jb250cm9sUG9pbnQsMCksZD17eDphK190KGUsaC54LCExKSx5OmwrX3QoZSxoLnksITEpfTtyZXR1cm4gTHQoZCx7eDphLHk6bH0sYyl9ZnVuY3Rpb24gJG8oaSx7eDp0LHk6ZX0se2FuZ2xlOm4sYWRqdXN0OnN9LG8peyFvfHwhby5kaXNwbGF5fHwoaS5zYXZlKCksaS50cmFuc2xhdGUodCxlKSxpLnJvdGF0ZShuKSxhbihpLDAsLXMsbyksaS5yZXN0b3JlKCkpfWZ1bmN0aW9uIGhkKGksdCxlLG4pe2NvbnN0e3g6cyx5Om8seDI6cix5MjphLG9wdGlvbnM6bH09dCx7c3RhcnRPcHRzOmMsZW5kT3B0czpoLHN0YXJ0QWRqdXN0OmQsZW5kQWRqdXN0OnV9PVZvKHQpLGY9e3g6cyx5Om99LGc9e3g6cix5OmF9LHA9V28oZixlLGcsMCksbT1XbyhmLGUsZywxKS1ULGI9b24oZixlLGcsZC9uKSx4PW9uKGYsZSxnLDEtdS9uKSx5PW5ldyBQYXRoMkQ7aS5iZWdpblBhdGgoKSx5Lm1vdmVUbyhiLngsYi55KSx5LnF1YWRyYXRpY0N1cnZlVG8oZS54LGUueSx4LngseC55KSxpLnNoYWRvd0NvbG9yPWwuYm9yZGVyU2hhZG93Q29sb3IsaS5zdHJva2UoeSksdC5wYXRoPXksdC5jdHg9aSwkbyhpLGIse2FuZ2xlOnAsYWRqdXN0OmR9LGMpLCRvKGkseCx7YW5nbGU6bSxhZGp1c3Q6dX0saCl9Y2xhc3MgX2UgZXh0ZW5kcyBYe2luUmFuZ2UodCxlLG4scyl7Y29uc3Qgbz10aGlzLm9wdGlvbnMucm90YXRpb24scj0odGhpcy5vcHRpb25zLmJvcmRlcldpZHRoK3RoaXMub3B0aW9ucy5oaXRUb2xlcmFuY2UpLzI7aWYobiE9PSJ4IiYmbiE9PSJ5IilyZXR1cm4gZGQoe3g6dCx5OmV9LHRoaXMuZ2V0UHJvcHMoWyJ3aWR0aCIsImhlaWdodCIsImNlbnRlclgiLCJjZW50ZXJZIl0scyksbyxyKTtjb25zdHt4OmEseTpsLHgyOmMseTI6aH09dGhpcy5nZXRQcm9wcyhbIngiLCJ5IiwieDIiLCJ5MiJdLHMpLGQ9bj09PSJ5Ij97c3RhcnQ6bCxlbmQ6aH06e3N0YXJ0OmEsZW5kOmN9LHU9THQoe3g6dCx5OmV9LHRoaXMuZ2V0Q2VudGVyUG9pbnQocyksVygtbykpO3JldHVybiB1W25dPj1kLnN0YXJ0LXItSXQmJnVbbl08PWQuZW5kK3IrSXR9Z2V0Q2VudGVyUG9pbnQodCl7cmV0dXJuIHp0KHRoaXMsdCl9ZHJhdyh0KXtjb25zdHt3aWR0aDplLGhlaWdodDpuLGNlbnRlclg6cyxjZW50ZXJZOm8sb3B0aW9uczpyfT10aGlzO3Quc2F2ZSgpLGlpKHQsdGhpcy5nZXRDZW50ZXJQb2ludCgpLHIucm90YXRpb24pLCR0KHQsdGhpcy5vcHRpb25zKSx0LmJlZ2luUGF0aCgpLHQuZmlsbFN0eWxlPXIuYmFja2dyb3VuZENvbG9yO2NvbnN0IGE9cHQodCxyKTt0LmVsbGlwc2UocyxvLG4vMixlLzIsVC8yLDAsMipUKSx0LmZpbGwoKSxhJiYodC5zaGFkb3dDb2xvcj1yLmJvcmRlclNoYWRvd0NvbG9yLHQuc3Ryb2tlKCkpLHQucmVzdG9yZSgpfWdldCBsYWJlbCgpe3JldHVybiB0aGlzLmVsZW1lbnRzJiZ0aGlzLmVsZW1lbnRzWzBdfXJlc29sdmVFbGVtZW50UHJvcGVydGllcyh0LGUpe3JldHVybiBEbyh0LGUpfX1fZS5pZD0iZWxsaXBzZUFubm90YXRpb24iLF9lLmRlZmF1bHRzPXthZGp1c3RTY2FsZVJhbmdlOiEwLGJhY2tncm91bmRTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlckRhc2g6W10sYm9yZGVyRGFzaE9mZnNldDowLGJvcmRlclNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyV2lkdGg6MSxkaXNwbGF5OiEwLGhpdFRvbGVyYW5jZTowLGluaXQ6dm9pZCAwLGxhYmVsOk9iamVjdC5hc3NpZ24oe30sVXQuZGVmYXVsdHMubGFiZWwpLHJvdGF0aW9uOjAsc2hhZG93Qmx1cjowLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAseE1heDp2b2lkIDAseE1pbjp2b2lkIDAseFNjYWxlSUQ6dm9pZCAwLHlNYXg6dm9pZCAwLHlNaW46dm9pZCAwLHlTY2FsZUlEOnZvaWQgMCx6OjB9LF9lLmRlZmF1bHRSb3V0ZXM9e2JvcmRlckNvbG9yOiJjb2xvciIsYmFja2dyb3VuZENvbG9yOiJjb2xvciJ9LF9lLmRlc2NyaXB0b3JzPXtsYWJlbDp7X2ZhbGxiYWNrOiEwfX07ZnVuY3Rpb24gZGQoaSx0LGUsbil7Y29uc3R7d2lkdGg6cyxoZWlnaHQ6byxjZW50ZXJYOnIsY2VudGVyWTphfT10LGw9cy8yLGM9by8yO2lmKGw8PTB8fGM8PTApcmV0dXJuITE7Y29uc3QgaD1XKGV8fDApLGQ9TWF0aC5jb3MoaCksdT1NYXRoLnNpbihoKSxmPU1hdGgucG93KGQqKGkueC1yKSt1KihpLnktYSksMiksZz1NYXRoLnBvdyh1KihpLngtciktZCooaS55LWEpLDIpO3JldHVybiBmL01hdGgucG93KGwrbiwyKStnL01hdGgucG93KGMrbiwyKTw9MS4wMDAxfWNsYXNzIHJpIGV4dGVuZHMgWHtpblJhbmdlKHQsZSxuLHMpe2NvbnN0e3g6byx5OnIseDI6YSx5MjpsLHdpZHRoOmN9PXRoaXMuZ2V0UHJvcHMoWyJ4IiwieSIsIngyIiwieTIiLCJ3aWR0aCJdLHMpLGg9KHRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCt0aGlzLm9wdGlvbnMuaGl0VG9sZXJhbmNlKS8yO3JldHVybiBuIT09IngiJiZuIT09InkiP29oKHt4OnQseTplfSx0aGlzLmdldENlbnRlclBvaW50KHMpLGMvMixoKTpybyhuPT09InkiP3tzdGFydDpyLGVuZDpsLHZhbHVlOmV9OntzdGFydDpvLGVuZDphLHZhbHVlOnR9LGgpfWdldENlbnRlclBvaW50KHQpe3JldHVybiB6dCh0aGlzLHQpfWRyYXcodCl7Y29uc3QgZT10aGlzLm9wdGlvbnMsbj1lLmJvcmRlcldpZHRoO2lmKGUucmFkaXVzPC4xKXJldHVybjt0LnNhdmUoKSx0LmZpbGxTdHlsZT1lLmJhY2tncm91bmRDb2xvciwkdCh0LGUpO2NvbnN0IHM9cHQodCxlKTtmaCh0LHRoaXMsdGhpcy5jZW50ZXJYLHRoaXMuY2VudGVyWSkscyYmIWVpKGUucG9pbnRTdHlsZSkmJih0LnNoYWRvd0NvbG9yPWUuYm9yZGVyU2hhZG93Q29sb3IsdC5zdHJva2UoKSksdC5yZXN0b3JlKCksZS5ib3JkZXJXaWR0aD1ufXJlc29sdmVFbGVtZW50UHJvcGVydGllcyh0LGUpe2NvbnN0IG49UG8odCxlKTtyZXR1cm4gbi5pbml0UHJvcGVydGllcz1ZdCh0LG4sZSksbn19cmkuaWQ9InBvaW50QW5ub3RhdGlvbiIscmkuZGVmYXVsdHM9e2FkanVzdFNjYWxlUmFuZ2U6ITAsYmFja2dyb3VuZFNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyRGFzaDpbXSxib3JkZXJEYXNoT2Zmc2V0OjAsYm9yZGVyU2hhZG93Q29sb3I6InRyYW5zcGFyZW50Iixib3JkZXJXaWR0aDoxLGRpc3BsYXk6ITAsaGl0VG9sZXJhbmNlOjAsaW5pdDp2b2lkIDAscG9pbnRTdHlsZToiY2lyY2xlIixyYWRpdXM6MTAscm90YXRpb246MCxzaGFkb3dCbHVyOjAsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCx4QWRqdXN0OjAseE1heDp2b2lkIDAseE1pbjp2b2lkIDAseFNjYWxlSUQ6dm9pZCAwLHhWYWx1ZTp2b2lkIDAseUFkanVzdDowLHlNYXg6dm9pZCAwLHlNaW46dm9pZCAwLHlTY2FsZUlEOnZvaWQgMCx5VmFsdWU6dm9pZCAwLHo6MH0scmkuZGVmYXVsdFJvdXRlcz17Ym9yZGVyQ29sb3I6ImNvbG9yIixiYWNrZ3JvdW5kQ29sb3I6ImNvbG9yIn07Y2xhc3MgYWkgZXh0ZW5kcyBYe2luUmFuZ2UodCxlLG4scyl7aWYobiE9PSJ4IiYmbiE9PSJ5IilyZXR1cm4gdGhpcy5vcHRpb25zLnJhZGl1cz49LjEmJnRoaXMuZWxlbWVudHMubGVuZ3RoPjEmJmZkKHRoaXMuZWxlbWVudHMsdCxlLHMpO2NvbnN0IG89THQoe3g6dCx5OmV9LHRoaXMuZ2V0Q2VudGVyUG9pbnQocyksVygtdGhpcy5vcHRpb25zLnJvdGF0aW9uKSkscj10aGlzLmVsZW1lbnRzLm1hcChjPT5uPT09InkiP2MuYlk6Yy5iWCksYT1NYXRoLm1pbiguLi5yKSxsPU1hdGgubWF4KC4uLnIpO3JldHVybiBvW25dPj1hJiZvW25dPD1sfWdldENlbnRlclBvaW50KHQpe3JldHVybiB6dCh0aGlzLHQpfWRyYXcodCl7Y29uc3R7ZWxlbWVudHM6ZSxvcHRpb25zOm59PXRoaXM7dC5zYXZlKCksdC5iZWdpblBhdGgoKSx0LmZpbGxTdHlsZT1uLmJhY2tncm91bmRDb2xvciwkdCh0LG4pO2NvbnN0IHM9cHQodCxuKTtsZXQgbz0hMDtmb3IoY29uc3QgciBvZiBlKW8/KHQubW92ZVRvKHIueCxyLnkpLG89ITEpOnQubGluZVRvKHIueCxyLnkpO3QuY2xvc2VQYXRoKCksdC5maWxsKCkscyYmKHQuc2hhZG93Q29sb3I9bi5ib3JkZXJTaGFkb3dDb2xvcix0LnN0cm9rZSgpKSx0LnJlc3RvcmUoKX1yZXNvbHZlRWxlbWVudFByb3BlcnRpZXModCxlKXtjb25zdCBuPVBvKHQsZSkse3NpZGVzOnMscm90YXRpb246b309ZSxyPVtdLGE9MipUL3M7bGV0IGw9bypiaTtmb3IobGV0IGM9MDtjPHM7YysrLGwrPWEpe2NvbnN0IGg9dWQobixlLGwpO2guaW5pdFByb3BlcnRpZXM9WXQodCxuLGUpLHIucHVzaChoKX1yZXR1cm4gbi5lbGVtZW50cz1yLG59fWFpLmlkPSJwb2x5Z29uQW5ub3RhdGlvbiIsYWkuZGVmYXVsdHM9e2FkanVzdFNjYWxlUmFuZ2U6ITAsYmFja2dyb3VuZFNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyQ2FwU3R5bGU6ImJ1dHQiLGJvcmRlckRhc2g6W10sYm9yZGVyRGFzaE9mZnNldDowLGJvcmRlckpvaW5TdHlsZToibWl0ZXIiLGJvcmRlclNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyV2lkdGg6MSxkaXNwbGF5OiEwLGhpdFRvbGVyYW5jZTowLGluaXQ6dm9pZCAwLHBvaW50OntyYWRpdXM6MH0scmFkaXVzOjEwLHJvdGF0aW9uOjAsc2hhZG93Qmx1cjowLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsc2lkZXM6Myx4QWRqdXN0OjAseE1heDp2b2lkIDAseE1pbjp2b2lkIDAseFNjYWxlSUQ6dm9pZCAwLHhWYWx1ZTp2b2lkIDAseUFkanVzdDowLHlNYXg6dm9pZCAwLHlNaW46dm9pZCAwLHlTY2FsZUlEOnZvaWQgMCx5VmFsdWU6dm9pZCAwLHo6MH0sYWkuZGVmYXVsdFJvdXRlcz17Ym9yZGVyQ29sb3I6ImNvbG9yIixiYWNrZ3JvdW5kQ29sb3I6ImNvbG9yIn07ZnVuY3Rpb24gdWQoe2NlbnRlclg6aSxjZW50ZXJZOnR9LHtyYWRpdXM6ZSxib3JkZXJXaWR0aDpuLGhpdFRvbGVyYW5jZTpzfSxvKXtjb25zdCByPShuK3MpLzIsYT1NYXRoLnNpbihvKSxsPU1hdGguY29zKG8pLGM9e3g6aSthKmUseTp0LWwqZX07cmV0dXJue3R5cGU6InBvaW50IixvcHRpb25TY29wZToicG9pbnQiLHByb3BlcnRpZXM6e3g6Yy54LHk6Yy55LGNlbnRlclg6Yy54LGNlbnRlclk6Yy55LGJYOmkrYSooZStyKSxiWTp0LWwqKGUrcil9fX1mdW5jdGlvbiBmZChpLHQsZSxuKXtsZXQgcz0hMSxvPWlbaS5sZW5ndGgtMV0uZ2V0UHJvcHMoWyJiWCIsImJZIl0sbik7Zm9yKGNvbnN0IHIgb2YgaSl7Y29uc3QgYT1yLmdldFByb3BzKFsiYlgiLCJiWSJdLG4pO2EuYlk+ZSE9by5iWT5lJiZ0PChvLmJYLWEuYlgpKihlLWEuYlkpLyhvLmJZLWEuYlkpK2EuYlgmJihzPSFzKSxvPWF9cmV0dXJuIHN9Y29uc3QgeXQ9e2JveDpVdCxkb3VnaG51dExhYmVsOm9pLGVsbGlwc2U6X2UsbGFiZWw6bWUsbGluZTp4ZSxwb2ludDpyaSxwb2x5Z29uOmFpfTtPYmplY3Qua2V5cyh5dCkuZm9yRWFjaChpPT57RS5kZXNjcmliZShgZWxlbWVudHMuJHt5dFtpXS5pZH1gLHtfZmFsbGJhY2s6InBsdWdpbnMuYW5ub3RhdGlvbi5jb21tb24ifSl9KTtjb25zdCBnZD17dXBkYXRlOk9iamVjdC5hc3NpZ259LHBkPWVuLmNvbmNhdChzaSksWG89KGksdCk9Pk8odCk/aG4oaSx0KTppLGxuPWk9Pmk9PT0iY29sb3IifHxpPT09ImZvbnQiO2Z1bmN0aW9uIGNuKGk9ImxpbmUiKXtyZXR1cm4geXRbaV0/aTooY29uc29sZS53YXJuKGBVbmtub3duIGFubm90YXRpb24gdHlwZTogJyR7aX0nLCBkZWZhdWx0aW5nIHRvICdsaW5lJ2ApLCJsaW5lIil9ZnVuY3Rpb24gbWQoaSx0LGUsbil7Y29uc3Qgcz14ZChpLGUuYW5pbWF0aW9ucyxuKSxvPXQuYW5ub3RhdGlvbnMscj13ZCh0LmVsZW1lbnRzLG8pO2ZvcihsZXQgYT0wO2E8by5sZW5ndGg7YSsrKXtjb25zdCBsPW9bYV0sYz1VbyhyLGEsbC50eXBlKSxoPWwuc2V0Q29udGV4dCh5ZChpLGMscixsKSksZD1jLnJlc29sdmVFbGVtZW50UHJvcGVydGllcyhpLGgpO2Quc2tpcD1iZChkKSwiZWxlbWVudHMiaW4gZCYmKF9kKGMsZC5lbGVtZW50cyxoLHMpLGRlbGV0ZSBkLmVsZW1lbnRzKSxLKGMueCl8fE9iamVjdC5hc3NpZ24oYyxkKSxPYmplY3QuYXNzaWduKGMsZC5pbml0UHJvcGVydGllcyksZC5vcHRpb25zPUtvKGgpLHMudXBkYXRlKGMsZCl9fWZ1bmN0aW9uIGJkKGkpe3JldHVybiBpc05hTihpLngpfHxpc05hTihpLnkpfWZ1bmN0aW9uIHhkKGksdCxlKXtyZXR1cm4gZT09PSJyZXNldCJ8fGU9PT0ibm9uZSJ8fGU9PT0icmVzaXplIj9nZDpuZXcgbnMoaSx0KX1mdW5jdGlvbiBfZChpLHQsZSxuKXtjb25zdCBzPWkuZWxlbWVudHN8fChpLmVsZW1lbnRzPVtdKTtzLmxlbmd0aD10Lmxlbmd0aDtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3Qgcj10W29dLGE9ci5wcm9wZXJ0aWVzLGw9VW8ocyxvLHIudHlwZSxyLmluaXRQcm9wZXJ0aWVzKSxjPWVbci5vcHRpb25TY29wZV0ub3ZlcnJpZGUocik7YS5vcHRpb25zPUtvKGMpLG4udXBkYXRlKGwsYSl9fWZ1bmN0aW9uIFVvKGksdCxlLG4pe2NvbnN0IHM9eXRbY24oZSldO2xldCBvPWlbdF07cmV0dXJuKCFvfHwhKG8gaW5zdGFuY2VvZiBzKSkmJihvPWlbdF09bmV3IHMsT2JqZWN0LmFzc2lnbihvLG4pKSxvfWZ1bmN0aW9uIEtvKGkpe2NvbnN0IHQ9eXRbY24oaS50eXBlKV0sZT17fTtlLmlkPWkuaWQsZS50eXBlPWkudHlwZSxlLmRyYXdUaW1lPWkuZHJhd1RpbWUsT2JqZWN0LmFzc2lnbihlLGhuKGksdC5kZWZhdWx0cyksaG4oaSx0LmRlZmF1bHRSb3V0ZXMpKTtmb3IoY29uc3QgbiBvZiBwZCllW25dPWlbbl07cmV0dXJuIGV9ZnVuY3Rpb24gaG4oaSx0KXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKHQpKXtjb25zdCBzPXRbbl0sbz1pW25dO2xuKG4pJiZ6KG8pP2Vbbl09by5tYXAocj0+WG8ocixzKSk6ZVtuXT1YbyhvLHMpfXJldHVybiBlfWZ1bmN0aW9uIHlkKGksdCxlLG4pe3JldHVybiB0LiRjb250ZXh0fHwodC4kY29udGV4dD1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoaS5nZXRDb250ZXh0KCkpLHtlbGVtZW50OnQsZ2V0IGVsZW1lbnRzKCl7cmV0dXJuIGUuZmlsdGVyKHM9PnMmJnMub3B0aW9ucyl9LGlkOm4uaWQsdHlwZToiYW5ub3RhdGlvbiJ9KSl9ZnVuY3Rpb24gd2QoaSx0KXtjb25zdCBlPXQubGVuZ3RoLG49aS5sZW5ndGg7aWYobjxlKXtjb25zdCBzPWUtbjtpLnNwbGljZShuLDAsLi4ubmV3IEFycmF5KHMpKX1lbHNlIG4+ZSYmaS5zcGxpY2UoZSxuLWUpO3JldHVybiBpfXZhciBNZD0iMy4xLjAiO2NvbnN0IHd0PW5ldyBNYXAscW89aT0+aS50eXBlIT09ImRvdWdobnV0TGFiZWwiLGtkPWVuLmNvbmNhdChzaSk7dmFyIHZkPXtpZDoiYW5ub3RhdGlvbiIsdmVyc2lvbjpNZCxiZWZvcmVSZWdpc3Rlcigpe3JoKCJjaGFydC5qcyIsIjQuMCIsdHQudmVyc2lvbil9LGFmdGVyUmVnaXN0ZXIoKXt0dC5yZWdpc3Rlcih5dCl9LGFmdGVyVW5yZWdpc3Rlcigpe3R0LnVucmVnaXN0ZXIoeXQpfSxiZWZvcmVJbml0KGkpe3d0LnNldChpLHthbm5vdGF0aW9uczpbXSxlbGVtZW50czpbXSx2aXNpYmxlRWxlbWVudHM6W10sbGlzdGVuZXJzOnt9LGxpc3RlbmVkOiExLG1vdmVMaXN0ZW5lZDohMSxob29rczp7fSxob29rZWQ6ITEsaG92ZXJlZDpbXX0pfSxiZWZvcmVVcGRhdGUoaSx0LGUpe2NvbnN0IG49d3QuZ2V0KGkpLHM9bi5hbm5vdGF0aW9ucz1bXTtsZXQgbz1lLmFubm90YXRpb25zO08obyk/T2JqZWN0LmtleXMobykuZm9yRWFjaChyPT57Y29uc3QgYT1vW3JdO08oYSkmJihhLmlkPXIscy5wdXNoKGEpKX0pOnoobykmJnMucHVzaCguLi5vKSxIaChzLmZpbHRlcihxbyksaS5zY2FsZXMpfSxhZnRlckRhdGFMaW1pdHMoaSx0KXtjb25zdCBlPXd0LmdldChpKTtCaChpLHQuc2NhbGUsZS5hbm5vdGF0aW9ucy5maWx0ZXIocW8pLmZpbHRlcihuPT5uLmRpc3BsYXkmJm4uYWRqdXN0U2NhbGVSYW5nZSkpfSxhZnRlclVwZGF0ZShpLHQsZSl7Y29uc3Qgbj13dC5nZXQoaSk7SWgoaSxuLGUpLG1kKGksbixlLHQubW9kZSksbi52aXNpYmxlRWxlbWVudHM9bi5lbGVtZW50cy5maWx0ZXIocz0+IXMuc2tpcCYmcy5vcHRpb25zLmRpc3BsYXkpLFdoKGksbixlKX0sYmVmb3JlRGF0YXNldHNEcmF3KGksdCxlKXt5ZShpLCJiZWZvcmVEYXRhc2V0c0RyYXciLGUuY2xpcCl9LGFmdGVyRGF0YXNldHNEcmF3KGksdCxlKXt5ZShpLCJhZnRlckRhdGFzZXRzRHJhdyIsZS5jbGlwKX0sYmVmb3JlRGF0YXNldERyYXcoaSx0LGUpe3llKGksdC5pbmRleCxlLmNsaXApfSxiZWZvcmVEcmF3KGksdCxlKXt5ZShpLCJiZWZvcmVEcmF3IixlLmNsaXApfSxhZnRlckRyYXcoaSx0LGUpe3llKGksImFmdGVyRHJhdyIsZS5jbGlwKX0sYmVmb3JlRXZlbnQoaSx0LGUpe2NvbnN0IG49d3QuZ2V0KGkpO3poKG4sdC5ldmVudCxlKSYmKHQuY2hhbmdlZD0hMCl9LGFmdGVyRGVzdHJveShpKXt3dC5kZWxldGUoaSl9LGdldEFubm90YXRpb25zKGkpe2NvbnN0IHQ9d3QuZ2V0KGkpO3JldHVybiB0P3QuZWxlbWVudHM6W119LF9nZXRBbm5vdGF0aW9uRWxlbWVudHNBdEV2ZW50Rm9yTW9kZShpLHQsZSl7cmV0dXJuIHFpKGksdCxlKX0sZGVmYXVsdHM6e2FuaW1hdGlvbnM6e251bWJlcnM6e3Byb3BlcnRpZXM6WyJ4IiwieSIsIngyIiwieTIiLCJ3aWR0aCIsImhlaWdodCIsImNlbnRlclgiLCJjZW50ZXJZIiwicG9pbnRYIiwicG9pbnRZIiwicmFkaXVzIl0sdHlwZToibnVtYmVyIn0sY29sb3JzOntwcm9wZXJ0aWVzOlsiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiXSx0eXBlOiJjb2xvciJ9fSxjbGlwOiEwLGludGVyYWN0aW9uOnttb2RlOnZvaWQgMCxheGlzOnZvaWQgMCxpbnRlcnNlY3Q6dm9pZCAwfSxjb21tb246e2RyYXdUaW1lOiJhZnRlckRhdGFzZXRzRHJhdyIsaW5pdDohMSxsYWJlbDp7fX19LGRlc2NyaXB0b3JzOntfaW5kZXhhYmxlOiExLF9zY3JpcHRhYmxlOmk9PiFrZC5pbmNsdWRlcyhpKSYmaSE9PSJpbml0Iixhbm5vdGF0aW9uczp7X2FsbEtleXM6ITEsX2ZhbGxiYWNrOihpLHQpPT5gZWxlbWVudHMuJHt5dFtjbih0LnR5cGUpXS5pZH1gfSxpbnRlcmFjdGlvbjp7X2ZhbGxiYWNrOiEwfSxjb21tb246e2xhYmVsOntfaW5kZXhhYmxlOmxuLF9mYWxsYmFjazohMH0sX2luZGV4YWJsZTpsbn19LGFkZGl0aW9uYWxPcHRpb25TY29wZXM6WyIiXX07ZnVuY3Rpb24geWUoaSx0LGUpe2NvbnN0e2N0eDpuLGNoYXJ0QXJlYTpzfT1pLG89d3QuZ2V0KGkpO2UmJkFlKG4scyk7Y29uc3Qgcj1TZChvLnZpc2libGVFbGVtZW50cyx0KS5zb3J0KChhLGwpPT5hLmVsZW1lbnQub3B0aW9ucy56LWwuZWxlbWVudC5vcHRpb25zLnopO2Zvcihjb25zdCBhIG9mIHIpUGQobixzLG8sYSk7ZSYmUmUobil9ZnVuY3Rpb24gU2QoaSx0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIGkpaWYobi5vcHRpb25zLmRyYXdUaW1lPT09dCYmZS5wdXNoKHtlbGVtZW50Om4sbWFpbjohMH0pLG4uZWxlbWVudHMmJm4uZWxlbWVudHMubGVuZ3RoKWZvcihjb25zdCBzIG9mIG4uZWxlbWVudHMpcy5vcHRpb25zLmRpc3BsYXkmJnMub3B0aW9ucy5kcmF3VGltZT09PXQmJmUucHVzaCh7ZWxlbWVudDpzfSk7cmV0dXJuIGV9ZnVuY3Rpb24gUGQoaSx0LGUsbil7Y29uc3Qgcz1uLmVsZW1lbnQ7bi5tYWluPyhSbyhlLHMsImJlZm9yZURyYXciKSxzLmRyYXcoaSx0KSxSbyhlLHMsImFmdGVyRHJhdyIpKTpzLmRyYXcoaSx0KX1mdW5jdGlvbiBEZChpKXtjb25zdCB0PWkubGVuZ3RoLGU9aVswXS5sZW5ndGgscj1pLmZsYXQoKS5tYXAoKGwsYyk9PltsLGNdKS5zb3J0KChbbF0sW2NdKT0+bC1jKS5tYXAoKFssbF0sYyk9Pih7cmFuazpjKzEsaWR4Omx9KSkuc29ydCgobCxjKT0+bC5pZHgtYy5pZHgpLm1hcCgoe3Jhbms6bH0pPT5sKS5tYXAobD0+KGwtMSkvKHQqZS0xKSk7cmV0dXJuIEFycmF5LmZyb20oe2xlbmd0aDp0fSwobCxjKT0+ci5zbGljZShjKmUsKGMrMSkqZSkpfXR0LnJlZ2lzdGVyKHZkKSx0dC5yZWdpc3RlcihCZSxnZSxLaSxVaSxLZSxXZSxxZSxWYywkYyk7bGV0IEo9bnVsbDtjb25zdCBqPTI7b25tZXNzYWdlPWZ1bmN0aW9uKGkpe3N3aXRjaChpLmRhdGEudHlwZSl7Y2FzZSJpbml0IjpDZChpKTticmVhaztjYXNlInVwZGF0ZSI6VGQoaSk7YnJlYWs7Y2FzZSJyZXNpemUiOk9kKGkpO2JyZWFrfX07ZnVuY3Rpb24gT2QoaSl7dmFyIG47Y29uc3R7d2lkdGg6dCxoZWlnaHQ6ZX09aS5kYXRhO0omJihKLmNhbnZhcy53aWR0aD1qKnQpLEomJihKLmNhbnZhcy5oZWlnaHQ9aiplKSwobj1KPT1udWxsP3ZvaWQgMDpKLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpKT09bnVsbHx8bi5zY2FsZShqLGopLEo9PW51bGx8fEoucmVzaXplKCl9ZnVuY3Rpb24gQ2QoaSl7dmFyIG87Y29uc3R7Y2FudmFzOnQsY2hhcnRUeXBlOmUsZGF0YTpufT1pLmRhdGE7dC53aWR0aD1qKnQud2lkdGgsdC5oZWlnaHQ9aip0LmhlaWdodCwobz10LmdldENvbnRleHQoIjJkIikpPT1udWxsfHxvLnNjYWxlKGosaik7bGV0IHM7c3dpdGNoKGUpe2Nhc2UidHJhY2UiOnM9UmQobik7YnJlYWs7Y2FzZSJoaXN0b2dyYW0iOnM9R28oITEsbik7YnJlYWs7Y2FzZSJyYW5rLWdyaWQiOnM9R28oITAsbik7YnJlYWt9Sj1uZXcgdHQodCxzKX1mdW5jdGlvbiBUZChpKXtjb25zdHtjaGFydFR5cGU6dCxkYXRhOmV9PWkuZGF0YTtpZihlPT1udWxsKXtjb25zb2xlLmxvZygiQ0hBUlQgTlVMTCIsaS5kYXRhLmRhdGEpO3JldHVybn1pZihKPT1udWxsKXtjb25zb2xlLmxvZygiQ0hBUlQgTlVMTCIsaS5kYXRhLmRhdGEpO3JldHVybn1sZXQgbjtzd2l0Y2godCl7Y2FzZSJ0cmFjZSI6bj1KbyhlKTticmVhaztjYXNlImhpc3RvZ3JhbSI6bj1kbighMSxlKTticmVhaztjYXNlInJhbmstZ3JpZCI6bj1kbighMCxlKTticmVha31KLmRhdGE9bixKLnVwZGF0ZSgpfWZ1bmN0aW9uIEFkKGkpe3JldHVybiBpLm1hcCgodCxlKT0+KHt4OmUseTp0fSkpfWZ1bmN0aW9uIEdvKGkse3ZhcmlhYmxlOnQsY2hhaW46ZSxpbkdyaWQ6bixjaGFpbnM6c30pe2NvbnN0IG89ZG4oaSx7dmFyaWFibGU6dCxjaGFpbjplLGluR3JpZDpuLGNoYWluczpzfSkscj1uJiZpP3t4OnttaW46MCxtYXg6MjAsdGlja3M6e2ZvbnQ6e3NpemU6MTAqan19fSx5Ont0aWNrczp7Zm9udDp7c2l6ZToxMCpqfX19fTp7eDp7dGlja3M6e2ZvbnQ6e3NpemU6MTAqan19fSx5Ont0aWNrczp7Zm9udDp7c2l6ZToxMCpqfX19fTtyZXR1cm57dHlwZToiYmFyIixkYXRhOm8sb3B0aW9uczp7cGx1Z2luczp7bGVnZW5kOntsYWJlbHM6e2ZvbnQ6e3NpemU6MTIqan19fX0sc2tpcE51bGw6ITEsYW5pbWF0aW9uOiExLHNjYWxlczpyfX19ZnVuY3Rpb24gZG4oaSx7dmFyaWFibGU6dCxjaGFpbjplLGluR3JpZDpuLGNoYWluczpzfSl7Y29uc3Qgbz1zLm1hcCh4PT5BcnJheS5mcm9tKHgpKSxyPWk/RGQobylbZV06b1tlXS50b1NvcnRlZCgoeCx5KT0+eC15KSxhPWk/MjA6bj8zMDpJZChyKSxbbCxjXT1MZChvKSxoPWk/MS9hOm4/KGMtbCkvYToocltyLmxlbmd0aC0xXS1yWzBdKS9hLGQ9bmV3IEFycmF5KGEpLmZpbGwoMCk7bGV0IHU9MTtpZihpKWZvcihsZXQgeCBvZiByKWRbTWF0aC5mbG9vcih4KmEpXSsrO2Vsc2UgaWYobilmb3IobGV0IHggb2Ygcil7Zm9yKDt4PnUqaCtsOyl1Kys7ZFt1LTFdKyt9ZWxzZSBmb3IobGV0IHggb2Ygcil7Zm9yKDt4PnUqaCtyWzBdOyl1Kys7ZFt1LTFdKyt9Y29uc3QgZj1pP2QubWFwKCh4LHkpPT4oeSpoKS50b0ZpeGVkKDIpKTpkLm1hcCgoeCx5KT0+KHkqaCsobj9sOnJbMF0pKS50b0ZpeGVkKDIpKSxnPWk/InJnYig3NSwgMTkyLCAxOTIsIDEpIjoicmdiKDI1NSwgOTksIDEzMiwgMC4yKSIscD1pPyJyZ2IoNzUsIDE5MiwgMTkyLCAxKSI6InJnYigyNTUsIDk5LCAxMzIsIDEpIixtPVt7bGFiZWw6YCR7dH0gJHtpPyJSYW5rIFBsb3QiOiJIaXN0b2dyYW0ifSBDaGFpbiAke2V9YCxkYXRhOmQsYmFja2dyb3VuZENvbG9yOmcsYm9yZGVyQ29sb3I6cCxib3JkZXJXaWR0aDoxfV07cmV0dXJue2xhYmVsczpmLGRhdGFzZXRzOm19fWZ1bmN0aW9uIFJkKHt2YXJpYWJsZTppLGNoYWluOnQsdHJhY2U6ZSxidXJuaW46bn0pe2NvbnN0IHM9Sm8oe3ZhcmlhYmxlOmksY2hhaW46dCx0cmFjZTplfSk7bGV0IG89biYmbj4wP1t7dHlwZToibGluZSIseE1pbjpuPz8wLHhNYXg6bj8/MCx2YWx1ZTo1LGJvcmRlckNvbG9yOiJyZ2IoMjU1LCA2MiwgNjIpIixib3JkZXJXaWR0aDoxLGxhYmVsOntjb250ZW50OiJCdXJuaW4iLGRpc3BsYXk6ITAscG9zaXRpb246ImVuZCIsZm9udDp7c2l6ZToxMCpqfSxvcGFjaXR5Oi42LHhBZGp1c3Q6LTIwLHlBZGp1c3Q6LTEwLGJhY2tncm91bmRDb2xvcjoicmdiKDAsMCwwLDApIixjb2xvcjoicmdiKDI1NSwgNjIsIDYyKSJ9fSx7dHlwZToiYm94Iix4TWluOjAseE1heDpuPz8wLGJvcmRlckNvbG9yOiJyZ2IoMjU1LCA2MiwgNjIsIDAuMSkiLGJvcmRlcldpZHRoOjAsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDI1NSwgNjIsIDYyLCAwLjEpIn1dOnZvaWQgMDtyZXR1cm57dHlwZToibGluZSIsZGF0YTpzLG9wdGlvbnM6e3BhcnNpbmc6ITEsbm9ybWFsaXplZDohMCxhbmltYXRpb246ITEscmVzcG9uc2l2ZTohMSxwbHVnaW5zOntsZWdlbmQ6e2xhYmVsczp7Zm9udDp7c2l6ZToxMipqfX19LGFubm90YXRpb246e2Fubm90YXRpb25zOm99fSxzY2FsZXM6e3g6e3RpY2tzOntmb250OntzaXplOjEwKmp9fX0seTp7dGlja3M6e2ZvbnQ6e3NpemU6MTAqan19fX19fX1mdW5jdGlvbiBKbyh7dmFyaWFibGU6aSxjaGFpbjp0LHRyYWNlOmV9KXtjb25zdCBuPUFycmF5LmZyb20oZSk7cmV0dXJue2xhYmVsczpuLm1hcCgocyxvKT0+byksZGF0YXNldHM6W3tsYWJlbDpgJHtpfSB0cmFjZSBDaGFpbiAke3R9YCxkYXRhOkFkKG4pLGZpbGw6ITEsYm9yZGVyQ29sb3I6InJnYig3NSwgMTkyLCAxOTIpIix0ZW5zaW9uOjAscG9pbnRTdHlsZTohMSxib3JkZXJXaWR0aDoxfV19fWZ1bmN0aW9uIExkKGkpe2xldCB0PTEvMCxlPS0xLzA7Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuKyspZm9yKGxldCBzPTA7czxpW25dLmxlbmd0aDtzKyspaVtuXVtzXTx0JiYodD1pW25dW3NdKSxpW25dW3NdPmUmJihlPWlbbl1bc10pO3JldHVyblt0LGVdfWZ1bmN0aW9uIElkKGkpe2kuc29ydCgobixzKT0+bi1zKTtsZXQgdD1pLmZpbHRlcigobixzLG8pPT5vLmluZGV4T2Yobik9PT1zKS5sZW5ndGgsZT1pLmxlbmd0aC8zPnQ/dDppLmxlbmd0aC8zO3JldHVybiBlPjIwP2U9MjA6ZTwzJiYoZT10KSxlPU1hdGguZmxvb3IoZSksZX19KSgpOwo=",cZ=n=>Uint8Array.from(atob(n),t=>t.charCodeAt(0)),zc=typeof self<"u"&&self.Blob&&new Blob([cZ(Zh)],{type:"text/javascript;charset=utf-8"});function dZ(n){let t;try{if(t=zc&&(self.URL||self.webkitURL).createObjectURL(zc),!t)throw"";const e=new Worker(t,{name:n==null?void 0:n.name});return e.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),e}catch{return new Worker("data:text/javascript;base64,"+Zh,{name:n==null?void 0:n.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}class Us{constructor(t,e,i){K(this,"worker");K(this,"chartType");this.worker=new dZ,this.chartType=e;const l=this.getTransferables(i);this.init(t,i,l)}getTransferables(t){const e=[];return this.chartType==="trace"&&t.trace?e.push(t.trace.buffer):(this.chartType==="histogram"||this.chartType==="rank-grid")&&t.chains&&e.push(...t.chains.map(i=>i.buffer)),e}init(t,e,i){this.worker.postMessage({type:"init",chartType:this.chartType,canvas:t,data:e},[t,...i])}update(t){const e=this.getTransferables(t);this.worker.postMessage({type:"update",chartType:this.chartType,data:t},e)}resize(t,e){this.worker.postMessage({type:"resize",width:t,height:e})}terminate(){this.worker.terminate()}}function rZ(n){let t,e,i;return{c(){t=k("div"),e=k("div"),i=k("canvas"),Ot(i,"width","100%"),Ot(i,"height","100%"),F(i,"id","traceGraph-"+Wa.next().value),F(e,"class","single-graph svelte-znvfgs"),F(t,"class","chart-container svelte-znvfgs")},m(l,s){T(l,t,s),v(t,e),v(e,i),n[10](i)},p:w,i:w,o:w,d(l){l&&N(t),n[10](null)}}}function fh(n){n.sort((i,l)=>i-l);let t=n.filter((i,l,s)=>s.indexOf(i)===l).length,e=n.length/3>t?t:n.length/3;return e>20?e=20:e<3&&(e=t),e=Math.floor(e),e}function hZ(n,t,e){let i;ie(n,ht,y=>e(9,i=y));let{variable:l}=t,{selectedChain:s}=t,{combineVars:a=!0}=t,{proposed:o=!1}=t,{rankplot:c=!1}=t,{inGrid:d=!1}=t,r=null,h=null,u=null,b=null,m=null,p=!1;na(()=>{m!=null&&clearInterval(m),u!=null&&(b==null||b.terminate(),b=null,u=null)});let Z=()=>{if(!i.controller.debuggingSession||!l)return;const y=i.controller.debuggingSession.trace.map(X=>Float64Array.from(Jl(X,l,a,o)));u==null?(u="Test",setTimeout(()=>{h==null&&(h=r.transferControlToOffscreen()),b=c?new Us(h,"rank-grid",{variable:l,chain:s,inGrid:d,chains:y}):new Us(h,"histogram",{variable:l,chain:s,inGrid:d,chains:y});const X=r==null?void 0:r.getBoundingClientRect();b.resize((X==null?void 0:X.width)??0,(X==null?void 0:X.height)??0)},100)):b==null||b.update({variable:l,chain:s,inGrid:d,chains:y})};function G(){e(8,p=!0),m!=null&&(m=null),m=setInterval(Z,3e3),Z()}function f(y){Fe[y?"unshift":"push"](()=>{r=y,e(0,r)})}return n.$$set=y=>{"variable"in y&&e(1,l=y.variable),"selectedChain"in y&&e(2,s=y.selectedChain),"combineVars"in y&&e(3,a=y.combineVars),"proposed"in y&&e(4,o=y.proposed),"rankplot"in y&&e(5,c=y.rankplot),"inGrid"in y&&e(6,d=y.inGrid)},n.$$.update=()=>{n.$$.dirty&770&&i.controller.debuggingSession&&!p&&l&&G(),n.$$.dirty&8&&Z(),n.$$.dirty&4&&Z(),n.$$.dirty&2&&Z()},[r,l,s,a,o,c,d,fh,p,i,f]}class _n extends Et{constructor(t){super(),Bt(this,t,hZ,rZ,Ft,{variable:1,selectedChain:2,combineVars:3,proposed:4,rankplot:5,inGrid:6,getBinCount:7})}get getBinCount(){return fh}}function uZ(n){let t,e,i;return{c(){t=k("div"),e=k("div"),i=k("canvas"),Ot(i,"width","100%"),Ot(i,"height","100%"),F(i,"id","traceGraph-"+Wa.next().value),F(e,"class","single-graph svelte-143dhtq"),F(t,"class","chart-container svelte-143dhtq")},m(l,s){T(l,t,s),v(t,e),v(e,i),n[7](i)},p:w,i:w,o:w,d(l){l&&N(t),n[7](null)}}}function bZ(n,t,e){let i;ie(n,ht,f=>e(6,i=f));let{variable:l}=t,{selectedChain:s}=t,{combineVars:a=!0}=t,{proposed:o=!1}=t,c=null,d=null,r=null;const h=new ResizeObserver(f=>{for(const y of f){const X=y.contentRect;r!=null&&setTimeout(()=>{console.log(X.width,X.height),b==null||b.resize(X.width,X.height)},10)}});let u=null,b=null,m=!1;na(()=>{u!=null&&clearInterval(u),r!=null&&(b==null||b.terminate(),b=null,r=null)});let p=()=>{if(!i.controller.debuggingSession||!l)return;const f=i.controller.debuggingSession.trace[s],y=Jl(f,l,a,o),X=Float64Array.from(y);r==null?(r="Test",setTimeout(()=>{var L;d==null&&(d=c.transferControlToOffscreen()),b=new Us(d,"trace",{variable:l,chain:s,trace:X,burnin:((L=i.controller.debuggingSession)==null?void 0:L.burnin)??0});const W={width:c==null?void 0:c.offsetWidth,height:c==null?void 0:c.offsetHeight};console.log(W),b.resize((W==null?void 0:W.width)??0,(W==null?void 0:W.height)??0),h.observe(c)},100)):b==null||b.update({variable:l,chain:s,trace:X})};function Z(){e(5,m=!0),u!=null&&(u=null),u=setInterval(p,3e3),p()}function G(f){Fe[f?"unshift":"push"](()=>{c=f,e(0,c)})}return n.$$set=f=>{"variable"in f&&e(1,l=f.variable),"selectedChain"in f&&e(2,s=f.selectedChain),"combineVars"in f&&e(3,a=f.combineVars),"proposed"in f&&e(4,o=f.proposed)},n.$$.update=()=>{n.$$.dirty&98&&i.controller.debuggingSession&&!m&&l&&Z(),n.$$.dirty&8&&p(),n.$$.dirty&4&&p(),n.$$.dirty&2&&p()},[c,l,s,a,o,m,i,G]}class ln extends Et{constructor(t){super(),Bt(this,t,bZ,uZ,Ft,{variable:1,selectedChain:2,combineVars:3,proposed:4})}}const mZ=!0,pZ="resize",GZ="scroll",Ic="change",Xh="dppxchange",wi=typeof window<"u",Rl=wi?window:null,ZZ=wi?navigator:null;let Ze,rl;function Os(){let n=devicePixelRatio;Ze!=n&&(Ze=n,rl&&XZ(Ic,rl,Os),rl=matchMedia(`(min-resolution: ${Ze-.001}dppx) and (max-resolution: ${Ze+.001}dppx)`),Sl(Ic,rl,Os),Rl.dispatchEvent(new CustomEvent(Xh)))}const ga={passive:!0},fZ={...ga,capture:!0};function Sl(n,t,e,i){t.addEventListener(n,e,i?fZ:ga)}function XZ(n,t,e,i){t.removeEventListener(n,e,ga)}wi&&Os();function On(n,t,e,i){for(let l=i==1?t:e;l>=t&&l<=e;l+=i)if(n[l]!=null)return l;return-1}function qt(n,t){return n??t}new Intl.NumberFormat(wi?ZZ.language:"en-US");const sn=Math,yZ=sn.PI,Bs=sn.abs,Fn=sn.floor,yh=sn.round,WZ=sn.ceil,Ii=sn.min,Mn=sn.max,gZ=sn.pow,be=1/0;function LZ(n,t,e){return Ii(Mn(n,t),e)}function xZ(n){return typeof n=="function"?n:()=>n}const RZ=n=>n,SZ=(n,t)=>t,VZ=/\.\d*?(?=9{6,}|0{6,})/gm,Es=n=>{if(Lh(n)||Wh.has(n))return n;const t=`${n}`,e=t.match(VZ);if(e==null)return n;let i=e[0].length-1;if(t.indexOf("e-")!=-1){let[l,s]=t.split("e");return+`${Es(l)}e${s}`}return ae(n,i)};function YZ(n,t){return Es(WZ(Es(n/t))*t)}function ae(n,t=0){if(Lh(n))return n;let e=10**t,i=n*e*(1+Number.EPSILON);return yh(i)/e}const Wh=new Map;function vZ(n){return((""+n).split(".")[1]||"").length}function Mi(n,t,e,i){let l=[],s=i.map(vZ);for(let a=t;a<e;a++){let o=Bs(a),c=ae(gZ(n,a),o);for(let d=0;d<i.length;d++){let r=n==10?+`${i[d]}e${a}`:i[d]*c,h=(a>=0?0:o)+(a>=s[d]?0:s[d]),u=n==10?r:ae(r,h);l.push(u),Wh.set(u,h)}}return l}const Mc={},gh=[],Nc=Array.isArray,Lh=Number.isInteger;function xh(n){let t=!1;if(n!=null){let e=n.constructor;t=e==null||e==Object}return t}const kZ=Object.getPrototypeOf(Uint8Array),Rh="__proto__";function Pl(n,t=xh){let e;if(Nc(n)){let i=n.find(l=>l!=null);if(Nc(i)||t(i)){e=Array(n.length);for(let l=0;l<n.length;l++)e[l]=Pl(n[l],t)}else e=n.slice()}else if(n instanceof kZ)e=n.slice();else if(t(n)){e={};for(let i in n)i!=Rh&&(e[i]=Pl(n[i],t))}else e=n;return e}function gn(n){let t=arguments;for(let e=1;e<t.length;e++){let i=t[e];for(let l in i)l!=Rh&&(xh(n[l])?gn(n[l],Pl(i[l])):n[l]=Pl(i[l]))}return n}const CZ=["January","February","March","April","May","June","July","August","September","October","November","December"],KZ=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Sh(n){return n.slice(0,3)}KZ.map(Sh);CZ.map(Sh);new Intl.DateTimeFormat().resolvedOptions().timeZone;const Vh=n=>n%1==0,wl=[1,2,2.5,5],HZ=Mi(10,-32,0,wl),Yh=Mi(10,0,32,wl);Yh.filter(Vh);HZ.concat(Yh);const La=`
`,vh="{YYYY}",Tc=La+vh,kh="{M}/{D}",Xi=La+kh,hl=Xi+"/{YY}",Ch="{aa}",zZ="{h}:{mm}",In=zZ+Ch,Jc=La+In,Fc=":{ss}",bt=null;function Kh(n){let t=n*1e3,e=t*60,i=e*60,l=i*24,s=l*30,a=l*365,c=(n==1?Mi(10,0,3,wl).filter(Vh):Mi(10,-3,0,wl)).concat([t,t*5,t*10,t*15,t*30,e,e*5,e*10,e*15,e*30,i,i*2,i*3,i*4,i*6,i*8,i*12,l,l*2,l*3,l*4,l*5,l*6,l*7,l*8,l*9,l*10,l*15,s,s*2,s*3,s*4,s*6,a,a*2,a*5,a*10,a*25,a*50,a*100]);const d=[[a,vh,bt,bt,bt,bt,bt,bt,1],[l*28,"{MMM}",Tc,bt,bt,bt,bt,bt,1],[l,kh,Tc,bt,bt,bt,bt,bt,1],[i,"{h}"+Ch,hl,bt,Xi,bt,bt,bt,1],[e,In,hl,bt,Xi,bt,bt,bt,1],[t,Fc,hl+" "+In,bt,Xi+" "+In,bt,Jc,bt,1],[n,Fc+".{fff}",hl+" "+In,bt,Xi+" "+In,bt,Jc,bt,1]];function r(h){return(u,b,m,p,Z,G)=>{let f=[],y=Z>=a,X=Z>=s&&Z<a,W=h(m),L=ae(W*n,3),S=Ls(W.getFullYear(),y?0:W.getMonth(),X||y?1:W.getDate()),g=ae(S*n,3);if(X||y){let x=X?Z/s:0,V=y?Z/a:0,H=L==g?L:ae(Ls(S.getFullYear()+V,S.getMonth()+x,1)*n,3),z=new Date(yh(H/n)),Y=z.getFullYear(),U=z.getMonth();for(let j=0;H<=p;j++){let O=Ls(Y+V*j,U+x*j,1),P=O-h(ae(O*n,3));H=ae((+O+P)*n,3),H<=p&&f.push(H)}}else{let x=Z>=l?l:Z,V=Fn(m)-Fn(L),H=g+V+YZ(L-g,x);f.push(H);let z=h(H),Y=z.getHours()+z.getMinutes()/e+z.getSeconds()/i,U=Z/i,j=u.axes[b]._space,O=G/j;for(;H=ae(H+Z,n==1?0:3),!(H>p);)if(U>1){let P=Fn(ae(Y+U,6))%24,E=h(H).getHours()-P;E>1&&(E=-1),H-=E*i,Y=(Y+U)%24;let ot=f[f.length-1];ae((H-ot)/Z,3)*O>=.7&&f.push(H)}else f.push(H)}return f}}return[c,d,r]}Kh(1);Kh(.001);Mi(2,-53,53,[1]);function Ls(n,t,e){return new Date(n,t,e)}const Hh={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},IZ=gn({},Hh,{filter:SZ});gn({},IZ,{size:10});gn({},Hh,{show:!1});const Pc={scale:null,auto:!0,sorted:0,min:be,max:-be},MZ=(n,t,e,i,l)=>l;gn({},Pc,{scale:"x"}),gn({},Pc,{scale:"y"});const NZ={time:mZ,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0};gn({},NZ,{time:!1,ori:1});const _l=1,TZ=2;function Dn(n,t,e){const i=n.mode,l=n.series[t],s=i==2?n._data[t]:n._data,a=n.scales,o=n.bbox;let c=s[0],d=i==2?s[1]:s[t],r=i==2?a[l.facets[0].scale]:a[n.series[0].scale],h=i==2?a[l.facets[1].scale]:a[l.scale],u=o.left,b=o.top,m=o.width,p=o.height,Z=n.valToPosH,G=n.valToPosV;return r.ori==0?e(l,c,d,r,h,Z,G,u,b,m,p,Dl,An,$l,Ih,Nh):e(l,c,d,r,h,G,Z,b,u,p,m,Al,$n,Va,Mh,Th)}function xa(n,t){let e=0,i=0,l=qt(n.bands,gh);for(let s=0;s<l.length;s++){let a=l[s];a.series[0]==t?e=a.dir:a.series[1]==t&&(a.dir==1?i|=1:i|=2)}return[e,i==1?-1:i==2?1:i==3?2:0]}function Je(n,t,e,i,l,s){return Dn(n,t,(a,o,c,d,r,h,u,b,m,p,Z)=>{let G=a.pxRound;const f=d.dir*(d.ori==0?1:-1),y=d.ori==0?An:$n;let X,W;f==1?(X=e,W=i):(X=i,W=e);let L=G(h(o[X],d,p,b)),S=G(u(c[X],r,Z,m)),g=G(h(o[W],d,p,b)),x=G(u(s==1?r.max:r.min,r,Z,m)),V=new Path2D(l);return y(V,g,x),y(V,L,x),y(V,L,S),V})}function Ra(n,t,e,i,l,s){let a=null;if(n.length>0){a=new Path2D;const o=t==0?$l:Va;let c=e;for(let h=0;h<n.length;h++){let u=n[h];if(u[1]>u[0]){let b=u[0]-c;b>0&&o(a,c,i,b,i+s),c=u[1]}}let d=e+l-c,r=10;d>0&&o(a,c,i-r/2,d,i+s+r)}return a}function Sa(n,t,e,i,l,s,a){let o=[],c=n.length;for(let d=l==1?e:i;d>=e&&d<=i;d+=l)if(t[d]===null){let h=d,u=d;if(l==1)for(;++d<=i&&t[d]===null;)u=d;else for(;--d>=e&&t[d]===null;)u=d;let b=s(n[h]),m=u==h?b:s(n[u]),p=h-l;b=a<=0&&p>=0&&p<c?s(n[p]):b;let G=u+l;m=a>=0&&G>=0&&G<c?s(n[G]):m,m>=b&&o.push([b,m])}return o}function zh(n){let t=n==0?Dl:Al,e=n==0?(l,s,a,o,c,d)=>{l.arcTo(s,a,o,c,d)}:(l,s,a,o,c,d)=>{l.arcTo(a,s,c,o,d)},i=n==0?(l,s,a,o,c)=>{l.rect(s,a,o,c)}:(l,s,a,o,c)=>{l.rect(a,s,c,o)};return(l,s,a,o,c,d=0,r=0)=>{d==0&&r==0?i(l,s,a,o,c):(d=Ii(d,o/2,c/2),r=Ii(r,o/2,c/2),t(l,s+d,a),e(l,s+o,a,s+o,a+c,d),e(l,s+o,a+c,s,a+c,r),e(l,s,a+c,s,a,r),e(l,s,a,s+o,a,d),l.closePath())}}const Dl=(n,t,e)=>{n.moveTo(t,e)},Al=(n,t,e)=>{n.moveTo(e,t)},An=(n,t,e)=>{n.lineTo(t,e)},$n=(n,t,e)=>{n.lineTo(e,t)},$l=zh(0),Va=zh(1),Ih=(n,t,e,i,l,s)=>{n.arc(t,e,i,l,s)},Mh=(n,t,e,i,l,s)=>{n.arc(e,t,i,l,s)},Nh=(n,t,e,i,l,s,a)=>{n.bezierCurveTo(t,e,i,l,s,a)},Th=(n,t,e,i,l,s,a)=>{n.bezierCurveTo(e,t,l,i,a,s)};function JZ(n){return(t,e,i,l,s)=>Dn(t,e,(a,o,c,d,r,h,u,b,m,p,Z)=>{let{pxRound:G,points:f}=a,y,X;d.ori==0?(y=Dl,X=Ih):(y=Al,X=Mh);const W=ae(f.width*Ze,3);let L=(f.size-f.width)/2*Ze,S=ae(L*2,3),g=new Path2D,x=new Path2D,{left:V,top:H,width:z,height:Y}=t.bbox;$l(x,V-S,H-S,z+S*2,Y+S*2);const U=j=>{if(c[j]!=null){let O=G(h(o[j],d,p,b)),P=G(u(c[j],r,Z,m));y(g,O+L,P),X(g,O,P,L,0,yZ*2)}};if(s)s.forEach(U);else for(let j=i;j<=l;j++)U(j);return{stroke:W>0?g:null,fill:g,clip:x,flags:_l|TZ}})}function Jh(n){return(t,e,i,l,s,a)=>{i!=l&&(s!=i&&a!=i&&n(t,e,i),s!=l&&a!=l&&n(t,e,l),n(t,e,a))}}const FZ=Jh(An),PZ=Jh($n);function Fh(n){const t=qt(n==null?void 0:n.alignGaps,0);return(e,i,l,s)=>Dn(e,i,(a,o,c,d,r,h,u,b,m,p,Z)=>{let G=a.pxRound,f=B=>G(h(B,d,p,b)),y=B=>G(u(B,r,Z,m)),X,W;d.ori==0?(X=An,W=FZ):(X=$n,W=PZ);const L=d.dir*(d.ori==0?1:-1),S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:_l},g=S.stroke;let x=be,V=-be,H,z,Y,U=f(o[L==1?l:s]),j=On(c,l,s,1*L),O=On(c,l,s,-1*L),P=f(o[j]),et=f(o[O]),_=!1;for(let B=L==1?l:s;B>=l&&B<=s;B+=L){let pt=f(o[B]),rt=c[B];pt==U?rt!=null?(z=y(rt),x==be&&(X(g,pt,z),H=z),x=Ii(z,x),V=Mn(z,V)):rt===null&&(_=!0):(x!=be&&(W(g,U,x,V,H,z),Y=U),rt!=null?(z=y(rt),X(g,pt,z),x=V=H=z):(x=be,V=-be,rt===null&&(_=!0)),U=pt)}x!=be&&x!=V&&Y!=U&&W(g,U,x,V,H,z);let[E,ot]=xa(e,i);if(a.fill!=null||E!=0){let B=S.fill=new Path2D(g),pt=a.fillTo(e,i,a.min,a.max,E),rt=y(pt);X(B,et,rt),X(B,P,rt)}if(!a.spanGaps){let B=[];_&&B.push(...Sa(o,c,l,s,L,f,t)),S.gaps=B=a.gaps(e,i,l,s,B),S.clip=Ra(B,d.ori,b,m,p,Z)}return ot!=0&&(S.band=ot==2?[Je(e,i,l,s,g,-1),Je(e,i,l,s,g,1)]:Je(e,i,l,s,g,ot)),S})}function wZ(n){const t=qt(n.align,1),e=qt(n.ascDesc,!1),i=qt(n.alignGaps,0),l=qt(n.extend,!1);return(s,a,o,c)=>Dn(s,a,(d,r,h,u,b,m,p,Z,G,f,y)=>{let X=d.pxRound,{left:W,width:L}=s.bbox,S=E=>X(m(E,u,f,Z)),g=E=>X(p(E,b,y,G)),x=u.ori==0?An:$n;const V={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:_l},H=V.stroke,z=u.dir*(u.ori==0?1:-1);o=On(h,o,c,1),c=On(h,o,c,-1);let Y=g(h[z==1?o:c]),U=S(r[z==1?o:c]),j=U,O=U;l&&t==-1&&(O=W,x(H,O,Y)),x(H,U,Y);for(let E=z==1?o:c;E>=o&&E<=c;E+=z){let ot=h[E];if(ot==null)continue;let B=S(r[E]),pt=g(ot);t==1?x(H,B,Y):x(H,j,pt),x(H,B,pt),Y=pt,j=B}let P=j;l&&t==1&&(P=W+L,x(H,P,Y));let[et,_]=xa(s,a);if(d.fill!=null||et!=0){let E=V.fill=new Path2D(H),ot=d.fillTo(s,a,d.min,d.max,et),B=g(ot);x(E,P,B),x(E,O,B)}if(!d.spanGaps){let E=[];E.push(...Sa(r,h,o,c,z,S,i));let ot=d.width*Ze/2,B=e||t==1?ot:-ot,pt=e||t==-1?-ot:ot;E.forEach(rt=>{rt[0]+=B,rt[1]+=pt}),V.gaps=E=d.gaps(s,a,o,c,E),V.clip=Ra(E,u.ori,Z,G,f,y)}return _!=0&&(V.band=_==2?[Je(s,a,o,c,H,-1),Je(s,a,o,c,H,1)]:Je(s,a,o,c,H,_)),V})}function wc(n,t,e,i,l,s,a=be){if(n.length>1){let o=null;for(let c=0,d=1/0;c<n.length;c++)if(t[c]!==void 0){if(o!=null){let r=Bs(n[c]-n[o]);r<d&&(d=r,a=Bs(e(n[c],i,l,s)-e(n[o],i,l,s)))}o=c}}return a}function QZ(n){n=n||Mc;const t=qt(n.size,[.6,be,1]),e=n.align||0,i=n.gap||0;let l=n.radius;l=l==null?[0,0]:typeof l=="number"?[l,0]:l;const s=xZ(l),a=1-t[0],o=qt(t[1],be),c=qt(t[2],1),d=qt(n.disp,Mc),r=qt(n.each,b=>{}),{fill:h,stroke:u}=d;return(b,m,p,Z)=>Dn(b,m,(G,f,y,X,W,L,S,g,x,V,H)=>{let z=G.pxRound,Y=e,U=i*Ze,j=o*Ze,O=c*Ze,P,et;X.ori==0?[P,et]=s(b,m):[et,P]=s(b,m);const _=X.dir*(X.ori==0?1:-1);let E=X.ori==0?$l:Va,ot=X.ori==0?r:(nt,Qt,Ye,ve,ke,le,dn)=>{r(nt,Qt,Ye,ke,ve,dn,le)},B=qt(b.bands,gh).find(nt=>nt.series[0]==m),pt=B!=null?B.dir:0,rt=G.fillTo(b,m,G.min,G.max,pt),Ht=z(S(rt,W,H,x)),Ct,St,Pt,wt=V,ut=z(G.width*Ze),_t=!1,de=null,pe=null,Xe=null,ye=null;h!=null&&(ut==0||u!=null)&&(_t=!0,de=h.values(b,m,p,Z),pe=new Map,new Set(de).forEach(nt=>{nt!=null&&pe.set(nt,new Path2D)}),ut>0&&(Xe=u.values(b,m,p,Z),ye=new Map,new Set(Xe).forEach(nt=>{nt!=null&&ye.set(nt,new Path2D)})));let{x0:Se,size:Ve}=d;if(Se!=null&&Ve!=null){Y=1,f=Se.values(b,m,p,Z),Se.unit==2&&(f=f.map(Ye=>b.posToVal(g+Ye*V,X.key,!0)));let nt=Ve.values(b,m,p,Z);Ve.unit==2?St=nt[0]*V:St=L(nt[0],X,V,g)-L(0,X,V,g),wt=wc(f,y,L,X,V,g,wt),Pt=wt-St+U}else wt=wc(f,y,L,X,V,g,wt),Pt=wt*a+U,St=wt-Pt;Pt<1&&(Pt=0),ut>=St/2&&(ut=0),Pt<5&&(z=RZ);let we=Pt>0,an=wt-Pt-(we?ut:0);St=z(LZ(an,O,j)),Ct=(Y==0?St/2:Y==_?0:St)-Y*_*((Y==0?U/2:0)+(we?ut/2:0));const Ge={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},on=_t?null:new Path2D;let We=null;if(B!=null)We=b.data[B.series[1]];else{let{y0:nt,y1:Qt}=d;nt!=null&&Qt!=null&&(y=Qt.values(b,m,p,Z),We=nt.values(b,m,p,Z))}let cn=P*St,Qe=et*St;for(let nt=_==1?p:Z;nt>=p&&nt<=Z;nt+=_){let Qt=y[nt];if(Qt==null)continue;if(We!=null){let re=We[nt]??0;if(Qt-re==0)continue;Ht=S(re,W,H,x)}let Ye=X.distr!=2||d!=null?f[nt]:nt,ve=L(Ye,X,V,g),ke=S(qt(Qt,rt),W,H,x),le=z(ve-Ct),dn=z(Mn(ke,Ht)),ge=z(Ii(ke,Ht)),At=dn-ge;if(Qt!=null){let re=Qt<0?Qe:cn,ni=Qt<0?cn:Qe;_t?(ut>0&&Xe[nt]!=null&&E(ye.get(Xe[nt]),le,ge+Fn(ut/2),St,Mn(0,At-ut),re,ni),de[nt]!=null&&E(pe.get(de[nt]),le,ge+Fn(ut/2),St,Mn(0,At-ut),re,ni)):E(on,le,ge+Fn(ut/2),St,Mn(0,At-ut),re,ni),ot(b,m,nt,le-ut/2,ge,St+ut,At)}}return ut>0?Ge.stroke=_t?ye:on:_t||(Ge._fill=G.width==0?G._fill:G._stroke??G._fill,Ge.width=0),Ge.fill=_t?pe:on,Ge})}function jZ(n,t){const e=qt(t==null?void 0:t.alignGaps,0);return(i,l,s,a)=>Dn(i,l,(o,c,d,r,h,u,b,m,p,Z,G)=>{let f=o.pxRound,y=P=>f(u(P,r,Z,m)),X=P=>f(b(P,h,G,p)),W,L,S;r.ori==0?(W=Dl,S=An,L=Nh):(W=Al,S=$n,L=Th);const g=r.dir*(r.ori==0?1:-1);s=On(d,s,a,1),a=On(d,s,a,-1);let x=y(c[g==1?s:a]),V=x,H=[],z=[];for(let P=g==1?s:a;P>=s&&P<=a;P+=g)if(d[P]!=null){let _=c[P],E=y(_);H.push(V=E),z.push(X(d[P]))}const Y={stroke:n(H,z,W,S,L,f),fill:null,clip:null,band:null,gaps:null,flags:_l},U=Y.stroke;let[j,O]=xa(i,l);if(o.fill!=null||j!=0){let P=Y.fill=new Path2D(U),et=o.fillTo(i,l,o.min,o.max,j),_=X(et);S(P,V,_),S(P,x,_)}if(!o.spanGaps){let P=[];P.push(...Sa(c,d,s,a,g,y,e)),Y.gaps=P=o.gaps(i,l,s,a,P),Y.clip=Ra(P,r.ori,m,p,Z,G)}return O!=0&&(Y.band=O==2?[Je(i,l,s,a,U,-1),Je(i,l,s,a,U,1)]:Je(i,l,s,a,U,O)),Y})}function UZ(n){return jZ(OZ,n)}function OZ(n,t,e,i,l,s){const a=n.length;if(a<2)return null;const o=new Path2D;if(e(o,n[0],t[0]),a==2)i(o,n[1],t[1]);else{let c=Array(a),d=Array(a-1),r=Array(a-1),h=Array(a-1);for(let u=0;u<a-1;u++)r[u]=t[u+1]-t[u],h[u]=n[u+1]-n[u],d[u]=r[u]/h[u];c[0]=d[0];for(let u=1;u<a-1;u++)d[u]===0||d[u-1]===0||d[u-1]>0!=d[u]>0?c[u]=0:(c[u]=3*(h[u-1]+h[u])/((2*h[u]+h[u-1])/d[u-1]+(h[u]+2*h[u-1])/d[u]),isFinite(c[u])||(c[u]=0));c[a-1]=d[a-2];for(let u=0;u<a-1;u++)l(o,n[u]+h[u]/3,t[u]+c[u]*h[u]/3,n[u+1]-h[u]/3,t[u+1]-c[u+1]*h[u]/3,n[u+1],t[u+1])}return o}const BZ=new Set;function Qc(){for(let n of BZ)n.syncRect(!0)}wi&&(Sl(pZ,Rl,Qc),Sl(GZ,Rl,Qc,!0),Sl(Xh,Rl,()=>{}));Fh();{let n={points:JZ};n.linear=Fh,n.stepped=wZ,n.bars=QZ,n.spline=UZ}function jc(n){let t,e;return t=new Gh({props:{variable:n[0],selectedChain:n[1]}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[0]),l&2&&(s.selectedChain=i[1]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function EZ(n){var d;let t,e,i,l,s,a,o,c=((d=n[3].controller.debuggingSession)==null?void 0:d.trace.length)&&jc(n);return l=new ln({props:{variable:n[0],selectedChain:n[1],combineVars:n[2]}}),a=new _n({props:{variable:n[0],selectedChain:n[1],combineVars:n[2]}}),{c(){t=k("div"),c&&c.c(),e=A(),i=k("div"),dt(l.$$.fragment),s=A(),dt(a.$$.fragment),F(i,"class","chart-grid svelte-yi17x"),F(t,"class","container")},m(r,h){T(r,t,h),c&&c.m(t,null),v(t,e),v(t,i),st(l,i,null),v(i,s),st(a,i,null),o=!0},p(r,[h]){var m;(m=r[3].controller.debuggingSession)!=null&&m.trace.length?c?(c.p(r,h),h&8&&C(c,1)):(c=jc(r),c.c(),C(c,1),c.m(t,e)):c&&(yt(),M(c,1,1,()=>{c=null}),Wt());const u={};h&1&&(u.variable=r[0]),h&2&&(u.selectedChain=r[1]),h&4&&(u.combineVars=r[2]),l.$set(u);const b={};h&1&&(b.variable=r[0]),h&2&&(b.selectedChain=r[1]),h&4&&(b.combineVars=r[2]),a.$set(b)},i(r){o||(C(c),C(l.$$.fragment,r),C(a.$$.fragment,r),o=!0)},o(r){M(c),M(l.$$.fragment,r),M(a.$$.fragment,r),o=!1},d(r){r&&N(t),c&&c.d(),at(l),at(a)}}}function _Z(n,t,e){let i;ie(n,ht,o=>e(3,i=o));let{variable:l}=t,{selectedChain:s}=t,{combineVars:a=!0}=t;return n.$$set=o=>{"variable"in o&&e(0,l=o.variable),"selectedChain"in o&&e(1,s=o.selectedChain),"combineVars"in o&&e(2,a=o.combineVars)},[l,s,a,i]}class DZ extends Et{constructor(t){super(),Bt(this,t,_Z,EZ,Ft,{variable:0,selectedChain:1,combineVars:2})}}function Uc(n,t,e){const i=n.slice();return i[2]=t[e],i}function AZ(n){let t;return{c(){t=q("Unknown Graph")},m(e,i){T(e,t,i)},p:w,i:w,o:w,d(e){e&&N(t)}}}function $Z(n){let t,e;return t=new ln({props:{variable:n[2].variable,combineVars:n[2].combine,selectedChain:Ph}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[2].variable),l&1&&(s.combineVars=i[2].combine),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function qZ(n){let t,e;return t=new _n({props:{variable:n[2].variable,combineVars:n[2].combine,selectedChain:Ph}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[2].variable),l&1&&(s.combineVars=i[2].combine),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function Oc(n){let t,e,i,l;const s=[qZ,$Z,AZ],a=[];function o(c,d){return c[2].graph=="histogram"?0:c[2].graph=="trace"?1:2}return t=o(n),e=a[t]=s[t](n),{c(){e.c(),i=xn()},m(c,d){a[t].m(c,d),T(c,i,d),l=!0},p(c,d){let r=t;t=o(c),t===r?a[t].p(c,d):(yt(),M(a[r],1,1,()=>{a[r]=null}),Wt(),e=a[t],e?e.p(c,d):(e=a[t]=s[t](c),e.c()),C(e,1),e.m(i.parentNode,i))},i(c){l||(C(e),l=!0)},o(c){M(e),l=!1},d(c){c&&N(i),a[t].d(c)}}}function tf(n){let t,e,i,l,s=lt(n[0]),a=[];for(let c=0;c<s.length;c+=1)a[c]=Oc(Uc(n,s,c));const o=c=>M(a[c],1,1,()=>{a[c]=null});return{c(){t=k("div"),e=k("div"),i=k("div");for(let c=0;c<a.length;c+=1)a[c].c();F(i,"class","graphs svelte-164mapl"),F(e,"class","view"),F(t,"class","container")},m(c,d){T(c,t,d),v(t,e),v(e,i);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(i,null);l=!0},p(c,[d]){if(d&1){s=lt(c[0]);let r;for(r=0;r<s.length;r+=1){const h=Uc(c,s,r);a[r]?(a[r].p(h,d),C(a[r],1)):(a[r]=Oc(h),a[r].c(),C(a[r],1),a[r].m(i,null))}for(yt(),r=s.length;r<a.length;r+=1)o(r);Wt()}},i(c){if(!l){for(let d=0;d<s.length;d+=1)C(a[d]);l=!0}},o(c){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)M(a[d]);l=!1},d(c){c&&N(t),Jt(a,c)}}}let Ph=0;function ef(n,t,e){let i;ie(n,ht,s=>e(1,i=s));let l=[];return n.$$.update=()=>{n.$$.dirty&2&&e(0,l=i.viewState.board)},[l,i]}class nf extends Et{constructor(t){super(),Bt(this,t,ef,tf,Ft,{})}}function lf(n){let t,e,i;return{c(){t=k("div"),e=k("div"),i=k("canvas"),F(i,"id","autocorrGraph"),F(e,"class","single-graph svelte-1yubijv"),F(t,"class","chart-container")},m(l,s){T(l,t,s),v(t,e),v(e,i),n[4](i)},p:w,i:w,o:w,d(l){l&&N(t),n[4](null)}}}function sf(n,t,e){let i;ie(n,ht,h=>e(3,i=h));let{autocorr:l}=t,s=null,a=null,o=!1,c=()=>{if(!i.controller.debuggingSession||!l)return;let b={labels:[...Array(l.length).keys()].map(p=>p+1),datasets:[{label:"ACF",data:l,barThickness:1,fill:!1,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgb(75, 192, 192)"}]},m={type:"bar",data:b,options:{animation:{duration:0}}};a==null?setTimeout(()=>{a=new Tt(s,m)},100):(a.data=b,a.update())};function d(){e(2,o=!0),setInterval(c,3e3),c()}function r(h){Fe[h?"unshift":"push"](()=>{s=h,e(0,s)})}return n.$$set=h=>{"autocorr"in h&&e(1,l=h.autocorr)},n.$$.update=()=>{n.$$.dirty&12&&i.controller.debuggingSession&&!o&&d()},[s,l,o,i,r]}class Ya extends Et{constructor(t){super(),Bt(this,t,sf,lf,Ft,{autocorr:1})}}function af(n){let t,e,i;return{c(){t=k("div"),e=k("div"),i=k("canvas"),F(i,"id","traceGraph"),F(e,"class","single-graph svelte-1yubijv"),F(t,"class","chart-container")},m(l,s){T(l,t,s),v(t,e),v(e,i),n[4](i)},p:w,i:w,o:w,d(l){l&&N(t),n[4](null)}}}function of(n,t,e){let i;ie(n,ht,h=>e(3,i=h));let{variable:l}=t,s=null,a=null,o=!1,c=()=>{if(!i.stats.length||!l||!i.stats.filter(y=>y[l]).length)return;const h=[0,...i.stats.map(y=>y[l].ess)],u=i.stats.findLastIndex(y=>y[l].includesBurnin),b=u?u+1:void 0,m=[0,...i.stats.map(y=>y[l].drawnAt)];let p=u&&b&&b>0?[{type:"line",xMin:b??0,xMax:b??0,value:5,borderColor:"rgb(255, 62, 62)",borderWidth:1,label:{content:"Burnin",display:!0,position:"end",opacity:.6,xAdjust:-20,yAdjust:-10,backgroundColor:"rgb(0,0,0,0)",color:"rgb(255, 62, 62)"}},{type:"box",xMin:0,xMax:b??0,borderColor:"rgb(255, 62, 62, 0.1)",borderWidth:0,backgroundColor:"rgba(255, 62, 62, 0.1)"}]:void 0;console.log("ESS:",h);let Z=[{label:`${l} ESS Over Time`,data:h,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1,pointStyle:!1,borderWidth:1}],G={labels:m,datasets:Z},f={type:"line",data:G,options:{animation:!1,plugins:{annotation:{annotations:p}}}};a==null?setTimeout(()=>{a=new Tt(s,f)},100):(a.options.plugins.annotation.annotations=p,a.data=G,a.update())};function d(){e(2,o=!0),setInterval(c,3e3),c()}function r(h){Fe[h?"unshift":"push"](()=>{s=h,e(0,s)})}return n.$$set=h=>{"variable"in h&&e(1,l=h.variable)},n.$$.update=()=>{n.$$.dirty&14&&i.controller.debuggingSession&&!o&&l&&d(),n.$$.dirty&2&&c()},[s,l,o,i,r]}class cf extends Et{constructor(t){super(),Bt(this,t,of,af,Ft,{variable:1})}}function df(n){let t,e,i;return{c(){t=k("div"),e=k("div"),i=k("canvas"),F(i,"id","traceGraph"),F(e,"class","single-graph svelte-1yubijv"),F(t,"class","chart-container")},m(l,s){T(l,t,s),v(t,e),v(e,i),n[8](i)},p:w,i:w,o:w,d(l){l&&N(t),n[8](null)}}}function rf(n,t,e){let i;ie(n,ht,Z=>e(7,i=Z));let{variable1:l}=t,{variable2:s}=t,{selectedChain:a}=t,{combineVars:o=!1}=t,{proposed:c=!1}=t,d=null,r=null,h=!1;function u(Z){let G=Jl(Z,l,o,c),f=Jl(Z,s,o,c),y=[];for(let X=0;X<Math.min(G.length,f.length);X++)y.push({x:G[X],y:f[X]});return y}let b=()=>{if(!i.controller.debuggingSession||!l||!s)return;const Z=i.controller.debuggingSession.trace[a],G=[...Array(i.controller.debuggingSession.trace.length+10).keys()].map(W=>W+1);let f=[{label:`Pair Plot ${l} - ${s} Chain ${a}`,data:u(Z),backgroundColor:"rgb(0, 255, 232)"}],y={labels:G,datasets:f},X={type:"scatter",data:y,options:{scales:{x:{type:"linear",title:{display:!0,text:l}},y:{title:{display:!0,text:s}}},animation:{duration:0}}};r==null?setTimeout(()=>{r=new Tt(d,X)},100):(r.data=y,r.update())};function m(){e(6,h=!0),setInterval(b,3e3),b()}function p(Z){Fe[Z?"unshift":"push"](()=>{d=Z,e(0,d)})}return n.$$set=Z=>{"variable1"in Z&&e(1,l=Z.variable1),"variable2"in Z&&e(2,s=Z.variable2),"selectedChain"in Z&&e(3,a=Z.selectedChain),"combineVars"in Z&&e(4,o=Z.combineVars),"proposed"in Z&&e(5,c=Z.proposed)},n.$$.update=()=>{n.$$.dirty&198&&i.controller.debuggingSession&&!h&&l&&s&&m(),n.$$.dirty&16&&b()},[d,l,s,a,o,c,h,i,p]}class va extends Et{constructor(t){super(),Bt(this,t,rf,df,Ft,{variable1:1,variable2:2,selectedChain:3,combineVars:4,proposed:5})}}function Bc(n,t,e){const i=n.slice();return i[8]=t[e],i}function Ec(n,t,e){const i=n.slice();return i[8]=t[e],i}function _c(n,t,e){const i=n.slice();return i[8]=t[e],i}function Dc(n,t,e){const i=n.slice();return i[8]=t[e],i}function Ac(n){var a;let t,e,i=(n[3].stats.length?(a=n[3].stats[n[3].stats.length-1][n[0]])==null?void 0:a.rHat:"N/A")+"",l,s;return t=new Gh({props:{variable:n[0],selectedChain:n[1],totalAcceptanceRate:!0}}),{c(){dt(t.$$.fragment),e=q(`
	RHAT: `),l=q(i)},m(o,c){st(t,o,c),T(o,e,c),T(o,l,c),s=!0},p(o,c){var r;const d={};c&1&&(d.variable=o[0]),c&2&&(d.selectedChain=o[1]),t.$set(d),(!s||c&9)&&i!==(i=(o[3].stats.length?(r=o[3].stats[o[3].stats.length-1][o[0]])==null?void 0:r.rHat:"N/A")+"")&&xt(l,i)},i(o){s||(C(t.$$.fragment,o),s=!0)},o(o){M(t.$$.fragment,o),s=!1},d(o){o&&(N(e),N(l)),at(t,o)}}}function hf(n){let t,e,i,l,s,a=lt(n[5]),o=[];for(let d=0;d<a.length;d+=1)o[d]=$c(Dc(n,a,d));const c=d=>M(o[d],1,1,()=>{o[d]=null});return{c(){t=k("div"),e=k("p"),e.textContent=`A potential funnel between ${n[6].parent.name} -> ${n[6].child.name} was discovered. If this leads to inference problems you can check the warning page for help.`,i=A(),l=k("div");for(let d=0;d<o.length;d+=1)o[d].c();F(t,"class","backlight-orange svelte-k0zmpu"),F(l,"class","chart-grid svelte-k0zmpu")},m(d,r){T(d,t,r),v(t,e),T(d,i,r),T(d,l,r);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(l,null);s=!0},p(d,r){if(r&96){a=lt(d[5]);let h;for(h=0;h<a.length;h+=1){const u=Dc(d,a,h);o[h]?(o[h].p(u,r),C(o[h],1)):(o[h]=$c(u),o[h].c(),C(o[h],1),o[h].m(l,null))}for(yt(),h=a.length;h<o.length;h+=1)c(h);Wt()}},i(d){if(!s){for(let r=0;r<a.length;r+=1)C(o[r]);s=!0}},o(d){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)M(o[r]);s=!1},d(d){d&&(N(t),N(i),N(l)),Jt(o,d)}}}function $c(n){let t,e;return t=new va({props:{variable1:n[6].parent.name,variable2:n[6].child.name,selectedChain:n[8]}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&32&&(s.selectedChain=i[8]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function qc(n){let t,e;return t=new ln({props:{variable:n[0],selectedChain:n[8],combineVars:n[2]}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[0]),l&32&&(s.selectedChain=i[8]),l&4&&(s.combineVars=i[2]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function td(n){let t,e;return t=new _n({props:{variable:n[0],selectedChain:n[8],combineVars:n[2],rankplot:!0,inGrid:!0}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[0]),l&32&&(s.selectedChain=i[8]),l&4&&(s.combineVars=i[2]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function ed(n){let t,e;return t=new _n({props:{variable:n[0],selectedChain:n[8],combineVars:n[2],rankplot:!1,inGrid:!0}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[0]),l&32&&(s.selectedChain=i[8]),l&4&&(s.combineVars=i[2]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function uf(n){var S;let t,e,i,l,s,a,o,c,d,r,h,u=((S=n[3].controller.debuggingSession)==null?void 0:S.trace.length)&&Ac(n),b=n[6]&&hf(n),m=lt(n[5]),p=[];for(let g=0;g<m.length;g+=1)p[g]=qc(_c(n,m,g));const Z=g=>M(p[g],1,1,()=>{p[g]=null});let G=lt(n[5]),f=[];for(let g=0;g<G.length;g+=1)f[g]=td(Ec(n,G,g));const y=g=>M(f[g],1,1,()=>{f[g]=null});let X=lt(n[5]),W=[];for(let g=0;g<X.length;g+=1)W[g]=ed(Bc(n,X,g));const L=g=>M(W[g],1,1,()=>{W[g]=null});return c=new Ya({props:{autocorr:n[4]}}),r=new cf({props:{variable:n[0]}}),{c(){t=k("div"),u&&u.c(),e=A(),b&&b.c(),i=A(),l=k("div");for(let g=0;g<p.length;g+=1)p[g].c();s=A();for(let g=0;g<f.length;g+=1)f[g].c();a=A();for(let g=0;g<W.length;g+=1)W[g].c();o=A(),dt(c.$$.fragment),d=A(),dt(r.$$.fragment),F(l,"class","chart-grid svelte-k0zmpu"),F(t,"class","container")},m(g,x){T(g,t,x),u&&u.m(t,null),v(t,e),b&&b.m(t,null),v(t,i),v(t,l);for(let V=0;V<p.length;V+=1)p[V]&&p[V].m(l,null);v(l,s);for(let V=0;V<f.length;V+=1)f[V]&&f[V].m(l,null);v(l,a);for(let V=0;V<W.length;V+=1)W[V]&&W[V].m(l,null);v(l,o),st(c,l,null),v(l,d),st(r,l,null),h=!0},p(g,[x]){var z;if((z=g[3].controller.debuggingSession)!=null&&z.trace.length?u?(u.p(g,x),x&8&&C(u,1)):(u=Ac(g),u.c(),C(u,1),u.m(t,e)):u&&(yt(),M(u,1,1,()=>{u=null}),Wt()),g[6]&&b.p(g,x),x&37){m=lt(g[5]);let Y;for(Y=0;Y<m.length;Y+=1){const U=_c(g,m,Y);p[Y]?(p[Y].p(U,x),C(p[Y],1)):(p[Y]=qc(U),p[Y].c(),C(p[Y],1),p[Y].m(l,s))}for(yt(),Y=m.length;Y<p.length;Y+=1)Z(Y);Wt()}if(x&37){G=lt(g[5]);let Y;for(Y=0;Y<G.length;Y+=1){const U=Ec(g,G,Y);f[Y]?(f[Y].p(U,x),C(f[Y],1)):(f[Y]=td(U),f[Y].c(),C(f[Y],1),f[Y].m(l,a))}for(yt(),Y=G.length;Y<f.length;Y+=1)y(Y);Wt()}if(x&37){X=lt(g[5]);let Y;for(Y=0;Y<X.length;Y+=1){const U=Bc(g,X,Y);W[Y]?(W[Y].p(U,x),C(W[Y],1)):(W[Y]=ed(U),W[Y].c(),C(W[Y],1),W[Y].m(l,o))}for(yt(),Y=X.length;Y<W.length;Y+=1)L(Y);Wt()}const V={};x&16&&(V.autocorr=g[4]),c.$set(V);const H={};x&1&&(H.variable=g[0]),r.$set(H)},i(g){if(!h){C(u),C(b);for(let x=0;x<m.length;x+=1)C(p[x]);for(let x=0;x<G.length;x+=1)C(f[x]);for(let x=0;x<X.length;x+=1)C(W[x]);C(c.$$.fragment,g),C(r.$$.fragment,g),h=!0}},o(g){M(u),M(b),p=p.filter(Boolean);for(let x=0;x<p.length;x+=1)M(p[x]);f=f.filter(Boolean);for(let x=0;x<f.length;x+=1)M(f[x]);W=W.filter(Boolean);for(let x=0;x<W.length;x+=1)M(W[x]);M(c.$$.fragment,g),M(r.$$.fragment,g),h=!1},d(g){g&&N(t),u&&u.d(),b&&b.d(),Jt(p,g),Jt(f,g),Jt(W,g),at(c),at(r)}}}function bf(n,t,e){let i,l;ie(n,ht,h=>e(3,l=h));let{variable:s}=t,{selectedChain:a}=t,{combineVars:o=!0}=t,c=[],d=ph(s,0,l.controller.funnel),r=d?d.warning:!1;return n.$$set=h=>{"variable"in h&&e(0,s=h.variable),"selectedChain"in h&&e(1,a=h.selectedChain),"combineVars"in h&&e(2,o=h.combineVars)},n.$$.update=()=>{var h,u,b,m;n.$$.dirty&8&&e(5,i=[...Fl(((u=(h=l.controller)==null?void 0:h.debuggingSession)==null?void 0:u.chains)??1)]),n.$$.dirty&9&&e(4,c=l.stats.length&&((m=(b=l.stats[l.stats.length-1][s])==null?void 0:b.acf)==null?void 0:m.length)!=null?l.stats[l.stats.length-1][s].acf:[])},[s,a,o,l,c,i,r]}class mf extends Et{constructor(t){super(),Bt(this,t,bf,uf,Ft,{variable:0,selectedChain:1,combineVars:2})}}function nd(n,t,e){const i=n.slice();return i[13]=t[e],i}function id(n,t,e){const i=n.slice();return i[16]=t[e],i}function ld(n,t,e){const i=n.slice();return i[19]=t[e],i}function sd(n){let t,e,i,l,s,a=lt(Fl(n[0].controller.debuggingSession.chains)),o=[];for(let c=0;c<a.length;c+=1)o[c]=ad(ld(n,a,c));return{c(){t=k("div"),e=q(`Inspecting chain 
		`),i=k("select");for(let c=0;c<o.length;c+=1)o[c].c();n[2]===void 0&&Yl(()=>n[6].call(i))},m(c,d){T(c,t,d),v(t,e),v(t,i);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(i,null);lo(i,n[2],!0),l||(s=Dt(i,"change",n[6]),l=!0)},p(c,d){if(d&1){a=lt(Fl(c[0].controller.debuggingSession.chains));let r;for(r=0;r<a.length;r+=1){const h=ld(c,a,r);o[r]?o[r].p(h,d):(o[r]=ad(h),o[r].c(),o[r].m(i,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=a.length}d&5&&lo(i,c[2])},d(c){c&&N(t),Jt(o,c),l=!1,s()}}}function ad(n){let t,e=n[19]+"",i,l;return{c(){t=k("option"),i=q(e),t.__value=l=n[19],io(t,t.__value)},m(s,a){T(s,t,a),v(t,i)},p(s,a){a&1&&e!==(e=s[19]+"")&&xt(i,e),a&1&&l!==(l=s[19])&&(t.__value=l,io(t,t.__value))},d(s){s&&N(t)}}}function pf(n){var c;let t,e,i,l,s=lt(n[1]),a=[];for(let d=0;d<s.length;d+=1)a[d]=od(id(n,s,d));let o=((c=n[0].viewState.liveView)==null?void 0:c.variable)!=null&&cd(n);return{c(){t=k("div");for(let d=0;d<a.length;d+=1)a[d].c();e=A(),i=k("div"),o&&o.c(),F(t,"class","nav svelte-101tpk8"),F(i,"class","view")},m(d,r){T(d,t,r);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(t,null);T(d,e,r),T(d,i,r),o&&o.m(i,null),l=!0},p(d,r){var h;if(r&35){s=lt(d[1]);let u;for(u=0;u<s.length;u+=1){const b=id(d,s,u);a[u]?a[u].p(b,r):(a[u]=od(b),a[u].c(),a[u].m(t,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=s.length}((h=d[0].viewState.liveView)==null?void 0:h.variable)!=null?o?(o.p(d,r),r&1&&C(o,1)):(o=cd(d),o.c(),C(o,1),o.m(i,null)):o&&(yt(),M(o,1,1,()=>{o=null}),Wt())},i(d){l||(C(o),l=!0)},o(d){M(o),l=!1},d(d){d&&(N(t),N(e),N(i)),Jt(a,d),o&&o.d()}}}function Gf(n){let t,e,i,l,s,a,o,c,d;return a=new mf({props:{variable:n[0].viewState.liveView.showDetails,selectedChain:n[2],combineVars:n[5]}}),{c(){t=k("div"),e=k("div"),i=k("div"),i.textContent="Back",l=A(),s=k("div"),dt(a.$$.fragment),F(i,"class","nav-item svelte-101tpk8"),F(e,"class","nav svelte-101tpk8"),F(s,"class","graph"),F(t,"class","view")},m(r,h){T(r,t,h),v(t,e),v(e,i),v(t,l),v(t,s),st(a,s,null),o=!0,c||(d=Dt(i,"click",n[7]),c=!0)},p(r,h){const u={};h&1&&(u.variable=r[0].viewState.liveView.showDetails),h&4&&(u.selectedChain=r[2]),a.$set(u)},i(r){o||(C(a.$$.fragment,r),o=!0)},o(r){M(a.$$.fragment,r),o=!1},d(r){r&&N(t),at(a),c=!1,d()}}}function od(n){let t,e=n[16]+"",i,l,s,a;function o(){return n[8](n[16])}return{c(){var c;t=k("div"),i=q(e),l=A(),F(t,"class","nav-item svelte-101tpk8"),me(t,"selected",((c=n[0].viewState.liveView)==null?void 0:c.variable)==n[16])},m(c,d){T(c,t,d),v(t,i),v(t,l),s||(a=Dt(t,"click",o),s=!0)},p(c,d){var r;n=c,d&2&&e!==(e=n[16]+"")&&xt(i,e),d&3&&me(t,"selected",((r=n[0].viewState.liveView)==null?void 0:r.variable)==n[16])},d(c){c&&N(t),s=!1,a()}}}function cd(n){let t,e,i;function l(r,h){return r[4].length>1?ff:Zf}let s=l(n),a=s(n),o=lt(n[3]),c=[];for(let r=0;r<o.length;r+=1)c[r]=dd(nd(n,o,r));const d=r=>M(c[r],1,1,()=>{c[r]=null});return{c(){a.c(),t=A(),e=k("div");for(let r=0;r<c.length;r+=1)c[r].c();F(e,"class","graphs")},m(r,h){a.m(r,h),T(r,t,h),T(r,e,h);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(e,null);i=!0},p(r,h){if(s!==(s=l(r))&&(a.d(1),a=s(r),a&&(a.c(),a.m(t.parentNode,t))),h&45){o=lt(r[3]);let u;for(u=0;u<o.length;u+=1){const b=nd(r,o,u);c[u]?(c[u].p(b,h),C(c[u],1)):(c[u]=dd(b),c[u].c(),C(c[u],1),c[u].m(e,null))}for(yt(),u=o.length;u<c.length;u+=1)d(u);Wt()}},i(r){if(!i){for(let h=0;h<o.length;h+=1)C(c[h]);i=!0}},o(r){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)M(c[h]);i=!1},d(r){r&&(N(t),N(e)),a.d(r),Jt(c,r)}}}function Zf(n){let t;return{c(){t=k("div"),F(t,"class","spacer svelte-101tpk8")},m(e,i){T(e,t,i)},d(e){e&&N(t)}}}function ff(n){let t;return{c(){t=k("div"),F(t,"class","spacer svelte-101tpk8")},m(e,i){T(e,t,i)},d(e){e&&N(t)}}}function dd(n){let t,e,i,l,s,a,o;function c(){return n[9](n[13])}return l=new DZ({props:{variable:n[13],selectedChain:n[2],combineVars:n[5]}}),{c(){t=k("div"),e=k("button"),e.textContent="Details",i=A(),dt(l.$$.fragment)},m(d,r){T(d,t,r),v(t,e),T(d,i,r),st(l,d,r),s=!0,a||(o=Dt(e,"click",c),a=!0)},p(d,r){n=d;const h={};r&8&&(h.variable=n[13]),r&4&&(h.selectedChain=n[2]),l.$set(h)},i(d){s||(C(l.$$.fragment,d),s=!0)},o(d){M(l.$$.fragment,d),s=!1},d(d){d&&(N(t),N(i)),at(l,d),a=!1,o()}}}function Xf(n){var r,h;let t,e,i,l,s,a=(((h=(r=n[0].controller)==null?void 0:r.debuggingSession)==null?void 0:h.chains)??1)>1&&sd(n);const o=[Gf,pf],c=[];function d(u,b){var m;return((m=u[0].viewState.liveView)==null?void 0:m.showDetails)!=null?0:1}return i=d(n),l=c[i]=o[i](n),{c(){t=k("div"),a&&a.c(),e=A(),l.c(),F(t,"class","container")},m(u,b){T(u,t,b),a&&a.m(t,null),v(t,e),c[i].m(t,null),s=!0},p(u,[b]){var p,Z;(((Z=(p=u[0].controller)==null?void 0:p.debuggingSession)==null?void 0:Z.chains)??1)>1?a?a.p(u,b):(a=sd(u),a.c(),a.m(t,e)):a&&(a.d(1),a=null);let m=i;i=d(u),i===m?c[i].p(u,b):(yt(),M(c[m],1,1,()=>{c[m]=null}),Wt(),l=c[i],l?l.p(u,b):(l=c[i]=o[i](u),l.c()),C(l,1),l.m(t,null))},i(u){s||(C(l),s=!0)},o(u){M(l),s=!1},d(u){u&&N(t),a&&a.d(),c[i].d()}}}function yf(n,t,e){var Z;let i;ie(n,ht,G=>e(0,i=G));let l=[],s=[],a=((Z=i.viewState.liveView)==null?void 0:Z.combine)||!1,o=0,c=[],d=[];function r(G){var f;if(!G){e(1,l=[]);return}s=[...new Set(G.flat().flatMap(y=>Object.keys(y.trace_current))??[])],e(1,l=[...new Set(s.map(y=>y.replace(/_\d+/,"")))]),!((f=i.viewState.liveView)!=null&&f.variable)&&l.length>0&&ht.setLiveViewState({variable:l[0],combine:a,showDetails:null})}function h(G,f){let y=new RegExp(`${G}(_\\d+)?`);return e(4,d=s.filter(X=>y.test(X))),f?[G]:d}function u(){o=Mu(this),e(2,o)}const b=()=>ht.setLiveViewState({variable:i.viewState.liveView.variable,combine:i.viewState.liveView.combine,showDetails:null}),m=G=>ht.setLiveViewState({variable:G,combine:a,showDetails:null}),p=G=>ht.setLiveViewState({variable:i.viewState.liveView.variable,combine:i.viewState.liveView.combine,showDetails:G});return n.$$.update=()=>{var G;n.$$.dirty&1&&r((G=i.controller.debuggingSession)==null?void 0:G.trace),n.$$.dirty&1&&i.viewState.liveView!=null&&i.viewState.liveView.variable&&e(3,c=h(i.viewState.liveView.variable,a)),n.$$.dirty&1&&i.viewState.liveView&&ht.setLiveViewState({variable:i.viewState.liveView.variable,combine:a,showDetails:i.viewState.liveView.showDetails})},[i,l,o,c,d,a,u,b,m,p]}class Wf extends Et{constructor(t){super(),Bt(this,t,yf,Xf,Ft,{})}}var ql={exports:{}};ql.exports=wh;ql.exports.addWheelListener=wh;ql.exports.removeWheelListener=gf;function wh(n,t,e){n.addEventListener("wheel",t,e)}function gf(n,t,e){n.removeEventListener("wheel",t,e)}var Lf=ql.exports,ts={exports:{}},xf=4,Rf=.001,Sf=1e-7,Vf=10,yi=11,ul=1/(yi-1),Yf=typeof Float32Array=="function";function Qh(n,t){return 1-3*t+3*n}function jh(n,t){return 3*t-6*n}function Uh(n){return 3*n}function Ql(n,t,e){return((Qh(t,e)*n+jh(t,e))*n+Uh(t))*n}function Oh(n,t,e){return 3*Qh(t,e)*n*n+2*jh(t,e)*n+Uh(t)}function vf(n,t,e,i,l){var s,a,o=0;do a=t+(e-t)/2,s=Ql(a,i,l)-n,s>0?e=a:t=a;while(Math.abs(s)>Sf&&++o<Vf);return a}function kf(n,t,e,i){for(var l=0;l<xf;++l){var s=Oh(t,e,i);if(s===0)return t;var a=Ql(t,e,i)-n;t-=a/s}return t}function Cf(n){return n}var Kf=function(t,e,i,l){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===l)return Cf;for(var s=Yf?new Float32Array(yi):new Array(yi),a=0;a<yi;++a)s[a]=Ql(a*ul,t,i);function o(c){for(var d=0,r=1,h=yi-1;r!==h&&s[r]<=c;++r)d+=ul;--r;var u=(c-s[r])/(s[r+1]-s[r]),b=d+u*ul,m=Oh(b,t,i);return m>=Rf?kf(c,b,t,i):m===0?b:vf(c,d,d+ul,t,i)}return function(d){return d===0?0:d===1?1:Ql(o(d),e,l)}},ri=Kf,rd={ease:ri(.25,.1,.25,1),easeIn:ri(.42,0,1,1),easeOut:ri(0,0,.58,1),easeInOut:ri(.42,0,.58,1),linear:ri(0,0,1,1)};ts.exports=Hf;ts.exports.makeAggregateRaf=Bh;ts.exports.sharedScheduler=Bh();function Hf(n,t,e){var i=Object.create(null),l=Object.create(null);e=e||{};var s=typeof e.easing=="function"?e.easing:rd[e.easing];s||(e.easing&&console.warn("Unknown easing function in amator: "+e.easing),s=rd.ease);var a=typeof e.step=="function"?e.step:hd,o=typeof e.done=="function"?e.done:hd,c=zf(e.scheduler),d=Object.keys(t);d.forEach(function(G){i[G]=n[G],l[G]=t[G]-n[G]});var r=typeof e.duration=="number"?e.duration:400,h=Math.max(1,r*.06),u,b=0;return u=c.next(p),{cancel:m};function m(){c.cancel(u),u=0}function p(){var G=s(b/h);b+=1,Z(G),b<=h?(u=c.next(p),a(n)):(u=0,setTimeout(function(){o(n)},0))}function Z(G){d.forEach(function(f){n[f]=l[f]*G+i[f]})}}function hd(){}function zf(n){if(!n){var t=typeof window<"u"&&window.requestAnimationFrame;return t?If():Mf()}if(typeof n.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof n.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return n}function If(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function Mf(){return{next:function(n){return setTimeout(n,1e3/60)},cancel:function(n){return clearTimeout(n)}}}function Bh(){var n=new Set,t=new Set,e=0;return{next:l,cancel:l,clearAll:i};function i(){n.clear(),t.clear(),cancelAnimationFrame(e),e=0}function l(o){t.add(o),s()}function s(){e||(e=requestAnimationFrame(a))}function a(){e=0;var o=t;t=n,n=o,n.forEach(function(c){c()}),n.clear()}}var Nf=ts.exports,Tf=function(t){Ff(t);var e=Jf(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t};function Jf(n){var t=Object.create(null);return{on:function(e,i,l){if(typeof i!="function")throw new Error("callback is expected to be a function");var s=t[e];return s||(s=t[e]=[]),s.push({callback:i,ctx:l}),n},off:function(e,i){var l=typeof e>"u";if(l)return t=Object.create(null),n;if(t[e]){var s=typeof i!="function";if(s)delete t[e];else for(var a=t[e],o=0;o<a.length;++o)a[o].callback===i&&a.splice(o,1)}return n},fire:function(e){var i=t[e];if(!i)return n;var l;arguments.length>1&&(l=Array.prototype.splice.call(arguments,1));for(var s=0;s<i.length;++s){var a=i[s];a.callback.apply(a.ctx,l)}return n}}}function Ff(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],e=0;e<t.length;++e)if(n.hasOwnProperty(t[e]))throw new Error("Subject cannot be eventified, since it already has property '"+t[e]+"'")}var Pf=wf;function wf(n,t,e){typeof e!="object"&&(e={});var i=typeof e.minVelocity=="number"?e.minVelocity:5,l=typeof e.amplitude=="number"?e.amplitude:.25,s=typeof e.cancelAnimationFrame=="function"?e.cancelAnimationFrame:Qf(),a=typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame:jf(),o,c,d=342,r,h,u,b,m,p,Z,G;return{start:y,stop:W,cancel:f};function f(){s(r),s(G)}function y(){o=n(),b=Z=h=m=0,c=new Date,s(r),s(G),r=a(X)}function X(){var S=Date.now(),g=S-c;c=S;var x=n(),V=x.x-o.x,H=x.y-o.y;o=x;var z=1e3/(1+g);h=.8*V*z+.2*h,m=.8*H*z+.2*m,r=a(X)}function W(){s(r),s(G);var S=n();u=S.x,p=S.y,c=Date.now(),(h<-i||h>i)&&(b=l*h,u+=b),(m<-i||m>i)&&(Z=l*m,p+=Z),G=a(L)}function L(){var S=Date.now()-c,g=!1,x=0,V=0;b&&(x=-b*Math.exp(-S/d),x>.5||x<-.5?g=!0:x=b=0),Z&&(V=-Z*Math.exp(-S/d),V>.5||V<-.5?g=!0:V=Z=0),g&&(t(u+x,p+V),G=a(L))}}function Qf(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function jf(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(n){return setTimeout(n,16)}}var Uf=Of;function Of(n){if(n)return{capture:bd,release:bd};var t,e,i,l=!1;return{capture:s,release:a};function s(o){l=!0,e=window.document.onselectstart,i=window.document.ondragstart,window.document.onselectstart=ud,t=o,t.ondragstart=ud}function a(){l&&(l=!1,window.document.onselectstart=e,t&&(t.ondragstart=i))}}function ud(n){return n.stopPropagation(),!1}function bd(){}var xs,md;function Bf(){if(md)return xs;md=1,xs=n;function n(){this.x=0,this.y=0,this.scale=1}return xs}var bl={exports:{}},pd;function Ef(){if(pd)return bl.exports;pd=1,bl.exports=n,bl.exports.canAttach=t;function n(e,i){if(!t(e))throw new Error("svg element is required for svg.panzoom to work");var l=e.ownerSVGElement;if(!l)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");i.disableKeyboardInteraction||l.setAttribute("tabindex",0);var s={getBBox:o,getScreenCTM:c,getOwner:a,applyTransform:r,initTransform:d};return s;function a(){return l}function o(){var h=e.getBBox();return{left:h.x,top:h.y,width:h.width,height:h.height}}function c(){var h=l.getCTM();return h||l.getScreenCTM()}function d(h){var u=e.getCTM();u===null&&(u=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),h.x=u.e,h.y=u.f,h.scale=u.a,l.removeAttributeNS(null,"viewBox")}function r(h){e.setAttribute("transform","matrix("+h.scale+" 0 0 "+h.scale+" "+h.x+" "+h.y+")")}}function t(e){return e&&e.ownerSVGElement&&e.getCTM}return bl.exports}var ml={exports:{}},Gd;function _f(){if(Gd)return ml.exports;Gd=1,ml.exports=n,ml.exports.canAttach=t;function n(e,i){var l=t(e);if(!l)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var s=e.parentElement;e.scrollTop=0,i.disableKeyboardInteraction||s.setAttribute("tabindex",0);var a={getBBox:c,getOwner:o,applyTransform:d};return a;function o(){return s}function c(){return{left:0,top:0,width:e.clientWidth,height:e.clientHeight}}function d(r){e.style.transformOrigin="0 0 0",e.style.transform="matrix("+r.scale+", 0, 0, "+r.scale+", "+r.x+", "+r.y+")"}}function t(e){return e&&e.parentElement&&e.style}return ml.exports}var Zd=Lf,Rs=Nf,Df=Tf,Af=Pf,Eh=Uf,$f=Eh(),qf=Eh(!0),tX=Bf(),fd=Ef(),Xd=_f(),eX=1,nX=1.75,yd=300,Wd=200,iX=_h;function _h(n,t){t=t||{};var e=t.controller;if(e||(fd.canAttach(n)?e=fd(n,t):Xd.canAttach(n)&&(e=Xd(n,t))),!e)throw new Error("Cannot create panzoom for the current type of dom element");var i=e.getOwner(),l={x:0,y:0},s=!1,a=new tX;e.initTransform&&e.initTransform(a);var o=typeof t.filterKey=="function"?t.filterKey:Pn,c=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,d=t.bounds,r=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,h=typeof t.minZoom=="number"?t.minZoom:0,u=typeof t.boundsPadding=="number"?t.boundsPadding:.05,b=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:nX,m=t.beforeWheel||Pn,p=t.beforeMouseDown||Pn,Z=typeof t.zoomSpeed=="number"?t.zoomSpeed:eX,G=gd(t.transformOrigin),f=t.enableTextSelection?qf:$f;lX(d),t.autocenter&&_t();var y,X=0,W=0,L=0,S=null,g=new Date,x,V=!1,H=!1,z,Y,U,j,O,P;"smoothScroll"in t&&!t.smoothScroll?P=sX():P=Af(on,re,t.smoothScroll);var et,_,E,ot=!1;Na();var B={dispose:ni,moveBy:At,moveTo:We,smoothMoveTo:ge,centerOn:dn,zoomTo:Ei,zoomAbs:le,smoothZoom:Bi,smoothZoomAbs:Yu,showRectangle:wt,pause:Ct,resume:St,isPaused:Pt,getTransform:de,getMinZoom:pe,setMinZoom:Xe,getMaxZoom:ye,setMaxZoom:Se,getTransformOrigin:Ve,setTransformOrigin:we,getZoomSpeed:an,setZoomSpeed:Ge};Df(B);var pt=typeof t.initialX=="number"?t.initialX:a.x,rt=typeof t.initialY=="number"?t.initialY:a.y,Ht=typeof t.initialZoom=="number"?t.initialZoom:a.scale;return(pt!=a.x||rt!=a.y||Ht!=a.scale)&&le(pt,rt,Ht),B;function Ct(){Ta(),ot=!0}function St(){ot&&(Na(),ot=!1)}function Pt(){return ot}function wt(R){var I=i.getBoundingClientRect(),J=ut(I.width,I.height),Q=R.right-R.left,it=R.bottom-R.top;if(!Number.isFinite(Q)||!Number.isFinite(it))throw new Error("Invalid rectangle");var ft=J.x/Q,Xt=J.y/it,Nt=Math.min(ft,Xt);a.x=-(R.left+Q/2)*Nt+J.x/2,a.y=-(R.top+it/2)*Nt+J.y/2,a.scale=Nt}function ut(R,I){if(e.getScreenCTM){var J=e.getScreenCTM(),Q=J.a,it=J.d,ft=J.e,Xt=J.f;l.x=R*Q-ft,l.y=I*it-Xt}else l.x=R,l.y=I;return l}function _t(){var R,I,J=0,Q=0,it=nt();if(it)J=it.left,Q=it.top,R=it.right-it.left,I=it.bottom-it.top;else{var ft=i.getBoundingClientRect();R=ft.width,I=ft.height}var Xt=e.getBBox();if(!(Xt.width===0||Xt.height===0)){var Nt=I/Xt.height,vn=R/Xt.width,rn=Math.min(vn,Nt);a.x=-(Xt.left+Xt.width/2)*rn+R/2+J,a.y=-(Xt.top+Xt.height/2)*rn+I/2+Q,a.scale=rn}}function de(){return a}function pe(){return h}function Xe(R){h=R}function ye(){return r}function Se(R){r=R}function Ve(){return G}function we(R){G=gd(R)}function an(){return Z}function Ge(R){if(!Number.isFinite(R))throw new Error("Zoom speed should be a number");Z=R}function on(){return{x:a.x,y:a.y}}function We(R,I){a.x=R,a.y=I,Qe(),Yn("pan"),ve()}function cn(R,I){We(a.x+R,a.y+I)}function Qe(){var R=nt();if(R){var I=!1,J=Qt(),Q=R.left-J.right;return Q>0&&(a.x+=Q,I=!0),Q=R.right-J.left,Q<0&&(a.x+=Q,I=!0),Q=R.top-J.bottom,Q>0&&(a.y+=Q,I=!0),Q=R.bottom-J.top,Q<0&&(a.y+=Q,I=!0),I}}function nt(){if(d){if(typeof d=="boolean"){var R=i.getBoundingClientRect(),I=R.width,J=R.height;return{left:I*u,top:J*u,right:I*(1-u),bottom:J*(1-u)}}return d}}function Qt(){var R=e.getBBox(),I=Ye(R.left,R.top);return{left:I.x,top:I.y,right:R.width*a.scale+I.x,bottom:R.height*a.scale+I.y}}function Ye(R,I){return{x:R*a.scale+a.x,y:I*a.scale+a.y}}function ve(){s=!0,y=window.requestAnimationFrame(gu)}function ke(R,I,J){if(Ss(R)||Ss(I)||Ss(J))throw new Error("zoom requires valid numbers");var Q=a.scale*J;if(Q<h){if(a.scale===h)return;J=h/a.scale}if(Q>r){if(a.scale===r)return;J=r/a.scale}var it=ut(R,I);if(a.x=it.x-J*(it.x-a.x),a.y=it.y-J*(it.y-a.y),d&&u===1&&h===1)a.scale*=J,Qe();else{var ft=Qe();ft||(a.scale*=J)}Yn("zoom"),ve()}function le(R,I,J){var Q=J/a.scale;ke(R,I,Q)}function dn(R){var I=R.ownerSVGElement;if(!I)throw new Error("ui element is required to be within the scene");var J=R.getBoundingClientRect(),Q=J.left+J.width/2,it=J.top+J.height/2,ft=I.getBoundingClientRect(),Xt=ft.width/2-Q,Nt=ft.height/2-it;At(Xt,Nt,!0)}function ge(R,I){At(R-a.x,I-a.y,!0)}function At(R,I,J){if(!J)return cn(R,I);et&&et.cancel();var Q={x:0,y:0},it={x:R,y:I},ft=0,Xt=0;et=Rs(Q,it,{step:function(Nt){cn(Nt.x-ft,Nt.y-Xt),ft=Nt.x,Xt=Nt.y}})}function re(R,I){_i(),We(R,I)}function ni(){Ta()}function Na(){i.addEventListener("mousedown",Oa,{passive:!1}),i.addEventListener("dblclick",Ua,{passive:!1}),i.addEventListener("touchstart",Fa,{passive:!1}),i.addEventListener("keydown",Ja,{passive:!1}),Zd.addWheelListener(i,Aa,{passive:!1}),ve()}function Ta(){Zd.removeWheelListener(i,Aa),i.removeEventListener("mousedown",Oa),i.removeEventListener("keydown",Ja),i.removeEventListener("dblclick",Ua),i.removeEventListener("touchstart",Fa),y&&(window.cancelAnimationFrame(y),y=0),P.cancel(),_a(),Da(),f.release(),cs()}function gu(){s&&Lu()}function Lu(){s=!1,e.applyTransform(a),Yn("transform"),y=0}function Ja(R){var I=0,J=0,Q=0;if(R.keyCode===38?J=1:R.keyCode===40?J=-1:R.keyCode===37?I=1:R.keyCode===39?I=-1:R.keyCode===189||R.keyCode===109?Q=1:(R.keyCode===187||R.keyCode===107)&&(Q=-1),!o(R,I,J,Q)){if(I||J){R.preventDefault(),R.stopPropagation();var it=i.getBoundingClientRect(),ft=Math.min(it.width,it.height),Xt=.05,Nt=ft*Xt*I,vn=ft*Xt*J;At(Nt,vn)}if(Q){var rn=$a(Q*100),ft=G?li():xu();Ei(ft.x,ft.y,rn)}}}function xu(){var R=i.getBoundingClientRect();return{x:R.width/2,y:R.height/2}}function Fa(R){if(Ru(R),ii(),R.touches.length===1)return Vu(R,R.touches[0]);R.touches.length===2&&(O=ja(R.touches[0],R.touches[1]),E=!0,Pa())}function Ru(R){t.onTouch&&!t.onTouch(R)||(R.stopPropagation(),R.preventDefault())}function Su(R){ii(),!(t.onDoubleClick&&!t.onDoubleClick(R))&&(R.preventDefault(),R.stopPropagation())}function Vu(R){W=new Date;var I=R.touches[0],J=Ce(I);x=J;var Q=ut(J.x,J.y);z=Q.x,Y=Q.y,U=z,j=Y,P.cancel(),Pa()}function Pa(){V||(V=!0,document.addEventListener("touchmove",wa),document.addEventListener("touchend",Oi),document.addEventListener("touchcancel",Oi))}function wa(R){if(R.touches.length===1){R.stopPropagation();var I=R.touches[0],J=Ce(I),Q=ut(J.x,J.y),it=Q.x-z,ft=Q.y-Y;it!==0&&ft!==0&&qa(),z=Q.x,Y=Q.y,At(it,ft)}else if(R.touches.length===2){E=!0;var Xt=R.touches[0],Nt=R.touches[1],vn=ja(Xt,Nt),rn=1+(vn/O-1)*c,to=Ce(Xt),eo=Ce(Nt);if(z=(to.x+eo.x)/2,Y=(to.y+eo.y)/2,G){var J=li();z=J.x,Y=J.y}Ei(z,Y,rn),O=vn,R.stopPropagation(),R.preventDefault()}}function ii(){L&&(clearTimeout(L),L=0)}function Qa(R){if(t.onClick){ii();var I=z-U,J=Y-j,Q=Math.sqrt(I*I+J*J);Q>5||(L=setTimeout(function(){L=0,t.onClick(R)},yd))}}function Oi(R){if(ii(),R.touches.length>0){var I=Ce(R.touches[0]),J=ut(I.x,I.y);z=J.x,Y=J.y}else{var Q=new Date;if(Q-X<yd)if(G){var I=li();Bi(I.x,I.y,b)}else Bi(x.x,x.y,b);else Q-W<Wd&&Qa(R);X=Q,cs(),Da()}}function ja(R,I){var J=R.clientX-I.clientX,Q=R.clientY-I.clientY;return Math.sqrt(J*J+Q*Q)}function Ua(R){Su(R);var I=Ce(R);G&&(I=li()),Bi(I.x,I.y,b)}function Oa(R){if(ii(),!p(R)){if(S=R,g=new Date,V)return R.stopPropagation(),!1;var I=R.button===1&&window.event!==null||R.button===0;if(I){P.cancel();var J=Ce(R),Q=ut(J.x,J.y);return U=z=Q.x,j=Y=Q.y,document.addEventListener("mousemove",Ba),document.addEventListener("mouseup",Ea),f.capture(R.target||R.srcElement),!1}}}function Ba(R){if(!V){qa();var I=Ce(R),J=ut(I.x,I.y),Q=J.x-z,it=J.y-Y;z=J.x,Y=J.y,At(Q,it)}}function Ea(){var R=new Date;R-g<Wd&&Qa(S),f.release(),cs(),_a()}function _a(){document.removeEventListener("mousemove",Ba),document.removeEventListener("mouseup",Ea),H=!1}function Da(){document.removeEventListener("touchmove",wa),document.removeEventListener("touchend",Oi),document.removeEventListener("touchcancel",Oi),H=!1,E=!1,V=!1}function Aa(R){if(!m(R)){P.cancel();var I=R.deltaY;R.deltaMode>0&&(I*=100);var J=$a(I);if(J!==1){var Q=G?li():Ce(R);Ei(Q.x,Q.y,J),R.preventDefault()}}}function Ce(R){var I,J,Q=i.getBoundingClientRect();return I=R.clientX-Q.left,J=R.clientY-Q.top,{x:I,y:J}}function Bi(R,I,J){var Q=a.scale,it={scale:Q},ft={scale:J*Q};P.cancel(),_i(),_=Rs(it,ft,{step:function(Xt){le(R,I,Xt.scale)},done:vu})}function Yu(R,I,J){var Q=a.scale,it={scale:Q},ft={scale:J};P.cancel(),_i(),_=Rs(it,ft,{step:function(Xt){le(R,I,Xt.scale)}})}function li(){var R=i.getBoundingClientRect();return{x:R.width*G.x,y:R.height*G.y}}function Ei(R,I,J){return P.cancel(),_i(),ke(R,I,J)}function _i(){_&&(_.cancel(),_=null)}function $a(R){var I=Math.sign(R),J=Math.min(.25,Math.abs(Z*R/128));return 1-I*J}function qa(){H||(Yn("panstart"),H=!0,P.start())}function cs(){H&&(E||P.stop(),Yn("panend"))}function vu(){Yn("zoomend")}function Yn(R){B.fire(R,B)}}function gd(n){if(n){if(typeof n=="object")return(!Nn(n.x)||!Nn(n.y))&&Ld(n),n;Ld()}}function Ld(n){throw console.error(n),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Pn(){}function lX(n){var t=typeof n;if(!(t==="undefined"||t==="boolean")){var e=Nn(n.left)&&Nn(n.top)&&Nn(n.bottom)&&Nn(n.right);if(!e)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Nn(n){return Number.isFinite(n)}function Ss(n){return Number.isNaN?Number.isNaN(n):n!==n}function sX(){return{start:Pn,stop:Pn,cancel:Pn}}function aX(){if(typeof document>"u")return;var n=document.getElementsByTagName("script");if(!n)return;for(var t,e=0;e<n.length;++e){var i=n[e];if(i.src&&i.src.match(/\bpanzoom(\.min)?\.js/)){t=i;break}}if(!t)return;var l=t.getAttribute("query");if(!l)return;var s=t.getAttribute("name")||"pz",a=Date.now();o();function o(){var r=document.querySelector(l);if(!r){var h=Date.now(),u=h-a;if(u<2e3){setTimeout(o,100);return}console.error("Cannot find the panzoom element",s);return}var b=c(t);console.log(b),window[s]=_h(r,b)}function c(r){for(var h=r.attributes,u={},b=0;b<h.length;++b){var m=h[b],p=d(m);p&&(u[p.name]=p.value)}return u}function d(r){if(r.name){var h=r.name[0]==="p"&&r.name[1]==="z"&&r.name[2]==="-";if(h){var u=r.name.substr(3),b=JSON.parse(r.value);return{name:u,value:b}}}}}aX();const oX=tZ(iX);function cX(n){let t,e,i;return{c(){t=k("button"),t.textContent="Load Graph"},m(l,s){T(l,t,s),e||(i=Dt(t,"click",n[4]),e=!0)},p:w,d(l){l&&N(t),e=!1,i()}}}function dX(n){let t,e,i,l=n[1].controller.modelGraph+"",s,a;return{c(){t=k("button"),t.textContent="Reload Graph",e=A(),i=k("div"),F(i,"class","graph-container svelte-1rtttt"),Ot(i,"max-width","100%")},m(o,c){T(o,t,c),T(o,e,c),T(o,i,c),i.innerHTML=l,n[3](i),s||(a=Dt(t,"click",n[2]),s=!0)},p(o,c){c&2&&l!==(l=o[1].controller.modelGraph+"")&&(i.innerHTML=l)},d(o){o&&(N(t),N(e),N(i)),n[3](null),s=!1,a()}}}function rX(n){let t,e;function i(a,o){return a[1].controller.modelGraph?dX:cX}let l=i(n),s=l(n);return{c(){t=k("div"),e=k("div"),s.c(),Ot(t,"overflow","hidden"),Ot(t,"max-width","100%")},m(a,o){T(a,t,o),v(t,e),s.m(e,null)},p(a,[o]){l===(l=i(a))&&s?s.p(a,o):(s.d(1),s=l(a),s&&(s.c(),s.m(e,null)))},i:w,o:w,d(a){a&&N(t),s.d()}}}function hX(n,t,e){let i;ie(n,ht,r=>e(1,i=r));let l,s=null;function a(){let r=l.querySelector("svg");r&&(r.style.height="100%",r.style.backgroundColor="white");let h=l.querySelectorAll("svg g.node title");s&&s.dispose(),s=oX(l.querySelector("svg > g")),console.log(h);for(let u of h){let b=u.parentElement;b&&(b.style.cursor="pointer",b.onclick=m=>{var Z;let p=(Z=i.controller.randomVariables)==null?void 0:Z.find(G=>{var f;return G.node.node_id.trim()==((f=u.textContent)==null?void 0:f.trim())});p&&Kt.postMessage({command:"gotoline",data:[p.node.line_no-1,p.node.col_offset,p.node.end_line_no-1,p.node.end_col_offset]})})}}const o=()=>Kt.postMessage({command:"generateGraph"});function c(r){Fe[r?"unshift":"push"](()=>{l=r,e(0,l)})}const d=()=>Kt.postMessage({command:"generateGraph"});return n.$$.update=()=>{n.$$.dirty&3&&i.controller.modelGraph&&l&&setTimeout(a,200)},[l,i,o,c,d]}class uX extends Et{constructor(t){super(),Bt(this,t,hX,rX,Ft,{})}}/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const xd={modes:{point(n,t){return Vl(n,t,{intersect:!0})},nearest(n,t,e){return pX(n,t,e)},x(n,t,e){return Vl(n,t,{intersect:e.intersect,axis:"x"})},y(n,t,e){return Vl(n,t,{intersect:e.intersect,axis:"y"})}}};function ka(n,t,e){return(xd.modes[e.mode]||xd.modes.nearest)(n,t,e)}function bX(n,t,e){return e!=="x"&&e!=="y"?n.inRange(t.x,t.y,"x",!0)||n.inRange(t.x,t.y,"y",!0):n.inRange(t.x,t.y,e,!0)}function mX(n,t,e){return e==="x"?{x:n.x,y:t.y}:e==="y"?{x:t.x,y:n.y}:t}function Vl(n,t,e){return n.filter(i=>e.intersect?i.inRange(t.x,t.y):bX(i,t,e.axis))}function pX(n,t,e){let i=Number.POSITIVE_INFINITY;return Vl(n,t,e).reduce((l,s)=>{const a=s.getCenterPoint(),o=mX(t,a,e.axis),c=wn(t,o);return c<i?(l=[s],i=c):c===i&&l.push(s),l},[]).sort((l,s)=>l._index-s._index).slice(0,1)}function Sn(n,t,e){const i=Math.cos(e),l=Math.sin(e),s=t.x,a=t.y;return{x:s+i*(n.x-s)-l*(n.y-a),y:a+l*(n.x-s)+i*(n.y-a)}}const GX=(n,t)=>t>n||n.length>t.length&&n.slice(0,t.length)===t,fn=.001,es=(n,t,e)=>Math.min(e,Math.max(t,n)),Dh=(n,t)=>n.value>=n.start-t&&n.value<=n.end+t;function ZX(n,t,e){for(const i of Object.keys(n))n[i]=es(n[i],t,e);return n}function fX(n,t,e,i){return!n||!t||e<=0?!1:Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<=Math.pow(e+i,2)}function Ah(n,{x:t,y:e,x2:i,y2:l},s,{borderWidth:a,hitTolerance:o}){const c=(a+o)/2,d=n.x>=t-c-fn&&n.x<=i+c+fn,r=n.y>=e-c-fn&&n.y<=l+c+fn;return s==="x"?d:(s==="y"||d)&&r}function $h(n,{rect:t,center:e},i,{rotation:l,borderWidth:s,hitTolerance:a}){const o=Sn(n,e,vt(-l));return Ah(o,t,i,{borderWidth:s,hitTolerance:a})}function Vn(n,t){const{centerX:e,centerY:i}=n.getProps(["centerX","centerY"],t);return{x:e,y:i}}function XX(n,t,e,i=!0){const l=e.split(".");let s=0;for(const a of t.split(".")){const o=l[s++];if(parseInt(a,10)<parseInt(o,10))break;if(GX(o,a)){if(i)throw new Error(`${n} v${e} is not supported. v${t} or newer is required.`);return!1}}return!0}const qh=n=>typeof n=="string"&&n.endsWith("%"),tu=n=>parseFloat(n)/100,eu=n=>es(tu(n),0,1),hi=(n,t)=>({x:n,y:t,x2:n,y2:t,width:0,height:0}),yX={box:n=>hi(n.centerX,n.centerY),doughnutLabel:n=>hi(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>hi(n.centerX,n.centerY),line:n=>hi(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>hi(n.centerX,n.centerY)};function Ca(n,t){return t==="start"?0:t==="end"?n:qh(t)?eu(t)*n:n/2}function en(n,t,e=!0){return typeof t=="number"?t:qh(t)?(e?eu(t):tu(t))*n:n}function WX(n,t){const{x:e,width:i}=n,l=t.textAlign;return l==="center"?e+i/2:l==="end"||l==="right"?e+i:e}function nu(n,t,{borderWidth:e,position:i,xAdjust:l,yAdjust:s},a){const o=$(a),c=t.width+(o?a.width:0)+e,d=t.height+(o?a.height:0)+e,r=Ka(i),h=Rd(n.x,c,l,r.x),u=Rd(n.y,d,s,r.y);return{x:h,y:u,x2:h+c,y2:u+d,width:c,height:d,centerX:h+c/2,centerY:u+d/2}}function Ka(n,t="center"){return $(n)?{x:D(n.x,t),y:D(n.y,t)}:(n=D(n,t),{x:n,y:n})}const iu=(n,t)=>n&&n.autoFit&&t<1;function lu(n,t){const e=n.font,i=mt(e)?e:[e];return iu(n,t)?i.map(function(l){const s=Yt(l);return s.size=Math.floor(l.size*t),s.lineHeight=l.lineHeight,Yt(s)}):i.map(l=>Yt(l))}function su(n){return n&&(ne(n.xValue)||ne(n.yValue))}function Rd(n,t,e=0,i){return n-Ca(t,i)+e}function qn(n,t,e){const i=e.init;if(i){if(i===!0)return ou(t,e)}else return;return gX(n,t,e)}function au(n,t,e){let i=!1;return t.forEach(l=>{ee(n[l])?(i=!0,e[l]=n[l]):ne(e[l])&&delete e[l]}),i}function ou(n,t){const e=t.type||"line";return yX[e](n)}function gX(n,t,e){const i=Gt(e.init,[{chart:n,properties:t,options:e}]);if(i===!0)return ou(t,e);if($(i))return i}const Vs=new Map,LX=n=>isNaN(n)||n<=0,xX=n=>n.reduce(function(t,e){return t+=e.string,t},"");function ns(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object HTMLImageElement]"||t==="[object HTMLCanvasElement]"}}function is(n,{x:t,y:e},i){i&&(n.translate(t,e),n.rotate(vt(i)),n.translate(-t,-e))}function Pe(n,t){if(t&&t.borderWidth)return n.lineCap=t.borderCapStyle||"butt",n.setLineDash(t.borderDash),n.lineDashOffset=t.borderDashOffset,n.lineJoin=t.borderJoinStyle||"miter",n.lineWidth=t.borderWidth,n.strokeStyle=t.borderColor,!0}function ti(n,t){n.shadowColor=t.backgroundShadowColor,n.shadowBlur=t.shadowBlur,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY}function ls(n,t){const e=t.content;if(ns(e))return{width:en(e.width,t.width),height:en(e.height,t.height)};const i=lu(t),l=t.textStrokeWidth,s=mt(e)?e:[e],a=s.join()+xX(i)+l+(n._measureText?"-spriting":"");return Vs.has(a)||Vs.set(a,YX(n,s,i,l)),Vs.get(a)}function cu(n,t,e){const{x:i,y:l,width:s,height:a}=t;n.save(),ti(n,e);const o=Pe(n,e);n.fillStyle=e.backgroundColor,n.beginPath(),Qn(n,{x:i,y:l,w:s,h:a,radius:ZX(Ae(e.borderRadius),0,Math.min(s,a)/2)}),n.closePath(),n.fill(),o&&(n.shadowColor=e.borderShadowColor,n.stroke()),n.restore()}function du(n,t,e,i){const l=e.content;if(ns(l)){n.save(),n.globalAlpha=CX(e.opacity,l.style.opacity),n.drawImage(l,t.x,t.y,t.width,t.height),n.restore();return}const s=mt(l)?l:[l],a=lu(e,i),o=e.color,c=mt(o)?o:[o],d=WX(t,e),r=t.y+e.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=e.textAlign,RX(n,e)&&vX(n,{x:d,y:r},s,a),kX(n,{x:d,y:r},s,{fonts:a,colors:c}),n.restore()}function RX(n,t){if(t.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=t.textStrokeWidth,n.strokeStyle=t.textStrokeColor,!0}function SX(n,t,e,i){const{radius:l,options:s}=t,a=s.pointStyle,o=s.rotation;let c=(o||0)*oa;if(ns(a)){n.save(),n.translate(e,i),n.rotate(c),n.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),n.restore();return}LX(l)||VX(n,{x:e,y:i,radius:l,rotation:o,style:a,rad:c})}function VX(n,{x:t,y:e,radius:i,rotation:l,style:s,rad:a}){let o,c,d,r;switch(n.beginPath(),s){default:n.arc(t,e,i,0,gt),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(a)*i,e-Math.cos(a)*i),a+=Kl,n.lineTo(t+Math.sin(a)*i,e-Math.cos(a)*i),a+=Kl,n.lineTo(t+Math.sin(a)*i,e-Math.cos(a)*i),n.closePath();break;case"rectRounded":r=i*.516,d=i-r,o=Math.cos(a+ue)*d,c=Math.sin(a+ue)*d,n.arc(t-o,e-c,r,a-tt,a-Lt),n.arc(t+c,e-o,r,a-Lt,a),n.arc(t+o,e+c,r,a,a+Lt),n.arc(t-c,e+o,r,a+Lt,a+tt),n.closePath();break;case"rect":if(!l){d=Math.SQRT1_2*i,n.rect(t-d,e-d,2*d,2*d);break}a+=ue;case"rectRot":o=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(t-o,e-c),n.lineTo(t+c,e-o),n.lineTo(t+o,e+c),n.lineTo(t-c,e+o),n.closePath();break;case"crossRot":a+=ue;case"cross":o=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(t-o,e-c),n.lineTo(t+o,e+c),n.moveTo(t+c,e-o),n.lineTo(t-c,e+o);break;case"star":o=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(t-o,e-c),n.lineTo(t+o,e+c),n.moveTo(t+c,e-o),n.lineTo(t-c,e+o),a+=ue,o=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(t-o,e-c),n.lineTo(t+o,e+c),n.moveTo(t+c,e-o),n.lineTo(t-c,e+o);break;case"line":o=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(t-o,e-c),n.lineTo(t+o,e+c);break;case"dash":n.moveTo(t,e),n.lineTo(t+Math.cos(a)*i,e+Math.sin(a)*i);break}n.fill()}function YX(n,t,e,i){n.save();const l=t.length;let s=0,a=i;for(let o=0;o<l;o++){const c=e[Math.min(o,e.length-1)];n.font=c.string;const d=t[o];s=Math.max(s,n.measureText(d).width+i),a+=c.lineHeight}return n.restore(),{width:s,height:a}}function vX(n,{x:t,y:e},i,l){n.beginPath();let s=0;i.forEach(function(a,o){const c=l[Math.min(o,l.length-1)],d=c.lineHeight;n.font=c.string,n.strokeText(a,t,e+d/2+s),s+=d}),n.stroke()}function kX(n,{x:t,y:e},i,{fonts:l,colors:s}){let a=0;i.forEach(function(o,c){const d=s[Math.min(c,s.length-1)],r=l[Math.min(c,l.length-1)],h=r.lineHeight;n.beginPath(),n.font=r.string,n.fillStyle=d,n.fillText(o,t,e+h/2+a),a+=h,n.fill()})}function CX(n,t){const e=tn(n)?n:t;return tn(e)?es(e,0,1):1}const ru=["left","bottom","top","right"];function KX(n,t){const{pointX:e,pointY:i,options:l}=t,s=l.callout,a=s&&s.display&&NX(t,s);if(!a||JX(t,s,a))return;if(n.save(),n.beginPath(),!Pe(n,s))return n.restore();const{separatorStart:c,separatorEnd:d}=HX(t,a),{sideStart:r,sideEnd:h}=IX(t,a,c);(s.margin>0||l.borderWidth===0)&&(n.moveTo(c.x,c.y),n.lineTo(d.x,d.y)),n.moveTo(r.x,r.y),n.lineTo(h.x,h.y);const u=Sn({x:e,y:i},t.getCenterPoint(),vt(-t.rotation));n.lineTo(u.x,u.y),n.stroke(),n.restore()}function HX(n,t){const{x:e,y:i,x2:l,y2:s}=n,a=zX(n,t);let o,c;return t==="left"||t==="right"?(o={x:e+a,y:i},c={x:o.x,y:s}):(o={x:e,y:i+a},c={x:l,y:o.y}),{separatorStart:o,separatorEnd:c}}function zX(n,t){const{width:e,height:i,options:l}=n,s=l.callout.margin+l.borderWidth/2;return t==="right"?e+s:t==="bottom"?i+s:-s}function IX(n,t,e){const{y:i,width:l,height:s,options:a}=n,o=a.callout.start,c=MX(t,a.callout);let d,r;return t==="left"||t==="right"?(d={x:e.x,y:i+en(s,o)},r={x:d.x+c,y:d.y}):(d={x:e.x+en(l,o),y:e.y},r={x:d.x,y:d.y+c}),{sideStart:d,sideEnd:r}}function MX(n,t){const e=t.side;return n==="left"||n==="top"?-e:e}function NX(n,t){const e=t.position;return ru.includes(e)?e:TX(n,t)}function TX(n,t){const{x:e,y:i,x2:l,y2:s,width:a,height:o,pointX:c,pointY:d,centerX:r,centerY:h,rotation:u}=n,b={x:r,y:h},m=t.start,p=en(a,m),Z=en(o,m),G=[e,e+p,e+p,l],f=[i+Z,s,i,s],y=[];for(let X=0;X<4;X++){const W=Sn({x:G[X],y:f[X]},b,vt(u));y.push({position:ru[X],distance:wn(W,{x:c,y:d})})}return y.sort((X,W)=>X.distance-W.distance)[0].position}function JX(n,t,e){const{pointX:i,pointY:l}=n,s=t.margin;let a=i,o=l;return e==="left"?a+=s:e==="right"?a-=s:e==="top"?o+=s:e==="bottom"&&(o-=s),n.inRange(a,o)}const Sd={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function Bn(n,t,e){return t=typeof t=="number"?t:n.parse(t),Rt(t)?n.getPixelForValue(t):e}function Ln(n,t,e){const i=t[e];if(i||e==="scaleID")return i;const l=e.charAt(0),s=Object.values(n).filter(a=>a.axis&&a.axis===l);return s.length?s[0].id:l}function hu(n,t){if(n){const e=n.options.reverse,i=Bn(n,t.min,e?t.end:t.start),l=Bn(n,t.max,e?t.start:t.end);return{start:i,end:l}}}function uu(n,t){const{chartArea:e,scales:i}=n,l=i[Ln(i,t,"xScaleID")],s=i[Ln(i,t,"yScaleID")];let a=e.width/2,o=e.height/2;return l&&(a=Bn(l,t.xValue,l.left+l.width/2)),s&&(o=Bn(s,t.yValue,s.top+s.height/2)),{x:a,y:o}}function Ha(n,t){const e=n.scales,i=e[Ln(e,t,"xScaleID")],l=e[Ln(e,t,"yScaleID")];if(!i&&!l)return{};let{left:s,right:a}=i||n.chartArea,{top:o,bottom:c}=l||n.chartArea;const d=Vd(i,{min:t.xMin,max:t.xMax,start:s,end:a});s=d.start,a=d.end;const r=Vd(l,{min:t.yMin,max:t.yMax,start:c,end:o});return o=r.start,c=r.end,{x:s,y:o,x2:a,y2:c,width:a-s,height:c-o,centerX:s+(a-s)/2,centerY:o+(c-o)/2}}function bu(n,t){if(!su(t)){const e=Ha(n,t);let i=t.radius;(!i||isNaN(i))&&(i=Math.min(e.width,e.height)/2,t.radius=i);const l=i*2,s=e.centerX+t.xAdjust,a=e.centerY+t.yAdjust;return{x:s-i,y:a-i,x2:s+i,y2:a+i,centerX:s,centerY:a,width:l,height:l,radius:i}}return PX(n,t)}function FX(n,t){const{scales:e,chartArea:i}=n,l=e[t.scaleID],s={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return l?wX(l,s,t):QX(e,s,t),s}function mu(n,t){const e=Ha(n,t);return e.initProperties=qn(n,e,t),e.elements=[{type:"label",optionScope:"label",properties:OX(n,e,t),initProperties:e.initProperties}],e}function PX(n,t){const e=uu(n,t),i=t.radius*2;return{x:e.x-t.radius+t.xAdjust,y:e.y-t.radius+t.yAdjust,x2:e.x+t.radius+t.xAdjust,y2:e.y+t.radius+t.yAdjust,centerX:e.x+t.xAdjust,centerY:e.y+t.yAdjust,radius:t.radius,width:i,height:i}}function Vd(n,t){const e=hu(n,t)||t;return{start:Math.min(e.start,e.end),end:Math.max(e.start,e.end)}}function wX(n,t,e){const i=Bn(n,e.value,NaN),l=Bn(n,e.endValue,i);n.isHorizontal()?(t.x=i,t.x2=l):(t.y=i,t.y2=l)}function QX(n,t,e){for(const i of Object.keys(Sd)){const l=n[Ln(n,e,i)];if(l){const{min:s,max:a,start:o,end:c,startProp:d,endProp:r}=Sd[i],h=hu(l,{min:e[s],max:e[a],start:l[o],end:l[c]});t[d]=h.start,t[r]=h.end}}}function jX({properties:n,options:t},e,i,l){const{x:s,x2:a,width:o}=n;return pu({start:s,end:a,size:o,borderWidth:t.borderWidth},{position:i.x,padding:{start:l.left,end:l.right},adjust:t.label.xAdjust,size:e.width})}function UX({properties:n,options:t},e,i,l){const{y:s,y2:a,height:o}=n;return pu({start:s,end:a,size:o,borderWidth:t.borderWidth},{position:i.y,padding:{start:l.top,end:l.bottom},adjust:t.label.yAdjust,size:e.height})}function pu(n,t){const{start:e,end:i,borderWidth:l}=n,{position:s,padding:{start:a,end:o},adjust:c}=t,d=i-l-e-a-o-t.size;return e+l/2+c+Ca(d,s)}function OX(n,t,e){const i=e.label;i.backgroundColor="transparent",i.callout.display=!1;const l=Ka(i.position),s=kt(i.padding),a=ls(n.ctx,i),o=jX({properties:t,options:e},a,l,s),c=UX({properties:t,options:e},a,l,s),d=a.width+s.width,r=a.height+s.height;return{x:o,y:c,x2:o+d,y2:c+r,width:d,height:r,centerX:o+d/2,centerY:c+r/2,rotation:i.rotation}}const _s=["enter","leave"],za=_s.concat("click");function BX(n,t,e){t.listened=au(e,za,t.listeners),t.moveListened=!1,_s.forEach(i=>{ee(e[i])&&(t.moveListened=!0)}),(!t.listened||!t.moveListened)&&t.annotations.forEach(i=>{!t.listened&&ee(i.click)&&(t.listened=!0),t.moveListened||_s.forEach(l=>{ee(i[l])&&(t.listened=!0,t.moveListened=!0)})})}function EX(n,t,e){if(n.listened)switch(t.type){case"mousemove":case"mouseout":return _X(n,t,e);case"click":return DX(n,t,e)}}function _X(n,t,e){if(!n.moveListened)return;let i;t.type==="mousemove"?i=ka(n.visibleElements,t,e.interaction):i=[];const l=n.hovered;n.hovered=i;const s={state:n,event:t};let a=Yd(s,"leave",l,i);return Yd(s,"enter",i,l)||a}function Yd({state:n,event:t},e,i,l){let s;for(const a of i)l.indexOf(a)<0&&(s=Gu(a.options[e]||n.listeners[e],a,t)||s);return s}function DX(n,t,e){const i=n.listeners,l=ka(n.visibleElements,t,e.interaction);let s;for(const a of l)s=Gu(a.options.click||i.click,a,t)||s;return s}function Gu(n,t,e){return Gt(n,[t.$context,e])===!0}const jl=["afterDraw","beforeDraw"];function AX(n,t,e){const i=t.visibleElements;t.hooked=au(e,jl,t.hooks),t.hooked||i.forEach(l=>{t.hooked||jl.forEach(s=>{ee(l.options[s])&&(t.hooked=!0)})})}function vd(n,t,e){if(n.hooked){const i=t.options[e]||n.hooks[e];return Gt(i,[t.$context])}}function $X(n,t,e){const i=iy(n.scales,t,e);let l=kd(t,i,"min","suggestedMin");l=kd(t,i,"max","suggestedMax")||l,l&&ee(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function qX(n,t){for(const e of n)ey(e,t)}function kd(n,t,e,i){if(Rt(t[e])&&!ty(n.options,e,i)){const l=n[e]!==t[e];return n[e]=t[e],l}}function ty(n,t,e){return ne(n[t])||ne(n[e])}function ey(n,t){for(const e of["scaleID","xScaleID","yScaleID"]){const i=Ln(t,n,e);i&&!t[i]&&ny(n,e)&&console.warn(`No scale found with id '${i}' for annotation '${n.id}'`)}}function ny(n,t){if(t==="scaleID")return!0;const e=t.charAt(0);for(const i of["Min","Max","Value"])if(ne(n[e+i]))return!0;return!1}function iy(n,t,e){const i=t.axis,l=t.id,s=i+"ScaleID",a={min:D(t.min,Number.NEGATIVE_INFINITY),max:D(t.max,Number.POSITIVE_INFINITY)};for(const o of e)o.scaleID===l?Cd(o,t,["value","endValue"],a):Ln(n,o,s)===l&&Cd(o,t,[i+"Min",i+"Max",i+"Value"],a);return a}function Cd(n,t,e,i){for(const l of e){const s=n[l];if(ne(s)){const a=t.parse(s);i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}}}class ei extends Mt{inRange(t,e,i,l){const{x:s,y:a}=Sn({x:t,y:e},this.getCenterPoint(l),vt(-this.options.rotation));return Ah({x:s,y:a},this.getProps(["x","y","x2","y2"],l),i,this.options)}getCenterPoint(t){return Vn(this,t)}draw(t){t.save(),is(t,this.getCenterPoint(),this.options.rotation),cu(t,this,this.options),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return mu(t,e)}}ei.id="boxAnnotation";ei.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ei.defaultRoutes={borderColor:"color",backgroundColor:"color"};ei.descriptors={label:{_fallback:!0}};class ss extends Mt{inRange(t,e,i,l){return $h({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],l),center:this.getCenterPoint(l)},i,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return Vn(this,t)}draw(t){const e=this.options;!e.display||!e.content||(dy(t,this),t.save(),is(t,this.getCenterPoint(),this.rotation),du(t,this,e,this._fitRatio),t.restore())}resolveElementProperties(t,e){const i=ly(t,e);if(!i)return{};const{controllerMeta:l,point:s,radius:a}=ay(t,e,i);let o=ls(t.ctx,e);const c=oy(o,a);iu(e,c)&&(o={width:o.width*c,height:o.height*c});const{position:d,xAdjust:r,yAdjust:h}=e,u=nu(s,o,{borderWidth:0,position:d,xAdjust:r,yAdjust:h});return{initProperties:qn(t,u,e),...u,...l,rotation:e.rotation,_fitRatio:c}}}ss.id="doughnutLabelAnnotation";ss.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};ss.defaultRoutes={};function ly(n,t){return n.getSortedVisibleDatasetMetas().reduce(function(e,i){const l=i.controller;return l instanceof Be&&sy(n,t,i.data)&&(!e||l.innerRadius<e.controller.innerRadius)&&l.options.circumference>=90?i:e},void 0)}function sy(n,t,e){if(!t.autoHide)return!0;for(let i=0;i<e.length;i++)if(!e[i].hidden&&n.getDataVisibility(i))return!0}function ay({chartArea:n},t,e){const{left:i,top:l,right:s,bottom:a}=n,{innerRadius:o,offsetX:c,offsetY:d}=e.controller,r=(i+s)/2+c,h=(l+a)/2+d,u={left:Math.max(r-o,i),right:Math.min(r+o,s),top:Math.max(h-o,l),bottom:Math.min(h+o,a)},b={x:(u.left+u.right)/2,y:(u.top+u.bottom)/2},m=t.spacing+t.borderWidth/2,p=o-m,Z=b.y>h,G=Z?l+m:a-m,f=cy(G,r,h,p);return{controllerMeta:{_centerX:r,_centerY:h,_radius:p,_counterclockwise:Z,...f},point:b,radius:Math.min(o,Math.min(u.right-u.left,u.bottom-u.top)/2)}}function oy({width:n,height:t},e){const i=Math.sqrt(Math.pow(n,2)+Math.pow(t,2));return e*2/i}function cy(n,t,e,i){const l=Math.pow(e-n,2),s=Math.pow(i,2),a=t*-2,o=Math.pow(t,2)+l-s,c=Math.pow(a,2)-4*o;if(c<=0)return{_startAngle:0,_endAngle:gt};const d=(-a-Math.sqrt(c))/2,r=(-a+Math.sqrt(c))/2;return{_startAngle:Hl({x:t,y:e},{x:d,y:n}).angle,_endAngle:Hl({x:t,y:e},{x:r,y:n}).angle}}function dy(n,t){const{_centerX:e,_centerY:i,_radius:l,_startAngle:s,_endAngle:a,_counterclockwise:o,options:c}=t;n.save();const d=Pe(n,c);n.fillStyle=c.backgroundColor,n.beginPath(),n.arc(e,i,l,s,a,o),n.closePath(),n.fill(),d&&n.stroke(),n.restore()}class Qi extends Mt{inRange(t,e,i,l){return $h({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],l),center:this.getCenterPoint(l)},i,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return Vn(this,t)}draw(t){const e=this.options,i=!ne(this._visible)||this._visible;!e.display||!e.content||!i||(t.save(),is(t,this.getCenterPoint(),this.rotation),KX(t,this),cu(t,this,e),du(t,ry(this),e),t.restore())}resolveElementProperties(t,e){let i;if(su(e))i=uu(t,e);else{const{centerX:o,centerY:c}=Ha(t,e);i={x:o,y:c}}const l=kt(e.padding),s=ls(t.ctx,e),a=nu(i,s,e,l);return{initProperties:qn(t,a,e),pointX:i.x,pointY:i.y,...a,rotation:e.rotation}}}Qi.id="labelAnnotation";Qi.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Qi.defaultRoutes={borderColor:"color"};function ry({x:n,y:t,width:e,height:i,options:l}){const s=l.borderWidth/2,a=kt(l.padding);return{x:n+a.left+s,y:t+a.top+s,width:e-a.left-a.right-l.borderWidth,height:i-a.top-a.bottom-l.borderWidth}}const Ia=(n,t,e)=>({x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}),Ds=(n,t,e)=>Ia(t,e,Math.abs((n-t.y)/(e.y-t.y))).x,Kd=(n,t,e)=>Ia(t,e,Math.abs((n-t.x)/(e.x-t.x))).y,Wi=n=>n*n,hy=(n,t,{x:e,y:i,x2:l,y2:s},a)=>a==="y"?{start:Math.min(i,s),end:Math.max(i,s),value:t}:{start:Math.min(e,l),end:Math.max(e,l),value:n},Hd=(n,t,e,i)=>(1-i)*(1-i)*n+2*(1-i)*i*t+i*i*e,As=(n,t,e,i)=>({x:Hd(n.x,t.x,e.x,i),y:Hd(n.y,t.y,e.y,i)}),zd=(n,t,e,i)=>2*(1-i)*(t-n)+2*i*(e-t),Id=(n,t,e,i)=>-Math.atan2(zd(n.x,t.x,e.x,i),zd(n.y,t.y,e.y,i))+.5*tt;class ji extends Mt{inRange(t,e,i,l){const s=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y"){const a={mouseX:t,mouseY:e},{path:o,ctx:c}=this;if(o){Pe(c,this.options),c.lineWidth+=this.options.hitTolerance;const{chart:r}=this.$context,h=t*r.currentDevicePixelRatio,u=e*r.currentDevicePixelRatio,b=c.isPointInStroke(o,h,u)||$s(this,a,l);return c.restore(),b}const d=Wi(s);return py(this,a,d,l)||$s(this,a,l)}return uy(this,{mouseX:t,mouseY:e},i,{hitSize:s,useFinalPosition:l})}getCenterPoint(t){return Vn(this,t)}draw(t){const{x:e,y:i,x2:l,y2:s,cp:a,options:o}=this;if(t.save(),!Pe(t,o))return t.restore();ti(t,o);const c=Math.sqrt(Math.pow(l-e,2)+Math.pow(s-i,2));if(o.curve&&a)return Ly(t,this,a,c),t.restore();const{startOpts:d,endOpts:r,startAdjust:h,endAdjust:u}=Zu(this),b=Math.atan2(s-i,l-e);t.translate(e,i),t.rotate(b),t.beginPath(),t.moveTo(0+h,0),t.lineTo(c-u,0),t.shadowColor=o.borderShadowColor,t.stroke(),qs(t,0,h,d),qs(t,c,-u,r),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){const i=FX(t,e),{x:l,y:s,x2:a,y2:o}=i,c=by(i,t.chartArea),d=c?my({x:l,y:s},{x:a,y:o},t.chartArea):{x:l,y:s,x2:a,y2:o,width:Math.abs(a-l),height:Math.abs(o-s)};if(d.centerX=(a+l)/2,d.centerY=(o+s)/2,d.initProperties=qn(t,d,e),e.curve){const h={x:d.x,y:d.y},u={x:d.x2,y:d.y2};d.cp=gy(d,e,wn(h,u))}const r=Gy(t,d,e.label);return r._visible=c,d.elements=[{type:"label",optionScope:"label",properties:r,initProperties:d.initProperties}],d}}ji.id="lineAnnotation";const Md={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};ji.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Md),fill:!1,length:12,start:Object.assign({},Md),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},Qi.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ji.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};ji.defaultRoutes={borderColor:"color"};function uy(n,{mouseX:t,mouseY:e},i,{hitSize:l,useFinalPosition:s}){const a=hy(t,e,n.getProps(["x","y","x2","y2"],s),i);return Dh(a,l)||$s(n,{mouseX:t,mouseY:e},s,i)}function by({x:n,y:t,x2:e,y2:i},{top:l,right:s,bottom:a,left:o}){return!(n<o&&e<o||n>s&&e>s||t<l&&i<l||t>a&&i>a)}function Nd({x:n,y:t},e,{top:i,right:l,bottom:s,left:a}){return n<a&&(t=Kd(a,{x:n,y:t},e),n=a),n>l&&(t=Kd(l,{x:n,y:t},e),n=l),t<i&&(n=Ds(i,{x:n,y:t},e),t=i),t>s&&(n=Ds(s,{x:n,y:t},e),t=s),{x:n,y:t}}function my(n,t,e){const{x:i,y:l}=Nd(n,t,e),{x:s,y:a}=Nd(t,n,e);return{x:i,y:l,x2:s,y2:a,width:Math.abs(s-i),height:Math.abs(a-l)}}function py(n,{mouseX:t,mouseY:e},i=fn,l){const{x:s,y:a,x2:o,y2:c}=n.getProps(["x","y","x2","y2"],l),d=o-s,r=c-a,h=Wi(d)+Wi(r),u=h===0?-1:((t-s)*d+(e-a)*r)/h;let b,m;return u<0?(b=s,m=a):u>1?(b=o,m=c):(b=s+u*d,m=a+u*r),Wi(t-b)+Wi(e-m)<=i}function $s(n,{mouseX:t,mouseY:e},i,l){const s=n.label;return s.options.display&&s.inRange(t,e,l,i)}function Gy(n,t,e){const i=e.borderWidth,l=kt(e.padding),s=ls(n.ctx,e),a=s.width+l.width+i,o=s.height+l.height+i;return fy(t,e,{width:a,height:o,padding:l},n.chartArea)}function Zy(n){const{x:t,y:e,x2:i,y2:l}=n,s=Math.atan2(l-e,i-t);return s>tt/2?s-tt:s<tt/-2?s+tt:s}function fy(n,t,e,i){const{width:l,height:s,padding:a}=e,{xAdjust:o,yAdjust:c}=t,d={x:n.x,y:n.y},r={x:n.x2,y:n.y2},h=t.rotation==="auto"?Zy(n):vt(t.rotation),u=Xy(l,s,h),b=yy(n,t,{labelSize:u,padding:a},i),m=n.cp?As(d,n.cp,r,b):Ia(d,r,b),p={size:u.w,min:i.left,max:i.right,padding:a.left},Z={size:u.h,min:i.top,max:i.bottom,padding:a.top},G=Jd(m.x,p)+o,f=Jd(m.y,Z)+c;return{x:G-l/2,y:f-s/2,x2:G+l/2,y2:f+s/2,centerX:G,centerY:f,pointX:m.x,pointY:m.y,width:l,height:s,rotation:Ul(h)}}function Xy(n,t,e){const i=Math.cos(e),l=Math.sin(e);return{w:Math.abs(n*i)+Math.abs(t*l),h:Math.abs(n*l)+Math.abs(t*i)}}function yy(n,t,e,i){let l;const s=Wy(n,i);return t.position==="start"?l=Td({w:n.x2-n.x,h:n.y2-n.y},e,t,s):t.position==="end"?l=1-Td({w:n.x-n.x2,h:n.y-n.y2},e,t,s):l=Ca(1,t.position),l}function Td(n,t,e,i){const{labelSize:l,padding:s}=t,a=n.w*i.dx,o=n.h*i.dy,c=a>0&&(l.w/2+s.left-i.x)/a,d=o>0&&(l.h/2+s.top-i.y)/o;return es(Math.max(c,d),0,.25)}function Wy(n,t){const{x:e,x2:i,y:l,y2:s}=n,a=Math.min(l,s)-t.top,o=Math.min(e,i)-t.left,c=t.bottom-Math.max(l,s),d=t.right-Math.max(e,i);return{x:Math.min(o,d),y:Math.min(a,c),dx:o<=d?1:-1,dy:a<=c?1:-1}}function Jd(n,t){const{size:e,min:i,max:l,padding:s}=t,a=e/2;return e>l-i?(l+i)/2:(i>=n-s-a&&(n=i+s+a),l<=n+s+a&&(n=l-s-a),n)}function Zu(n){const t=n.options,e=t.arrowHeads&&t.arrowHeads.start,i=t.arrowHeads&&t.arrowHeads.end;return{startOpts:e,endOpts:i,startAdjust:Fd(n,e),endAdjust:Fd(n,i)}}function Fd(n,t){if(!t||!t.display)return 0;const{length:e,width:i}=t,l=n.options.borderWidth/2,s={x:e,y:i+l};return Math.abs(Ds(0,s,{x:0,y:l}))}function qs(n,t,e,i){if(!i||!i.display)return;const{length:l,width:s,fill:a,backgroundColor:o,borderColor:c}=i,d=Math.abs(t-l)+e;n.beginPath(),ti(n,i),Pe(n,i),n.moveTo(d,-s),n.lineTo(t+e,0),n.lineTo(d,s),a===!0?(n.fillStyle=o||c,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=i.borderShadowColor,n.stroke()}function gy(n,t,e){const{x:i,y:l,x2:s,y2:a,centerX:o,centerY:c}=n,d=Math.atan2(a-l,s-i),r=Ka(t.controlPoint,0),h={x:o+en(e,r.x,!1),y:c+en(e,r.y,!1)};return Sn(h,{x:o,y:c},d)}function Pd(n,{x:t,y:e},{angle:i,adjust:l},s){!s||!s.display||(n.save(),n.translate(t,e),n.rotate(i),qs(n,0,-l,s),n.restore())}function Ly(n,t,e,i){const{x:l,y:s,x2:a,y2:o,options:c}=t,{startOpts:d,endOpts:r,startAdjust:h,endAdjust:u}=Zu(t),b={x:l,y:s},m={x:a,y:o},p=Id(b,e,m,0),Z=Id(b,e,m,1)-tt,G=As(b,e,m,h/i),f=As(b,e,m,1-u/i),y=new Path2D;n.beginPath(),y.moveTo(G.x,G.y),y.quadraticCurveTo(e.x,e.y,f.x,f.y),n.shadowColor=c.borderShadowColor,n.stroke(y),t.path=y,t.ctx=n,Pd(n,G,{angle:p,adjust:h},d),Pd(n,f,{angle:Z,adjust:u},r)}class Ui extends Mt{inRange(t,e,i,l){const s=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y")return xy({x:t,y:e},this.getProps(["width","height","centerX","centerY"],l),s,a);const{x:o,y:c,x2:d,y2:r}=this.getProps(["x","y","x2","y2"],l),h=i==="y"?{start:c,end:r}:{start:o,end:d},u=Sn({x:t,y:e},this.getCenterPoint(l),vt(-s));return u[i]>=h.start-a-fn&&u[i]<=h.end+a+fn}getCenterPoint(t){return Vn(this,t)}draw(t){const{width:e,height:i,centerX:l,centerY:s,options:a}=this;t.save(),is(t,this.getCenterPoint(),a.rotation),ti(t,this.options),t.beginPath(),t.fillStyle=a.backgroundColor;const o=Pe(t,a);t.ellipse(l,s,i/2,e/2,tt/2,0,2*tt),t.fill(),o&&(t.shadowColor=a.borderShadowColor,t.stroke()),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return mu(t,e)}}Ui.id="ellipseAnnotation";Ui.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},ei.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Ui.defaultRoutes={borderColor:"color",backgroundColor:"color"};Ui.descriptors={label:{_fallback:!0}};function xy(n,t,e,i){const{width:l,height:s,centerX:a,centerY:o}=t,c=l/2,d=s/2;if(c<=0||d<=0)return!1;const r=vt(e||0),h=Math.cos(r),u=Math.sin(r),b=Math.pow(h*(n.x-a)+u*(n.y-o),2),m=Math.pow(u*(n.x-a)-h*(n.y-o),2);return b/Math.pow(c+i,2)+m/Math.pow(d+i,2)<=1.0001}class as extends Mt{inRange(t,e,i,l){const{x:s,y:a,x2:o,y2:c,width:d}=this.getProps(["x","y","x2","y2","width"],l),r=(this.options.borderWidth+this.options.hitTolerance)/2;return i!=="x"&&i!=="y"?fX({x:t,y:e},this.getCenterPoint(l),d/2,r):Dh(i==="y"?{start:a,end:c,value:e}:{start:s,end:o,value:t},r)}getCenterPoint(t){return Vn(this,t)}draw(t){const e=this.options,i=e.borderWidth;if(e.radius<.1)return;t.save(),t.fillStyle=e.backgroundColor,ti(t,e);const l=Pe(t,e);SX(t,this,this.centerX,this.centerY),l&&!ns(e.pointStyle)&&(t.shadowColor=e.borderShadowColor,t.stroke()),t.restore(),e.borderWidth=i}resolveElementProperties(t,e){const i=bu(t,e);return i.initProperties=qn(t,i,e),i}}as.id="pointAnnotation";as.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};as.defaultRoutes={borderColor:"color",backgroundColor:"color"};class os extends Mt{inRange(t,e,i,l){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&Sy(this.elements,t,e,l);const s=Sn({x:t,y:e},this.getCenterPoint(l),vt(-this.options.rotation)),a=this.elements.map(d=>i==="y"?d.bY:d.bX),o=Math.min(...a),c=Math.max(...a);return s[i]>=o&&s[i]<=c}getCenterPoint(t){return Vn(this,t)}draw(t){const{elements:e,options:i}=this;t.save(),t.beginPath(),t.fillStyle=i.backgroundColor,ti(t,i);const l=Pe(t,i);let s=!0;for(const a of e)s?(t.moveTo(a.x,a.y),s=!1):t.lineTo(a.x,a.y);t.closePath(),t.fill(),l&&(t.shadowColor=i.borderShadowColor,t.stroke()),t.restore()}resolveElementProperties(t,e){const i=bu(t,e),{sides:l,rotation:s}=e,a=[],o=2*tt/l;let c=s*oa;for(let d=0;d<l;d++,c+=o){const r=Ry(i,e,c);r.initProperties=qn(t,i,e),a.push(r)}return i.elements=a,i}}os.id="polygonAnnotation";os.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};os.defaultRoutes={borderColor:"color",backgroundColor:"color"};function Ry({centerX:n,centerY:t},{radius:e,borderWidth:i,hitTolerance:l},s){const a=(i+l)/2,o=Math.sin(s),c=Math.cos(s),d={x:n+o*e,y:t-c*e};return{type:"point",optionScope:"point",properties:{x:d.x,y:d.y,centerX:d.x,centerY:d.y,bX:n+o*(e+a),bY:t-c*(e+a)}}}function Sy(n,t,e,i){let l=!1,s=n[n.length-1].getProps(["bX","bY"],i);for(const a of n){const o=a.getProps(["bX","bY"],i);o.bY>e!=s.bY>e&&t<(s.bX-o.bX)*(e-o.bY)/(s.bY-o.bY)+o.bX&&(l=!l),s=o}return l}const $e={box:ei,doughnutLabel:ss,ellipse:Ui,label:Qi,line:ji,point:as,polygon:os};Object.keys($e).forEach(n=>{Vt.describe(`elements.${$e[n].id}`,{_fallback:"plugins.annotation.common"})});const Vy={update:Object.assign},Yy=za.concat(jl),wd=(n,t)=>$(t)?ea(n,t):n,ta=n=>n==="color"||n==="font";function Ma(n="line"){return $e[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function vy(n,t,e,i){const l=Cy(n,e.animations,i),s=t.annotations,a=zy(t.elements,s);for(let o=0;o<s.length;o++){const c=s[o],d=fu(a,o,c.type),r=c.setContext(Hy(n,d,a,c)),h=d.resolveElementProperties(n,r);h.skip=ky(h),"elements"in h&&(Ky(d,h.elements,r,l),delete h.elements),ne(d.x)||Object.assign(d,h),Object.assign(d,h.initProperties),h.options=Xu(r),l.update(d,h)}}function ky(n){return isNaN(n.x)||isNaN(n.y)}function Cy(n,t,e){return e==="reset"||e==="none"||e==="resize"?Vy:new Za(n,t)}function Ky(n,t,e,i){const l=n.elements||(n.elements=[]);l.length=t.length;for(let s=0;s<t.length;s++){const a=t[s],o=a.properties,c=fu(l,s,a.type,a.initProperties),d=e[a.optionScope].override(a);o.options=Xu(d),i.update(c,o)}}function fu(n,t,e,i){const l=$e[Ma(e)];let s=n[t];return(!s||!(s instanceof l))&&(s=n[t]=new l,Object.assign(s,i)),s}function Xu(n){const t=$e[Ma(n.type)],e={};e.id=n.id,e.type=n.type,e.drawTime=n.drawTime,Object.assign(e,ea(n,t.defaults),ea(n,t.defaultRoutes));for(const i of Yy)e[i]=n[i];return e}function ea(n,t){const e={};for(const i of Object.keys(t)){const l=t[i],s=n[i];ta(i)&&mt(s)?e[i]=s.map(a=>wd(a,l)):e[i]=wd(s,l)}return e}function Hy(n,t,e,i){return t.$context||(t.$context=Object.assign(Object.create(n.getContext()),{element:t,get elements(){return e.filter(l=>l&&l.options)},id:i.id,type:"annotation"}))}function zy(n,t){const e=t.length,i=n.length;if(i<e){const l=e-i;n.splice(i,0,...new Array(l))}else i>e&&n.splice(e,i-e);return n}var Iy="3.1.0";const je=new Map,Qd=n=>n.type!=="doughnutLabel",My=za.concat(jl);var yu={id:"annotation",version:Iy,beforeRegister(){XX("chart.js","4.0",Tt.version)},afterRegister(){Tt.register($e)},afterUnregister(){Tt.unregister($e)},beforeInit(n){je.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,t,e){const i=je.get(n),l=i.annotations=[];let s=e.annotations;$(s)?Object.keys(s).forEach(a=>{const o=s[a];$(o)&&(o.id=a,l.push(o))}):mt(s)&&l.push(...s),qX(l.filter(Qd),n.scales)},afterDataLimits(n,t){const e=je.get(n);$X(n,t.scale,e.annotations.filter(Qd).filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(n,t,e){const i=je.get(n);BX(n,i,e),vy(n,i,e,t.mode),i.visibleElements=i.elements.filter(l=>!l.skip&&l.options.display),AX(n,i,e)},beforeDatasetsDraw(n,t,e){ui(n,"beforeDatasetsDraw",e.clip)},afterDatasetsDraw(n,t,e){ui(n,"afterDatasetsDraw",e.clip)},beforeDatasetDraw(n,t,e){ui(n,t.index,e.clip)},beforeDraw(n,t,e){ui(n,"beforeDraw",e.clip)},afterDraw(n,t,e){ui(n,"afterDraw",e.clip)},beforeEvent(n,t,e){const i=je.get(n);EX(i,t.event,e)&&(t.changed=!0)},afterDestroy(n){je.delete(n)},getAnnotations(n){const t=je.get(n);return t?t.elements:[]},_getAnnotationElementsAtEventForMode(n,t,e){return ka(n,t,e)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!My.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,t)=>`elements.${$e[Ma(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:ta,_fallback:!0},_indexable:ta}},additionalOptionScopes:[""]};function ui(n,t,e){const{ctx:i,chartArea:l}=n,s=je.get(n);e&&Ji(i,l);const a=Ny(s.visibleElements,t).sort((o,c)=>o.element.options.z-c.element.options.z);for(const o of a)Ty(i,l,s,o);e&&Fi(i)}function Ny(n,t){const e=[];for(const i of n)if(i.options.drawTime===t&&e.push({element:i,main:!0}),i.elements&&i.elements.length)for(const l of i.elements)l.options.display&&l.options.drawTime===t&&e.push({element:l});return e}function Ty(n,t,e,i){const l=i.element;i.main?(vd(e,l,"beforeDraw"),l.draw(n,t),vd(e,l,"afterDraw")):l.draw(n,t)}function Jy(n){let t,e,i;return{c(){t=k("div"),e=k("div"),i=k("canvas"),Ot(i,"width","100%"),Ot(i,"height","100%"),F(i,"id","traceGraph-"+Wa.next().value),F(e,"class","single-graph svelte-znvfgs"),F(t,"class","chart-container svelte-znvfgs")},m(l,s){T(l,t,s),v(t,e),v(e,i),n[7](i)},p:w,i:w,o:w,d(l){l&&N(t),n[7](null)}}}function Fy(n,t,e){let i;ie(n,ht,p=>e(6,i=p)),Tt.register(yu);let{variable:l}=t,{rhats:s}=t,{selectedChain:a=0}=t,{rhatThreshold:o=1.01}=t,c=null,d=null,r=null,h=!1;na(()=>{r!=null&&clearInterval(r),d!=null&&(d.destroy(),d=null)});let u=()=>{if(!i.controller.debuggingSession||!l)return;let p=[{label:`${l} partial-chain-RHat Chain ${a}`,data:s.map(f=>f.rhat),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1,pointStyle:!1,borderWidth:1}],Z={labels:s.map(f=>f.draw),datasets:p},G={type:"line",data:Z,options:{animation:{duration:0},plugins:{annotation:{annotations:[{type:"line",xMin:0,xMax:s.length,yMin:o,yMax:o,value:o,borderColor:"rgb(255, 62, 62)",borderWidth:1,label:{content:"<= 1.01",display:!0,position:"end",opacity:.6,backgroundColor:"rgb(0,0,0,0)",color:"rgb(255, 62, 62)"}}]}}}};d==null?setTimeout(()=>{d=new Tt(c,G)},100):(d.data=Z,d.update())};function b(){e(5,h=!0),r!=null&&(r=null),r=setInterval(u,3e3),u()}function m(p){Fe[p?"unshift":"push"](()=>{c=p,e(0,c)})}return n.$$set=p=>{"variable"in p&&e(1,l=p.variable),"rhats"in p&&e(2,s=p.rhats),"selectedChain"in p&&e(3,a=p.selectedChain),"rhatThreshold"in p&&e(4,o=p.rhatThreshold)},n.$$.update=()=>{n.$$.dirty&98&&i.controller.debuggingSession&&!h&&l&&b(),n.$$.dirty&8&&u(),n.$$.dirty&2&&u(),n.$$.dirty&4&&u()},[c,l,s,a,o,h,i,m]}class Wu extends Et{constructor(t){super(),Bt(this,t,Fy,Jy,Ft,{variable:1,rhats:2,selectedChain:3,rhatThreshold:4})}}function jd(n,t,e){const i=n.slice();return i[5]=t[e],i}function Ud(n,t,e){const i=n.slice();return i[8]=t[e],i}function Od(n,t,e){const i=n.slice();return i[8]=t[e],i}function Bd(n){let t,e,i,l,s,a=n[0].issue+"",o,c,d,r,h=n[0].solution!=null&&Ed(n);return{c(){t=k("div"),e=k("div"),e.innerHTML='<span class="svelte-9c44bo"></span>',i=A(),l=k("div"),s=q("Issue: "),o=q(a),c=A(),h&&h.c(),F(e,"class","collapse svelte-9c44bo"),me(e,"open",n[2]),F(l,"class","title svelte-9c44bo"),F(t,"class","header svelte-9c44bo")},m(u,b){T(u,t,b),v(t,e),v(t,i),v(t,l),v(l,s),v(l,o),v(t,c),h&&h.m(t,null),d||(r=Dt(t,"click",n[3]),d=!0)},p(u,b){b&4&&me(e,"open",u[2]),b&1&&a!==(a=u[0].issue+"")&&xt(o,a),u[0].solution!=null?h?h.p(u,b):(h=Ed(u),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},d(u){u&&N(t),h&&h.d(),d=!1,r()}}}function Ed(n){let t,e,i=n[0].solution+"",l;return{c(){t=k("div"),e=q("Suggestion: "),l=q(i),F(t,"class","solution svelte-9c44bo")},m(s,a){T(s,t,a),v(t,e),v(t,l)},p(s,a){a&1&&i!==(i=s[0].solution+"")&&xt(l,i)},d(s){s&&N(t)}}}function _d(n){let t,e,i=lt(n[0].blocks),l=[];for(let a=0;a<i.length;a+=1)l[a]=$d(jd(n,i,a));const s=a=>M(l[a],1,1,()=>{l[a]=null});return{c(){t=k("div");for(let a=0;a<l.length;a+=1)l[a].c();F(t,"class","details")},m(a,o){T(a,t,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);e=!0},p(a,o){if(o&3){i=lt(a[0].blocks);let c;for(c=0;c<i.length;c+=1){const d=jd(a,i,c);l[c]?(l[c].p(d,o),C(l[c],1)):(l[c]=$d(d),l[c].c(),C(l[c],1),l[c].m(t,null))}for(yt(),c=i.length;c<l.length;c+=1)s(c);Wt()}},i(a){if(!e){for(let o=0;o<i.length;o+=1)C(l[o]);e=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)M(l[o]);e=!1},d(a){a&&N(t),Jt(l,a)}}}function Py(n){let t,e=JSON.stringify(n[5])+"",i;return{c(){t=k("div"),i=q(e)},m(l,s){T(l,t,s),v(t,i)},p(l,s){s&1&&e!==(e=JSON.stringify(l[5])+"")&&xt(i,e)},i:w,o:w,d(l){l&&N(t)}}}function wy(n){let t,e,i;function l(){return n[4](n[5])}return{c(){t=k("button"),t.textContent=`Show me where
			`},m(s,a){T(s,t,a),e||(i=Dt(t,"click",l),e=!0)},p(s,a){n=s},i:w,o:w,d(s){s&&N(t),e=!1,i()}}}function Qy(n){let t,e,i=n[5].value+"",l;return{c(){t=k("div"),e=new Zr(!1),l=A(),e.a=l,F(t,"class","code svelte-9c44bo")},m(s,a){T(s,t,a),e.m(i,t),v(t,l)},p(s,a){a&1&&i!==(i=s[5].value+"")&&e.p(i)},i:w,o:w,d(s){s&&N(t)}}}function jy(n){let t,e,i=n[5].value+"",l,s;return{c(){t=k("div"),e=k("div"),l=q(i),s=A(),F(t,"class","ppl-info svelte-9c44bo")},m(a,o){T(a,t,o),v(t,e),v(e,l),v(t,s)},p(a,o){o&1&&i!==(i=a[5].value+"")&&xt(l,i)},i:w,o:w,d(a){a&&N(t)}}}function Uy(n){let t,e=n[5].value+"";return{c(){t=k("div")},m(i,l){T(i,t,l),t.innerHTML=e},p(i,l){l&1&&e!==(e=i[5].value+"")&&(t.innerHTML=e)},i:w,o:w,d(i){i&&N(t)}}}function Oy(n){let t,e,i,l;const s=[nW,eW,tW,qy,$y,Ay,Dy],a=[];function o(c,d){return c[5].value.chart=="trace"?0:c[5].value.chart=="trace-grid"?1:c[5].value.chart=="acf"?2:c[5].value.chart=="pairplot"?3:c[5].value.chart=="rank-grid"?4:c[5].value.chart=="trace-burnin-rhats"?5:6}return t=o(n),e=a[t]=s[t](n),{c(){e.c(),i=xn()},m(c,d){a[t].m(c,d),T(c,i,d),l=!0},p(c,d){let r=t;t=o(c),t===r?a[t].p(c,d):(yt(),M(a[r],1,1,()=>{a[r]=null}),Wt(),e=a[t],e?e.p(c,d):(e=a[t]=s[t](c),e.c()),C(e,1),e.m(i.parentNode,i))},i(c){l||(C(e),l=!0)},o(c){M(e),l=!1},d(c){c&&N(i),a[t].d(c)}}}function By(n){let t;return{c(){t=k("div"),Ot(t,"height","8px")},m(e,i){T(e,t,i)},p:w,i:w,o:w,d(e){e&&N(t)}}}function Ey(n){let t,e=n[5].value+"",i;return{c(){t=k("div"),i=q(e),F(t,"class","bold")},m(l,s){T(l,t,s),v(t,i)},p(l,s){s&1&&e!==(e=l[5].value+"")&&xt(i,e)},i:w,o:w,d(l){l&&N(t)}}}function _y(n){let t,e=n[5].value+"",i;return{c(){t=k("div"),i=q(e)},m(l,s){T(l,t,s),v(t,i)},p(l,s){s&1&&e!==(e=l[5].value+"")&&xt(i,e)},i:w,o:w,d(l){l&&N(t)}}}function Dy(n){let t,e=JSON.stringify(n[5])+"",i,l;return{c(){t=k("div"),i=q(e),l=A()},m(s,a){T(s,t,a),v(t,i),v(t,l)},p(s,a){a&1&&e!==(e=JSON.stringify(s[5])+"")&&xt(i,e)},i:w,o:w,d(s){s&&N(t)}}}function Ay(n){let t,e,i,l,s,a;return e=new ln({props:{variable:n[5].value.variable,combineVars:!1,selectedChain:n[5].value.chain}}),l=new Wu({props:{variable:n[5].value.variable,rhats:n[5].value.rhatData,rhatThreshold:n[5].value.target,selectedChain:n[5].value.chain}}),{c(){t=k("div"),dt(e.$$.fragment),i=A(),dt(l.$$.fragment),s=A(),F(t,"class","chart-grid svelte-9c44bo")},m(o,c){T(o,t,c),st(e,t,null),v(t,i),st(l,t,null),v(t,s),a=!0},p(o,c){const d={};c&1&&(d.variable=o[5].value.variable),c&1&&(d.selectedChain=o[5].value.chain),e.$set(d);const r={};c&1&&(r.variable=o[5].value.variable),c&1&&(r.rhats=o[5].value.rhatData),c&1&&(r.rhatThreshold=o[5].value.target),c&1&&(r.selectedChain=o[5].value.chain),l.$set(r)},i(o){a||(C(e.$$.fragment,o),C(l.$$.fragment,o),a=!0)},o(o){M(e.$$.fragment,o),M(l.$$.fragment,o),a=!1},d(o){o&&N(t),at(e),at(l)}}}function $y(n){let t,e,i,l=lt(n[1]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Dd(Ud(n,l,o));const a=o=>M(s[o],1,1,()=>{s[o]=null});return{c(){t=k("div");for(let o=0;o<s.length;o+=1)s[o].c();e=A(),F(t,"class","chart-grid svelte-9c44bo")},m(o,c){T(o,t,c);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null);v(t,e),i=!0},p(o,c){if(c&3){l=lt(o[1]);let d;for(d=0;d<l.length;d+=1){const r=Ud(o,l,d);s[d]?(s[d].p(r,c),C(s[d],1)):(s[d]=Dd(r),s[d].c(),C(s[d],1),s[d].m(t,e))}for(yt(),d=l.length;d<s.length;d+=1)a(d);Wt()}},i(o){if(!i){for(let c=0;c<l.length;c+=1)C(s[c]);i=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)M(s[c]);i=!1},d(o){o&&N(t),Jt(s,o)}}}function qy(n){let t,e;return t=new va({props:{variable1:n[5].value.variable1,variable2:n[5].value.variable2,selectedChain:n[5].value.chain??0}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable1=i[5].value.variable1),l&1&&(s.variable2=i[5].value.variable2),l&1&&(s.selectedChain=i[5].value.chain??0),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function tW(n){let t,e;return t=new Ya({props:{autocorr:n[5].value.corr}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.autocorr=i[5].value.corr),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function eW(n){let t,e,i,l=lt(n[1]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Ad(Od(n,l,o));const a=o=>M(s[o],1,1,()=>{s[o]=null});return{c(){t=k("div");for(let o=0;o<s.length;o+=1)s[o].c();e=A(),F(t,"class","chart-grid svelte-9c44bo")},m(o,c){T(o,t,c);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null);v(t,e),i=!0},p(o,c){if(c&3){l=lt(o[1]);let d;for(d=0;d<l.length;d+=1){const r=Od(o,l,d);s[d]?(s[d].p(r,c),C(s[d],1)):(s[d]=Ad(r),s[d].c(),C(s[d],1),s[d].m(t,e))}for(yt(),d=l.length;d<s.length;d+=1)a(d);Wt()}},i(o){if(!i){for(let c=0;c<l.length;c+=1)C(s[c]);i=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)M(s[c]);i=!1},d(o){o&&N(t),Jt(s,o)}}}function nW(n){let t,e,i,l;return e=new ln({props:{variable:n[5].value.variable,combineVars:!1,selectedChain:n[5].value.chain}}),{c(){t=k("div"),dt(e.$$.fragment),i=A(),F(t,"class","chart-contain svelte-9c44bo")},m(s,a){T(s,t,a),st(e,t,null),v(t,i),l=!0},p(s,a){const o={};a&1&&(o.variable=s[5].value.variable),a&1&&(o.selectedChain=s[5].value.chain),e.$set(o)},i(s){l||(C(e.$$.fragment,s),l=!0)},o(s){M(e.$$.fragment,s),l=!1},d(s){s&&N(t),at(e)}}}function Dd(n){let t,e;return t=new _n({props:{variable:n[5].value.variable,selectedChain:n[8],combineVars:!1,rankplot:!0}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[5].value.variable),l&2&&(s.selectedChain=i[8]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function Ad(n){let t,e;return t=new ln({props:{variable:n[5].value.variable,combineVars:!1,selectedChain:n[8]}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[5].value.variable),l&2&&(s.selectedChain=i[8]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function $d(n){let t,e,i,l;const s=[_y,Ey,By,Oy,Uy,jy,Qy,wy,Py],a=[];function o(c,d){return c[5].type==zt.Text?0:c[5].type==zt.TextBold?1:c[5].type==zt.Space?2:c[5].type==zt.Plot?3:c[5].type==zt.Html?4:c[5].type==zt.PPLInfo?5:c[5].type==zt.Code?6:c[5].type==zt.ShowMeWhere?7:8}return t=o(n),e=a[t]=s[t](n),{c(){e.c(),i=xn()},m(c,d){a[t].m(c,d),T(c,i,d),l=!0},p(c,d){let r=t;t=o(c),t===r?a[t].p(c,d):(yt(),M(a[r],1,1,()=>{a[r]=null}),Wt(),e=a[t],e?e.p(c,d):(e=a[t]=s[t](c),e.c()),C(e,1),e.m(i.parentNode,i))},i(c){l||(C(e),l=!0)},o(c){M(e),l=!1},d(c){c&&N(i),a[t].d(c)}}}function iW(n){let t,e,i,l=n[0].issue!=null&&Bd(n),s=n[2]&&_d(n);return{c(){t=k("div"),l&&l.c(),e=A(),s&&s.c(),F(t,"class","cause svelte-9c44bo")},m(a,o){T(a,t,o),l&&l.m(t,null),v(t,e),s&&s.m(t,null),i=!0},p(a,[o]){a[0].issue!=null?l?l.p(a,o):(l=Bd(a),l.c(),l.m(t,e)):l&&(l.d(1),l=null),a[2]?s?(s.p(a,o),o&4&&C(s,1)):(s=_d(a),s.c(),C(s,1),s.m(t,null)):s&&(yt(),M(s,1,1,()=>{s=null}),Wt())},i(a){i||(C(s),i=!0)},o(a){M(s),i=!1},d(a){a&&N(t),l&&l.d(),s&&s.d()}}}function lW(n,t,e){let{cause:i}=t,{chains:l}=t,s=i.issue==null;const a=()=>e(2,s=!s),o=c=>Kt.postMessage({command:"gotoline",data:[c.value.warning.child.node.line_no-1,c.value.warning.child.node.col_offset,c.value.warning.child.node.end_line_no-1,c.value.warning.child.node.end_col_offset]});return n.$$set=c=>{"cause"in c&&e(0,i=c.cause),"chains"in c&&e(1,l=c.chains)},[i,l,s,a,o]}class sW extends Et{constructor(t){super(),Bt(this,t,lW,iW,Ft,{cause:0,chains:1})}}function qd(n,t,e){const i=n.slice();return i[6]=t[e],i}function tr(n,t,e){const i=n.slice();return i[9]=t[e],i}function er(n,t,e){const i=n.slice();return i[12]=t[e],i}function nr(n,t,e){const i=n.slice();return i[15]=t[e],i}function ir(n,t,e){const i=n.slice();return i[15]=t[e],i}function lr(n){let t,e,i=lt(n[0]),l=[];for(let a=0;a<i.length;a+=1)l[a]=rr(qd(n,i,a));const s=a=>M(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=xn()},m(a,o){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,o);T(a,t,o),e=!0},p(a,o){if(o&7){i=lt(a[0]);let c;for(c=0;c<i.length;c+=1){const d=qd(a,i,c);l[c]?(l[c].p(d,o),C(l[c],1)):(l[c]=rr(d),l[c].c(),C(l[c],1),l[c].m(t.parentNode,t))}for(yt(),c=i.length;c<l.length;c+=1)s(c);Wt()}},i(a){if(!e){for(let o=0;o<i.length;o+=1)C(l[o]);e=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)M(l[o]);e=!1},d(a){a&&N(t),Jt(l,a)}}}function sr(n){let t,e=n[6].variable+"",i;return{c(){t=k("h3"),i=q(e)},m(l,s){T(l,t,s),v(t,i)},p(l,s){s&1&&e!==(e=l[6].variable+"")&&xt(i,e)},d(l){l&&N(t)}}}function aW(n){let t=JSON.stringify(n[12])+"",e;return{c(){e=q(t)},m(i,l){T(i,e,l)},p(i,l){l&1&&t!==(t=JSON.stringify(i[12])+"")&&xt(e,t)},i:w,o:w,d(i){i&&N(e)}}}function oW(n){let t,e,i;function l(){return n[5](n[12])}return{c(){t=k("button"),t.textContent="Show me where"},m(s,a){T(s,t,a),e||(i=Dt(t,"click",l),e=!0)},p(s,a){n=s},i:w,o:w,d(s){s&&N(t),e=!1,i()}}}function cW(n){let t,e=n[12].value+"";return{c(){t=k("div"),F(t,"class","code svelte-zka833")},m(i,l){T(i,t,l),t.innerHTML=e},p(i,l){l&1&&e!==(e=i[12].value+"")&&(t.innerHTML=e)},i:w,o:w,d(i){i&&N(t)}}}function dW(n){let t,e=n[12].value+"",i;return{c(){t=new Zr(!1),i=xn(),t.a=i},m(l,s){t.m(e,l,s),T(l,i,s)},p(l,s){s&1&&e!==(e=l[12].value+"")&&t.p(e)},i:w,o:w,d(l){l&&(N(i),t.d())}}}function rW(n){let t,e,i,l;const s=[yW,XW,fW,ZW,GW,pW,mW],a=[];function o(c,d){return c[12].value.chart=="trace"?0:c[12].value.chart=="trace-grid"?1:c[12].value.chart=="acf"?2:c[12].value.chart=="pairplot"?3:c[12].value.chart=="rank-grid"?4:c[12].value.chart=="burnin-rhat"?5:6}return t=o(n),e=a[t]=s[t](n),{c(){e.c(),i=xn()},m(c,d){a[t].m(c,d),T(c,i,d),l=!0},p(c,d){let r=t;t=o(c),t===r?a[t].p(c,d):(yt(),M(a[r],1,1,()=>{a[r]=null}),Wt(),e=a[t],e?e.p(c,d):(e=a[t]=s[t](c),e.c()),C(e,1),e.m(i.parentNode,i))},i(c){l||(C(e),l=!0)},o(c){M(e),l=!1},d(c){c&&N(i),a[t].d(c)}}}function hW(n){let t;return{c(){t=k("div"),Ot(t,"height","8px")},m(e,i){T(e,t,i)},p:w,i:w,o:w,d(e){e&&N(t)}}}function uW(n){let t,e=n[12].value+"",i;return{c(){t=k("div"),i=q(e),F(t,"class","bold")},m(l,s){T(l,t,s),v(t,i)},p(l,s){s&1&&e!==(e=l[12].value+"")&&xt(i,e)},i:w,o:w,d(l){l&&N(t)}}}function bW(n){let t=n[12].value+"",e;return{c(){e=q(t)},m(i,l){T(i,e,l)},p(i,l){l&1&&t!==(t=i[12].value+"")&&xt(e,t)},i:w,o:w,d(i){i&&N(e)}}}function mW(n){let t=JSON.stringify(n[12])+"",e;return{c(){e=q(t)},m(i,l){T(i,e,l)},p(i,l){l&1&&t!==(t=JSON.stringify(i[12])+"")&&xt(e,t)},i:w,o:w,d(i){i&&N(e)}}}function pW(n){let t,e;return t=new Wu({props:{variable:n[12].value.variable,rhats:n[12].value.data,rhatThreshold:n[12].value.target,selectedChain:n[12].value.chain}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[12].value.variable),l&1&&(s.rhats=i[12].value.data),l&1&&(s.rhatThreshold=i[12].value.target),l&1&&(s.selectedChain=i[12].value.chain),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function GW(n){let t,e,i=lt(n[2]),l=[];for(let a=0;a<i.length;a+=1)l[a]=ar(nr(n,i,a));const s=a=>M(l[a],1,1,()=>{l[a]=null});return{c(){t=k("div");for(let a=0;a<l.length;a+=1)l[a].c();F(t,"class","chart-grid svelte-zka833")},m(a,o){T(a,t,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);e=!0},p(a,o){if(o&5){i=lt(a[2]);let c;for(c=0;c<i.length;c+=1){const d=nr(a,i,c);l[c]?(l[c].p(d,o),C(l[c],1)):(l[c]=ar(d),l[c].c(),C(l[c],1),l[c].m(t,null))}for(yt(),c=i.length;c<l.length;c+=1)s(c);Wt()}},i(a){if(!e){for(let o=0;o<i.length;o+=1)C(l[o]);e=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)M(l[o]);e=!1},d(a){a&&N(t),Jt(l,a)}}}function ZW(n){let t,e;return t=new va({props:{variable1:n[12].value.variable1,variable2:n[12].value.variable2,selectedChain:n[12].value.chain??0}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable1=i[12].value.variable1),l&1&&(s.variable2=i[12].value.variable2),l&1&&(s.selectedChain=i[12].value.chain??0),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function fW(n){let t,e;return t=new Ya({props:{autocorr:n[12].value.corr}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.autocorr=i[12].value.corr),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function XW(n){let t,e,i=lt(n[2]),l=[];for(let a=0;a<i.length;a+=1)l[a]=or(ir(n,i,a));const s=a=>M(l[a],1,1,()=>{l[a]=null});return{c(){t=k("div");for(let a=0;a<l.length;a+=1)l[a].c();F(t,"class","chart-grid svelte-zka833")},m(a,o){T(a,t,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);e=!0},p(a,o){if(o&5){i=lt(a[2]);let c;for(c=0;c<i.length;c+=1){const d=ir(a,i,c);l[c]?(l[c].p(d,o),C(l[c],1)):(l[c]=or(d),l[c].c(),C(l[c],1),l[c].m(t,null))}for(yt(),c=i.length;c<l.length;c+=1)s(c);Wt()}},i(a){if(!e){for(let o=0;o<i.length;o+=1)C(l[o]);e=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)M(l[o]);e=!1},d(a){a&&N(t),Jt(l,a)}}}function yW(n){let t,e,i;return e=new ln({props:{variable:n[12].value.variable,combineVars:!1,selectedChain:n[12].value.chain}}),{c(){t=k("div"),dt(e.$$.fragment),F(t,"class","chart-contain svelte-zka833")},m(l,s){T(l,t,s),st(e,t,null),i=!0},p(l,s){const a={};s&1&&(a.variable=l[12].value.variable),s&1&&(a.selectedChain=l[12].value.chain),e.$set(a)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),i=!1},d(l){l&&N(t),at(e)}}}function ar(n){let t,e;return t=new _n({props:{variable:n[12].value.variable,selectedChain:n[15],combineVars:!1,rankplot:!0}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[12].value.variable),l&4&&(s.selectedChain=i[15]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function or(n){let t,e;return t=new ln({props:{variable:n[12].value.variable,combineVars:!1,selectedChain:n[15]}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.variable=i[12].value.variable),l&4&&(s.selectedChain=i[15]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function cr(n){let t,e,i,l;const s=[bW,uW,hW,rW,dW,cW,oW,aW],a=[];function o(c,d){return c[12].type==zt.Text?0:c[12].type==zt.TextBold?1:c[12].type==zt.Space?2:c[12].type==zt.Plot?3:c[12].type==zt.Html?4:c[12].type==zt.Code?5:c[12].type==zt.ShowMeWhere?6:7}return t=o(n),e=a[t]=s[t](n),{c(){e.c(),i=xn()},m(c,d){a[t].m(c,d),T(c,i,d),l=!0},p(c,d){let r=t;t=o(c),t===r?a[t].p(c,d):(yt(),M(a[r],1,1,()=>{a[r]=null}),Wt(),e=a[t],e?e.p(c,d):(e=a[t]=s[t](c),e.c()),C(e,1),e.m(i.parentNode,i))},i(c){l||(C(e),l=!0)},o(c){M(e),l=!1},d(c){c&&N(i),a[t].d(c)}}}function dr(n){let t,e;return t=new sW({props:{cause:n[9],chains:n[2]}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.cause=i[9]),l&4&&(s.chains=i[2]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function rr(n){let t,e,i,l,s,a=n[1].length>1&&sr(n),o=lt(n[6].mainBlock),c=[];for(let b=0;b<o.length;b+=1)c[b]=cr(er(n,o,b));const d=b=>M(c[b],1,1,()=>{c[b]=null});let r=lt(n[6].blocks),h=[];for(let b=0;b<r.length;b+=1)h[b]=dr(tr(n,r,b));const u=b=>M(h[b],1,1,()=>{h[b]=null});return{c(){a&&a.c(),t=A(),e=k("div");for(let b=0;b<c.length;b+=1)c[b].c();i=A();for(let b=0;b<h.length;b+=1)h[b].c();l=A(),F(e,"class","warning svelte-zka833")},m(b,m){a&&a.m(b,m),T(b,t,m),T(b,e,m);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);v(e,i);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(e,null);v(e,l),s=!0},p(b,m){if(b[1].length>1?a?a.p(b,m):(a=sr(b),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),m&5){o=lt(b[6].mainBlock);let p;for(p=0;p<o.length;p+=1){const Z=er(b,o,p);c[p]?(c[p].p(Z,m),C(c[p],1)):(c[p]=cr(Z),c[p].c(),C(c[p],1),c[p].m(e,i))}for(yt(),p=o.length;p<c.length;p+=1)d(p);Wt()}if(m&5){r=lt(b[6].blocks);let p;for(p=0;p<r.length;p+=1){const Z=tr(b,r,p);h[p]?(h[p].p(Z,m),C(h[p],1)):(h[p]=dr(Z),h[p].c(),C(h[p],1),h[p].m(e,l))}for(yt(),p=r.length;p<h.length;p+=1)u(p);Wt()}},i(b){if(!s){for(let m=0;m<o.length;m+=1)C(c[m]);for(let m=0;m<r.length;m+=1)C(h[m]);s=!0}},o(b){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)M(c[m]);h=h.filter(Boolean);for(let m=0;m<h.length;m+=1)M(h[m]);s=!1},d(b){b&&(N(t),N(e)),a&&a.d(b),Jt(c,b),Jt(h,b)}}}function WW(n){let t,e,i,l,s,a,o=n[0][0].baseVariable+"",c,d,r,h=n[0].length+"",u,b,m=n[0].length>1?"Warnings":"Warning",p,Z,G,f,y,X=n[3]&&lr(n);return{c(){t=k("div"),e=k("div"),i=k("div"),i.innerHTML='<span class="svelte-zka833"></span>',l=A(),s=k("div"),a=k("h2"),c=q(o),d=q(": "),r=k("div"),u=q(h),b=A(),p=q(m),Z=A(),X&&X.c(),F(i,"class","collapse svelte-zka833"),me(i,"open",n[3]),F(s,"class","title svelte-zka833"),F(e,"class","header svelte-zka833")},m(W,L){T(W,t,L),v(t,e),v(e,i),v(e,l),v(e,s),v(s,a),v(a,c),v(a,d),v(s,r),v(r,u),v(r,b),v(r,p),v(t,Z),X&&X.m(t,null),G=!0,f||(y=Dt(e,"click",n[4]),f=!0)},p(W,[L]){(!G||L&8)&&me(i,"open",W[3]),(!G||L&1)&&o!==(o=W[0][0].baseVariable+"")&&xt(c,o),(!G||L&1)&&h!==(h=W[0].length+"")&&xt(u,h),(!G||L&1)&&m!==(m=W[0].length>1?"Warnings":"Warning")&&xt(p,m),W[3]?X?(X.p(W,L),L&8&&C(X,1)):(X=lr(W),X.c(),C(X,1),X.m(t,null)):X&&(yt(),M(X,1,1,()=>{X=null}),Wt())},i(W){G||(C(X),G=!0)},o(W){M(X),G=!1},d(W){W&&N(t),X&&X.d(),f=!1,y()}}}function gW(n,t,e){let{warn:i}=t,{warnings:l}=t,{chains:s}=t,a=!1;const o=()=>e(3,a=!a),c=d=>Kt.postMessage({command:"gotoline",data:[d.value.warning.child.node.line_no-1,d.value.warning.child.node.col_offset,d.value.warning.child.node.end_line_no-1,d.value.warning.child.node.end_col_offset]});return n.$$set=d=>{"warn"in d&&e(0,i=d.warn),"warnings"in d&&e(1,l=d.warnings),"chains"in d&&e(2,s=d.chains)},[i,l,s,a,o,c]}class LW extends Et{constructor(t){super(),Bt(this,t,gW,WW,Ft,{warn:0,warnings:1,chains:2})}}function hr(n,t,e){const i=n.slice();return i[9]=t[e],i}function xW(n){let t;return{c(){t=k("div"),t.innerHTML="<span>No Warnings</span>",F(t,"class","no-warnings")},m(e,i){T(e,t,i)},p:w,d(e){e&&N(t)}}}function RW(n){let t,e,i,l,s,a,o;return{c(){t=k("div"),e=k("span"),i=q(n[1]),l=A(),s=k("button"),s.textContent="Update",F(t,"class","warnings-changed svelte-1asl3ao")},m(c,d){T(c,t,d),v(t,e),v(e,i),v(t,l),v(t,s),a||(o=Dt(s,"click",n[3]),a=!0)},p(c,d){d&2&&xt(i,c[1])},d(c){c&&N(t),a=!1,o()}}}function ur(n){let t,e;return t=new LW({props:{warn:n[9],warnings:n[0],chains:n[2]}}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},p(i,l){const s={};l&1&&(s.warn=i[9]),l&1&&(s.warnings=i[0]),l&4&&(s.chains=i[2]),t.$set(s)},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function SW(n){let t,e,i;function l(r,h){if(r[1])return RW;if(r[0].length==0)return xW}let s=l(n),a=s&&s(n),o=lt(n[0]),c=[];for(let r=0;r<o.length;r+=1)c[r]=ur(hr(n,o,r));const d=r=>M(c[r],1,1,()=>{c[r]=null});return{c(){t=k("div"),a&&a.c(),e=A();for(let r=0;r<c.length;r+=1)c[r].c()},m(r,h){T(r,t,h),a&&a.m(t,null),v(t,e);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(t,null);i=!0},p(r,[h]){if(s===(s=l(r))&&a?a.p(r,h):(a&&a.d(1),a=s&&s(r),a&&(a.c(),a.m(t,e))),h&5){o=lt(r[0]);let u;for(u=0;u<o.length;u+=1){const b=hr(r,o,u);c[u]?(c[u].p(b,h),C(c[u],1)):(c[u]=ur(b),c[u].c(),C(c[u],1),c[u].m(t,null))}for(yt(),u=o.length;u<c.length;u+=1)d(u);Wt()}},i(r){if(!i){for(let h=0;h<o.length;h+=1)C(c[h]);i=!0}},o(r){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)M(c[h]);i=!1},d(r){r&&N(t),a&&a.d(),Jt(c,r)}}}function Ys(n){const t=Object.groupBy(n,i=>i.baseVariable);return console.log(t,Object.keys(t)),Object.keys(t).map(i=>t[i].toSorted((l,s)=>s.severity-l.severity)).toSorted((i,l)=>l[0].severity-i[0].severity)}function VW(n,t,e){let i,l;ie(n,ht,h=>e(5,l=h));let s=[],a=[],o=null;function c(h){var u;if(((u=l.controller.debuggingSession)==null?void 0:u.trace[0].length)==0){e(0,s=[]),e(1,o=null);return}if(a=Ys(h),JSON.stringify(a)!=JSON.stringify(s)){let b=a.reduce((m,p)=>m+p.length,0)-s.reduce((m,p)=>m+p.length,0);e(1,o=b<0?"There are fewer warnings now":b>0?"We found new Warnings":"Warnings have changed")}}function d(){e(1,o=null),ht.acceptWarningsChange()}s=Ys(l.warnings);let r=[];return n.$$.update=()=>{var h,u;n.$$.dirty&32&&e(0,s=Ys(l.warnings)),n.$$.dirty&32&&c(l.incomingWarnings),n.$$.dirty&32&&e(2,i=[...Fl(((u=(h=l.controller)==null?void 0:h.debuggingSession)==null?void 0:u.chains)??1)]),n.$$.dirty&17&&s.length!=r.length&&e(4,r=new Array(s.length).fill(!1))},[s,o,i,d,r,l]}class YW extends Et{constructor(t){super(),Bt(this,t,VW,SW,Ft,{})}}function br(n){let t,e=n[0].controller.debuggingSession&&mr(n);return{c(){t=k("div"),e&&e.c(),F(t,"class","progressbar")},m(i,l){T(i,t,l),e&&e.m(t,null)},p(i,l){i[0].controller.debuggingSession?e?e.p(i,l):(e=mr(i),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(i){i&&N(t),e&&e.d()}}}function mr(n){let t,e,i,l=(100*n[1]/(n[0].controller.debuggingSession.totalIteration*n[0].controller.debuggingSession.chains)).toFixed(0)+"",s,a,o,c,d=n[0].controller.debuggingSession.totalIteration*n[0].controller.debuggingSession.chains+"",r,h;return{c(){t=k("div"),e=k("div"),i=k("div"),s=q(l),a=q("% ("),o=q(n[1]),c=q(" / "),r=q(d),h=q(")"),F(i,"class","progress-bar-text svelte-1yly4r7"),F(e,"class","progress-bar svelte-1yly4r7"),Ot(e,"width",n[1]/(n[0].controller.debuggingSession.totalIteration*n[0].controller.debuggingSession.chains)*100+"%"),F(t,"class","progress-container svelte-1yly4r7")},m(u,b){T(u,t,b),v(t,e),v(e,i),v(i,s),v(i,a),v(i,o),v(i,c),v(i,r),v(i,h)},p(u,b){b&3&&l!==(l=(100*u[1]/(u[0].controller.debuggingSession.totalIteration*u[0].controller.debuggingSession.chains)).toFixed(0)+"")&&xt(s,l),b&2&&xt(o,u[1]),b&1&&d!==(d=u[0].controller.debuggingSession.totalIteration*u[0].controller.debuggingSession.chains+"")&&xt(r,d),b&3&&Ot(e,"width",u[1]/(u[0].controller.debuggingSession.totalIteration*u[0].controller.debuggingSession.chains)*100+"%")},d(u){u&&N(t)}}}function vW(n){let t,e;return t=new Wf({}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function kW(n){let t,e;return t=new YW({}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function CW(n){let t,e;return t=new nf({}),{c(){dt(t.$$.fragment)},m(i,l){st(t,i,l),e=!0},i(i){e||(C(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){at(t,i)}}}function KW(n){let t;return{c(){t=k("div"),t.textContent="Waiting for first results..."},m(e,i){T(e,t,i)},i:w,o:w,d(e){e&&N(t)}}}function HW(n){let t,e,i,l,s,a;return{c(){t=k("div"),t.textContent="Nothing to see yet",e=A(),i=k("div"),l=k("button"),l.textContent="Start Debugging"},m(o,c){T(o,t,c),T(o,e,c),T(o,i,c),v(i,l),s||(a=Dt(l,"click",n[6]),s=!0)},i:w,o:w,d(o){o&&(N(t),N(e),N(i)),s=!1,a()}}}function zW(n){let t,e,i;return e=new uX({}),{c(){t=k("div"),dt(e.$$.fragment),F(t,"class","graph svelte-1yly4r7")},m(l,s){T(l,t,s),st(e,t,null),i=!0},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),i=!1},d(l){l&&N(t),at(e)}}}function IW(n){let t,e,i,l,s,a,o,c,d=n[2]?`(${n[2]})`:"",r,h,u,b,m,p,Z,G,f,y,X=n[0].controller.debuggingSession!=null&&br(n);const W=[zW,HW,KW,CW,kW,vW],L=[];function S(g,x){return x&1&&(m=null),g[0].viewState.navPage=="model"?0:g[0].controller.debuggingSession==null?1:(m==null&&(m=!g[0].controller.debuggingSession.trace.reduce(NW,0)),m?2:g[0].viewState.navPage=="board"?3:g[0].viewState.navPage=="warnings"?4:5)}return p=S(n,-1),Z=L[p]=W[p](n),{c(){t=k("div"),e=k("div"),i=k("div"),i.textContent="Model",l=A(),s=k("div"),s.textContent="Live Debugging",a=A(),o=k("div"),c=q("Warnings "),r=q(d),h=A(),X&&X.c(),u=A(),b=k("main"),Z.c(),F(i,"class","nav-item svelte-1yly4r7"),me(i,"selected",n[0].viewState.navPage=="model"),F(s,"class","nav-item svelte-1yly4r7"),me(s,"selected",n[0].viewState.navPage=="debugger"),F(o,"class","nav-item svelte-1yly4r7"),me(o,"selected",n[0].viewState.navPage=="warnings"),F(e,"class","nav svelte-1yly4r7"),F(t,"class","page svelte-1yly4r7")},m(g,x){T(g,t,x),v(t,e),v(e,i),v(e,l),v(e,s),v(e,a),v(e,o),v(o,c),v(o,r),v(t,h),X&&X.m(t,null),v(t,u),v(t,b),L[p].m(b,null),G=!0,f||(y=[Dt(i,"click",n[3]),Dt(s,"click",n[4]),Dt(o,"click",n[5])],f=!0)},p(g,[x]){(!G||x&1)&&me(i,"selected",g[0].viewState.navPage=="model"),(!G||x&1)&&me(s,"selected",g[0].viewState.navPage=="debugger"),(!G||x&4)&&d!==(d=g[2]?`(${g[2]})`:"")&&xt(r,d),(!G||x&1)&&me(o,"selected",g[0].viewState.navPage=="warnings"),g[0].controller.debuggingSession!=null?X?X.p(g,x):(X=br(g),X.c(),X.m(t,u)):X&&(X.d(1),X=null);let V=p;p=S(g,x),p!==V&&(yt(),M(L[V],1,1,()=>{L[V]=null}),Wt(),Z=L[p],Z||(Z=L[p]=W[p](g),Z.c()),C(Z,1),Z.m(b,null))},i(g){G||(C(Z),G=!0)},o(g){M(Z),G=!1},d(g){g&&N(t),X&&X.d(),L[p].d(),f=!1,En(y)}}}function MW(n){const t=Object.groupBy(n,e=>e.baseVariable);return console.log(t,Object.keys(t)),Object.keys(t).map(e=>t[e].toSorted((i,l)=>l.severity-i.severity))}const NW=(n,t)=>n+t.length;function TW(n,t,e){var h;let i;ie(n,ht,u=>e(0,i=u)),Tt.register(yu,ch),window.addEventListener("message",u=>{const b=u.data;switch(b.command){case"setState":ht.setState(JSON.parse(b.data)),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID});break;case"setStateFunnel":ht.setState(JSON.parse(b.data),1),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID});break;case"setStateClean":ht.setState(JSON.parse(b.data),2),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID});break;case"first":ht.setModel(JSON.parse(b.data)),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID});break;case"second":ht.setTrace(JSON.parse(b.data)),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID});break;case"addTraceItem":ht.addTraceItem(JSON.parse(b.data)),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID});break;case"addTraceBatch":ht.addTraceBatch(JSON.parse(b.data)),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID});break;case"start":ht.setDebuggingSession(JSON.parse(b.data)),Kt.postMessage({command:"confirmReceive",MESSAGE_ID:b.MESSAGE_ID}),Kt.postMessage({command:"generateGraph"});break}});function l(u,b){u&&[...new Set(u.flat().flatMap(m=>Object.keys(m.trace_current).map(Z=>Z.replace(/_\d+/,"")))??[])]}console.log((h=i.controller.debuggingSession)==null?void 0:h.trace);let s=0,a=0;const o=()=>ht.setNavSelectet("model"),c=()=>ht.setNavSelectet("debugger"),d=()=>{ht.setNavSelectet("warnings"),ht.acceptWarningsChange()},r=()=>Kt.postMessage({command:"debugFile"});return n.$$.update=()=>{var u,b;n.$$.dirty&1&&l((u=i.controller.debuggingSession)==null?void 0:u.trace),n.$$.dirty&1&&e(1,s=((b=i.controller.debuggingSession)==null?void 0:b.trace.reduce((m,p)=>m+p.length,0))??0),n.$$.dirty&1&&e(2,a=MW(i.incomingWarnings).reduce((m,p)=>m+p.length,0))},[i,s,a,o,c,d,r]}class JW extends Et{constructor(t){super(),Bt(this,t,TW,IW,Ft,{})}}new JW({target:document.getElementById("app")});
